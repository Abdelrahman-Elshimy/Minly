2021-11-03 10:40:05.374 +02:00 [INF] Application Is Starting
2021-11-03 10:40:10.740 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-03 10:40:15.874 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-03 10:40:15.874 +02:00 [INF] Hosting environment: Development
2021-11-03 10:40:15.875 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-03 10:40:16.095 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-03 10:40:16.496 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 418.8809ms
2021-11-03 10:40:17.018 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-03 10:40:17.292 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 274.3597ms
2021-11-03 10:40:32.554 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/api/Star?PageNumber=1&PageSize=10 - -
2021-11-03 10:40:32.573 +02:00 [INF] No cached response available for this request.
2021-11-03 10:40:32.614 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 10:40:32.629 +02:00 [INF] No saved response found in store.
2021-11-03 10:40:32.629 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 10:40:32.631 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 10:40:32.631 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 10:40:32.631 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 10:40:33.278 +02:00 [INF] Executing endpoint 'Minly.Controllers.StarController.GetStars (Minly)'
2021-11-03 10:40:33.335 +02:00 [INF] Route matched with {action = "GetStars", controller = "Star"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStars(Minly.Core.Models.RequestParams) on controller Minly.Controllers.StarController (Minly).
2021-11-03 10:40:37.627 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 10:40:38.704 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Stars] AS [s]
2021-11-03 10:40:38.784 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results.
2021-11-03 10:40:38.784 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results.
2021-11-03 10:40:38.884 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
2021-11-03 10:40:39.006 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Description_ar], [t].[Image], [t].[Name], [t].[Name_ar], [t].[Rate], [t].[ResponseTime], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Logo], [t0].[Name], [t0].[Name_ar], [t0].[ServicesId], [t0].[StarsId], [t1].[Id], [t1].[Name], [t1].[CategoriesId], [t1].[StarsId]
FROM (
    SELECT [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime]
    FROM [Stars] AS [s]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [s1].[Id], [s1].[Description], [s1].[Description_ar], [s1].[Logo], [s1].[Name], [s1].[Name_ar], [s0].[ServicesId], [s0].[StarsId]
    FROM [ServiceStar] AS [s0]
    INNER JOIN [Services] AS [s1] ON [s0].[ServicesId] = [s1].[Id]
) AS [t0] ON [t].[Id] = [t0].[StarsId]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[Name], [c].[CategoriesId], [c].[StarsId]
    FROM [CategoryStar] AS [c]
    INNER JOIN [Categories] AS [c0] ON [c].[CategoriesId] = [c0].[Id]
) AS [t1] ON [t].[Id] = [t1].[StarsId]
ORDER BY [t].[Id], [t0].[ServicesId], [t0].[StarsId], [t0].[Id], [t1].[CategoriesId], [t1].[StarsId], [t1].[Id]
2021-11-03 10:40:39.089 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Minly.Core.DTOs.StarDTO, Minly.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-03 10:40:39.301 +02:00 [INF] Executed action Minly.Controllers.StarController.GetStars (Minly) in 5961.95ms
2021-11-03 10:40:39.302 +02:00 [INF] Executed endpoint 'Minly.Controllers.StarController.GetStars (Minly)'
2021-11-03 10:40:39.305 +02:00 [INF] Generating expiration headers.
2021-11-03 10:40:39.307 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 08:42:39 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 10:40:39.309 +02:00 [INF] Generating Validation headers.
2021-11-03 10:40:39.313 +02:00 [INF] Validation headers generated. ETag: Strong, "A5FFE0A952B6EE89BF3566E96E67750B". Last-Modified: Wed, 03 Nov 2021 08:40:39 GMT
2021-11-03 10:40:39.313 +02:00 [INF] Generating Vary header.
2021-11-03 10:40:39.313 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 10:40:39.339 +02:00 [INF] The response could not be cached for this request.
2021-11-03 10:40:39.346 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/api/Star?PageNumber=1&PageSize=10 - - - 200 1402 application/json;+charset=utf-8 6792.2300ms
2021-11-03 10:46:17.936 +02:00 [INF] Application Is Starting
2021-11-03 10:46:20.607 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-03 10:46:21.298 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-03 10:46:21.298 +02:00 [INF] Hosting environment: Development
2021-11-03 10:46:21.298 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-03 10:46:21.351 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-03 10:46:21.596 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 244.5880ms
2021-11-03 10:46:21.842 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-03 10:46:22.035 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 193.3764ms
2021-11-03 10:46:38.401 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/api/Event?PageNumber=1&PageSize=10 - -
2021-11-03 10:46:38.416 +02:00 [INF] No cached response available for this request.
2021-11-03 10:46:38.434 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 10:46:38.443 +02:00 [INF] No saved response found in store.
2021-11-03 10:46:38.443 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 10:46:38.445 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 10:46:38.445 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 10:46:38.445 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 10:46:39.162 +02:00 [INF] Executing endpoint 'Minly.Controllers.EventController.GetEvents (Minly)'
2021-11-03 10:46:39.205 +02:00 [INF] Route matched with {action = "GetEvents", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEvents(Minly.Core.Models.RequestParams) on controller Minly.Controllers.EventController (Minly).
2021-11-03 10:46:42.811 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 10:46:43.865 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Events] AS [e]
2021-11-03 10:46:43.943 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results.
2021-11-03 10:46:43.944 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results.
2021-11-03 10:46:44.048 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
2021-11-03 10:46:44.157 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Date], [t].[Description], [t].[Description_ar], [t].[EventTypeId], [t].[Image], [t].[Name], [t].[Name_ar], [t].[Rate], [t].[Status], [e0].[Id], [e0].[Name], [e0].[Name_ar], [e1].[Id], [e1].[Description], [e1].[Description_ar], [e1].[EventId], [e1].[Name], [e1].[Name_ar], [e1].[Price], [e2].[Id], [e2].[Description], [e2].[Description_ar], [e2].[EventId], [e2].[EventMembershipId], [e2].[Link], [e2].[Name], [e2].[Name_ar], [s].[Id], [s].[EventId], [s].[Logo], [s].[Name], [s].[Name_ar], [e3].[Id], [e3].[ApiUserId], [e3].[EventId], [e3].[Rate]
FROM (
    SELECT [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status]
    FROM [Events] AS [e]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [EventTypes] AS [e0] ON [t].[EventTypeId] = [e0].[Id]
LEFT JOIN [EventMemberships] AS [e1] ON [t].[Id] = [e1].[EventId]
LEFT JOIN [EventVideos] AS [e2] ON [t].[Id] = [e2].[EventId]
LEFT JOIN [Sponsors] AS [s] ON [t].[Id] = [s].[EventId]
LEFT JOIN [EventRates] AS [e3] ON [t].[Id] = [e3].[EventId]
ORDER BY [t].[Id], [e0].[Id], [e1].[Id], [e2].[Id], [s].[Id], [e3].[Id]
2021-11-03 10:46:44.251 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Minly.Core.DTOs.EventDTO, Minly.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-03 10:46:44.497 +02:00 [INF] Executed action Minly.Controllers.EventController.GetEvents (Minly) in 5287.7507ms
2021-11-03 10:46:44.498 +02:00 [INF] Executed endpoint 'Minly.Controllers.EventController.GetEvents (Minly)'
2021-11-03 10:46:44.504 +02:00 [INF] Generating expiration headers.
2021-11-03 10:46:44.506 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 08:48:44 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 10:46:44.507 +02:00 [INF] Generating Validation headers.
2021-11-03 10:46:44.510 +02:00 [INF] Validation headers generated. ETag: Strong, "14BE98F32C1AD469E4334AC189322037". Last-Modified: Wed, 03 Nov 2021 08:46:44 GMT
2021-11-03 10:46:44.510 +02:00 [INF] Generating Vary header.
2021-11-03 10:46:44.510 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 10:46:44.528 +02:00 [INF] The response could not be cached for this request.
2021-11-03 10:46:44.536 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/api/Event?PageNumber=1&PageSize=10 - - - 200 2004 application/json;+charset=utf-8 6136.1671ms
2021-11-03 10:47:16.144 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/api/Event/1 - -
2021-11-03 10:47:16.145 +02:00 [INF] No cached response available for this request.
2021-11-03 10:47:16.145 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 10:47:16.145 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 10:47:16.145 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 10:47:16.145 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 10:47:16.145 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 10:47:16.145 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 10:47:16.169 +02:00 [INF] Executing endpoint 'Minly.Controllers.EventController.GetEvent (Minly)'
2021-11-03 10:47:16.172 +02:00 [INF] Route matched with {action = "GetEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEvent(Int32) on controller Minly.Controllers.EventController (Minly).
2021-11-03 10:47:16.205 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 10:47:16.217 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
2021-11-03 10:47:16.499 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Date], [t].[Description], [t].[Description_ar], [t].[EventTypeId], [t].[Image], [t].[Name], [t].[Name_ar], [t].[Rate], [t].[Status], [t].[Id0], [t].[Name0], [t].[Name_ar0], [e1].[Id], [e1].[Description], [e1].[Description_ar], [e1].[EventId], [e1].[Name], [e1].[Name_ar], [e1].[Price], [e2].[Id], [e2].[Description], [e2].[Description_ar], [e2].[EventId], [e2].[EventMembershipId], [e2].[Link], [e2].[Name], [e2].[Name_ar], [s].[Id], [s].[EventId], [s].[Logo], [s].[Name], [s].[Name_ar], [e3].[Id], [e3].[ApiUserId], [e3].[EventId], [e3].[Rate]
FROM (
    SELECT TOP(1) [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status], [e0].[Id] AS [Id0], [e0].[Name] AS [Name0], [e0].[Name_ar] AS [Name_ar0]
    FROM [Events] AS [e]
    INNER JOIN [EventTypes] AS [e0] ON [e].[EventTypeId] = [e0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [EventMemberships] AS [e1] ON [t].[Id] = [e1].[EventId]
LEFT JOIN [EventVideos] AS [e2] ON [t].[Id] = [e2].[EventId]
LEFT JOIN [Sponsors] AS [s] ON [t].[Id] = [s].[EventId]
LEFT JOIN [EventRates] AS [e3] ON [t].[Id] = [e3].[EventId]
ORDER BY [t].[Id], [t].[Id0], [e1].[Id], [e2].[Id], [s].[Id], [e3].[Id]
2021-11-03 10:47:16.516 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2021-11-03 10:47:16.517 +02:00 [INF] Executed action Minly.Controllers.EventController.GetEvent (Minly) in 344.1685ms
2021-11-03 10:47:16.517 +02:00 [INF] Executed endpoint 'Minly.Controllers.EventController.GetEvent (Minly)'
2021-11-03 10:47:16.517 +02:00 [INF] Generating expiration headers.
2021-11-03 10:47:16.517 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 08:49:16 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 10:47:16.517 +02:00 [INF] Generating Validation headers.
2021-11-03 10:47:16.517 +02:00 [INF] Validation headers generated. ETag: Strong, "EBF53A66415BA2C7FF46132A5923AC29". Last-Modified: Wed, 03 Nov 2021 08:47:16 GMT
2021-11-03 10:47:16.517 +02:00 [INF] Generating Vary header.
2021-11-03 10:47:16.517 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 10:47:16.518 +02:00 [INF] The response could not be cached for this request.
2021-11-03 10:47:16.518 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/api/Event/1 - - - 204 0 - 374.5270ms
2021-11-03 10:48:46.506 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Event/1 - -
2021-11-03 10:48:46.512 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 10:48:46.512 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 10:48:46.512 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 10:48:46.512 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 10:48:46.512 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 10:48:46.512 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 10:48:46.520 +02:00 [INF] Executing endpoint 'Minly.Controllers.EventController.GetEvent (Minly)'
2021-11-03 10:48:46.521 +02:00 [INF] Route matched with {action = "GetEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEvent(Int32) on controller Minly.Controllers.EventController (Minly).
2021-11-03 10:48:46.531 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 10:48:46.547 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Date], [t].[Description], [t].[Description_ar], [t].[EventTypeId], [t].[Image], [t].[Name], [t].[Name_ar], [t].[Rate], [t].[Status], [t].[Id0], [t].[Name0], [t].[Name_ar0], [e1].[Id], [e1].[Description], [e1].[Description_ar], [e1].[EventId], [e1].[Name], [e1].[Name_ar], [e1].[Price], [e2].[Id], [e2].[Description], [e2].[Description_ar], [e2].[EventId], [e2].[EventMembershipId], [e2].[Link], [e2].[Name], [e2].[Name_ar], [s].[Id], [s].[EventId], [s].[Logo], [s].[Name], [s].[Name_ar], [e3].[Id], [e3].[ApiUserId], [e3].[EventId], [e3].[Rate]
FROM (
    SELECT TOP(1) [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status], [e0].[Id] AS [Id0], [e0].[Name] AS [Name0], [e0].[Name_ar] AS [Name_ar0]
    FROM [Events] AS [e]
    INNER JOIN [EventTypes] AS [e0] ON [e].[EventTypeId] = [e0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [EventMemberships] AS [e1] ON [t].[Id] = [e1].[EventId]
LEFT JOIN [EventVideos] AS [e2] ON [t].[Id] = [e2].[EventId]
LEFT JOIN [Sponsors] AS [s] ON [t].[Id] = [s].[EventId]
LEFT JOIN [EventRates] AS [e3] ON [t].[Id] = [e3].[EventId]
ORDER BY [t].[Id], [t].[Id0], [e1].[Id], [e2].[Id], [s].[Id], [e3].[Id]
2021-11-03 10:48:46.547 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2021-11-03 10:48:46.547 +02:00 [INF] Executed action Minly.Controllers.EventController.GetEvent (Minly) in 26.6969ms
2021-11-03 10:48:46.547 +02:00 [INF] Executed endpoint 'Minly.Controllers.EventController.GetEvent (Minly)'
2021-11-03 10:48:46.547 +02:00 [INF] Generating expiration headers.
2021-11-03 10:48:46.548 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 08:50:46 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 10:48:46.548 +02:00 [INF] Generating Validation headers.
2021-11-03 10:48:46.548 +02:00 [INF] Validation headers generated. ETag: Strong, "294136103D91E713BA05138F3D9792AA". Last-Modified: Wed, 03 Nov 2021 08:48:46 GMT
2021-11-03 10:48:46.548 +02:00 [INF] Generating Vary header.
2021-11-03 10:48:46.548 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 10:48:46.548 +02:00 [INF] The response could not be cached for this request.
2021-11-03 10:48:46.548 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Event/1 - - - 204 0 - 41.7109ms
2021-11-03 10:48:52.318 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Event/4 - -
2021-11-03 10:48:52.318 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 10:48:52.318 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 10:48:52.320 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 10:48:52.320 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 10:48:52.320 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 10:48:52.320 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 10:48:52.321 +02:00 [INF] Executing endpoint 'Minly.Controllers.EventController.GetEvent (Minly)'
2021-11-03 10:48:52.321 +02:00 [INF] Route matched with {action = "GetEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEvent(Int32) on controller Minly.Controllers.EventController (Minly).
2021-11-03 10:48:52.323 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 10:48:52.350 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Date], [t].[Description], [t].[Description_ar], [t].[EventTypeId], [t].[Image], [t].[Name], [t].[Name_ar], [t].[Rate], [t].[Status], [t].[Id0], [t].[Name0], [t].[Name_ar0], [e1].[Id], [e1].[Description], [e1].[Description_ar], [e1].[EventId], [e1].[Name], [e1].[Name_ar], [e1].[Price], [e2].[Id], [e2].[Description], [e2].[Description_ar], [e2].[EventId], [e2].[EventMembershipId], [e2].[Link], [e2].[Name], [e2].[Name_ar], [s].[Id], [s].[EventId], [s].[Logo], [s].[Name], [s].[Name_ar], [e3].[Id], [e3].[ApiUserId], [e3].[EventId], [e3].[Rate]
FROM (
    SELECT TOP(1) [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status], [e0].[Id] AS [Id0], [e0].[Name] AS [Name0], [e0].[Name_ar] AS [Name_ar0]
    FROM [Events] AS [e]
    INNER JOIN [EventTypes] AS [e0] ON [e].[EventTypeId] = [e0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [EventMemberships] AS [e1] ON [t].[Id] = [e1].[EventId]
LEFT JOIN [EventVideos] AS [e2] ON [t].[Id] = [e2].[EventId]
LEFT JOIN [Sponsors] AS [s] ON [t].[Id] = [s].[EventId]
LEFT JOIN [EventRates] AS [e3] ON [t].[Id] = [e3].[EventId]
ORDER BY [t].[Id], [t].[Id0], [e1].[Id], [e2].[Id], [s].[Id], [e3].[Id]
2021-11-03 10:48:52.416 +02:00 [INF] Executing OkObjectResult, writing value of type 'Minly.Core.DTOs.EventDTO'.
2021-11-03 10:48:52.417 +02:00 [INF] Executed action Minly.Controllers.EventController.GetEvent (Minly) in 95.607ms
2021-11-03 10:48:52.417 +02:00 [INF] Executed endpoint 'Minly.Controllers.EventController.GetEvent (Minly)'
2021-11-03 10:48:52.417 +02:00 [INF] Generating expiration headers.
2021-11-03 10:48:52.417 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 08:50:52 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 10:48:52.417 +02:00 [INF] Generating Validation headers.
2021-11-03 10:48:52.417 +02:00 [INF] Validation headers generated. ETag: Strong, "E9E438DE64B1DA2CAF0402012A52CD98". Last-Modified: Wed, 03 Nov 2021 08:48:52 GMT
2021-11-03 10:48:52.417 +02:00 [INF] Generating Vary header.
2021-11-03 10:48:52.417 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 10:48:52.417 +02:00 [INF] The response could not be cached for this request.
2021-11-03 10:48:52.418 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Event/4 - - - 200 1286 application/json;+charset=utf-8 99.9483ms
2021-11-03 10:49:37.076 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Event - -
2021-11-03 10:49:37.078 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 10:49:37.078 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 10:49:37.081 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 10:49:37.082 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 10:49:37.082 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 10:49:37.082 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 10:49:37.082 +02:00 [INF] Executing endpoint 'Minly.Controllers.EventController.GetEvents (Minly)'
2021-11-03 10:49:37.082 +02:00 [INF] Route matched with {action = "GetEvents", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEvents(Minly.Core.Models.RequestParams) on controller Minly.Controllers.EventController (Minly).
2021-11-03 10:49:38.972 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 10:49:38.974 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Events] AS [e]
2021-11-03 10:49:39.004 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Date], [t].[Description], [t].[Description_ar], [t].[EventTypeId], [t].[Image], [t].[Name], [t].[Name_ar], [t].[Rate], [t].[Status], [e0].[Id], [e0].[Name], [e0].[Name_ar], [e1].[Id], [e1].[Description], [e1].[Description_ar], [e1].[EventId], [e1].[Name], [e1].[Name_ar], [e1].[Price], [e2].[Id], [e2].[Description], [e2].[Description_ar], [e2].[EventId], [e2].[EventMembershipId], [e2].[Link], [e2].[Name], [e2].[Name_ar], [s].[Id], [s].[EventId], [s].[Logo], [s].[Name], [s].[Name_ar], [e3].[Id], [e3].[ApiUserId], [e3].[EventId], [e3].[Rate]
FROM (
    SELECT [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status]
    FROM [Events] AS [e]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [EventTypes] AS [e0] ON [t].[EventTypeId] = [e0].[Id]
LEFT JOIN [EventMemberships] AS [e1] ON [t].[Id] = [e1].[EventId]
LEFT JOIN [EventVideos] AS [e2] ON [t].[Id] = [e2].[EventId]
LEFT JOIN [Sponsors] AS [s] ON [t].[Id] = [s].[EventId]
LEFT JOIN [EventRates] AS [e3] ON [t].[Id] = [e3].[EventId]
ORDER BY [t].[Id], [e0].[Id], [e1].[Id], [e2].[Id], [s].[Id], [e3].[Id]
2021-11-03 10:49:39.005 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Minly.Core.DTOs.EventDTO, Minly.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-03 10:49:39.006 +02:00 [INF] Executed action Minly.Controllers.EventController.GetEvents (Minly) in 1923.5713ms
2021-11-03 10:49:39.006 +02:00 [INF] Executed endpoint 'Minly.Controllers.EventController.GetEvents (Minly)'
2021-11-03 10:49:39.006 +02:00 [INF] Generating expiration headers.
2021-11-03 10:49:39.006 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 08:51:39 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 10:49:39.006 +02:00 [INF] Generating Validation headers.
2021-11-03 10:49:39.006 +02:00 [INF] Validation headers generated. ETag: Strong, "DC714E374C37039042DD261E683CACEC". Last-Modified: Wed, 03 Nov 2021 08:49:39 GMT
2021-11-03 10:49:39.006 +02:00 [INF] Generating Vary header.
2021-11-03 10:49:39.006 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 10:49:39.007 +02:00 [INF] The response could not be cached for this request.
2021-11-03 10:49:39.007 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Event - - - 200 2004 application/json;+charset=utf-8 1930.5011ms
2021-11-03 10:50:27.119 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Event/1 - -
2021-11-03 10:50:27.119 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 10:50:27.119 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 10:50:27.120 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 10:50:27.120 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 10:50:27.120 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 10:50:27.120 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 10:50:27.126 +02:00 [INF] Executing endpoint 'Minly.Controllers.EventController.GetEvent (Minly)'
2021-11-03 10:50:27.126 +02:00 [INF] Route matched with {action = "GetEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEvent(Int32) on controller Minly.Controllers.EventController (Minly).
2021-11-03 10:50:27.127 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 10:50:27.140 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Date], [t].[Description], [t].[Description_ar], [t].[EventTypeId], [t].[Image], [t].[Name], [t].[Name_ar], [t].[Rate], [t].[Status], [t].[Id0], [t].[Name0], [t].[Name_ar0], [e1].[Id], [e1].[Description], [e1].[Description_ar], [e1].[EventId], [e1].[Name], [e1].[Name_ar], [e1].[Price], [e2].[Id], [e2].[Description], [e2].[Description_ar], [e2].[EventId], [e2].[EventMembershipId], [e2].[Link], [e2].[Name], [e2].[Name_ar], [s].[Id], [s].[EventId], [s].[Logo], [s].[Name], [s].[Name_ar], [e3].[Id], [e3].[ApiUserId], [e3].[EventId], [e3].[Rate]
FROM (
    SELECT TOP(1) [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status], [e0].[Id] AS [Id0], [e0].[Name] AS [Name0], [e0].[Name_ar] AS [Name_ar0]
    FROM [Events] AS [e]
    INNER JOIN [EventTypes] AS [e0] ON [e].[EventTypeId] = [e0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [EventMemberships] AS [e1] ON [t].[Id] = [e1].[EventId]
LEFT JOIN [EventVideos] AS [e2] ON [t].[Id] = [e2].[EventId]
LEFT JOIN [Sponsors] AS [s] ON [t].[Id] = [s].[EventId]
LEFT JOIN [EventRates] AS [e3] ON [t].[Id] = [e3].[EventId]
ORDER BY [t].[Id], [t].[Id0], [e1].[Id], [e2].[Id], [s].[Id], [e3].[Id]
2021-11-03 10:50:27.140 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2021-11-03 10:50:27.141 +02:00 [INF] Executed action Minly.Controllers.EventController.GetEvent (Minly) in 14.6466ms
2021-11-03 10:50:27.141 +02:00 [INF] Executed endpoint 'Minly.Controllers.EventController.GetEvent (Minly)'
2021-11-03 10:50:27.141 +02:00 [INF] Generating expiration headers.
2021-11-03 10:50:27.141 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 08:52:27 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 10:50:27.141 +02:00 [INF] Generating Validation headers.
2021-11-03 10:50:27.141 +02:00 [INF] Validation headers generated. ETag: Strong, "294136103D91E713BA05138F3D9792AA". Last-Modified: Wed, 03 Nov 2021 08:50:27 GMT
2021-11-03 10:50:27.141 +02:00 [INF] Generating Vary header.
2021-11-03 10:50:27.142 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 10:50:27.143 +02:00 [INF] The response could not be cached for this request.
2021-11-03 10:50:27.144 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Event/1 - - - 204 0 - 24.5047ms
2021-11-03 10:50:35.784 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Star - -
2021-11-03 10:50:35.785 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 10:50:35.785 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 10:50:35.785 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 10:50:35.785 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 10:50:35.785 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 10:50:35.785 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 10:50:35.785 +02:00 [INF] Executing endpoint 'Minly.Controllers.StarController.GetStars (Minly)'
2021-11-03 10:50:35.788 +02:00 [INF] Route matched with {action = "GetStars", controller = "Star"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStars(Minly.Core.Models.RequestParams) on controller Minly.Controllers.StarController (Minly).
2021-11-03 10:50:37.784 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 10:50:37.800 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Stars] AS [s]
2021-11-03 10:50:37.815 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results.
2021-11-03 10:50:37.815 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results.
2021-11-03 10:50:37.820 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
2021-11-03 10:50:37.870 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Description_ar], [t].[Image], [t].[Name], [t].[Name_ar], [t].[Rate], [t].[ResponseTime], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Logo], [t0].[Name], [t0].[Name_ar], [t0].[ServicesId], [t0].[StarsId], [t1].[Id], [t1].[Name], [t1].[CategoriesId], [t1].[StarsId], [s2].[Id], [s2].[ApiUserId], [s2].[Rate], [s2].[StarId]
FROM (
    SELECT [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime]
    FROM [Stars] AS [s]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [s1].[Id], [s1].[Description], [s1].[Description_ar], [s1].[Logo], [s1].[Name], [s1].[Name_ar], [s0].[ServicesId], [s0].[StarsId]
    FROM [ServiceStar] AS [s0]
    INNER JOIN [Services] AS [s1] ON [s0].[ServicesId] = [s1].[Id]
) AS [t0] ON [t].[Id] = [t0].[StarsId]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[Name], [c].[CategoriesId], [c].[StarsId]
    FROM [CategoryStar] AS [c]
    INNER JOIN [Categories] AS [c0] ON [c].[CategoriesId] = [c0].[Id]
) AS [t1] ON [t].[Id] = [t1].[StarsId]
LEFT JOIN [StarRates] AS [s2] ON [t].[Id] = [s2].[StarId]
ORDER BY [t].[Id], [t0].[ServicesId], [t0].[StarsId], [t0].[Id], [t1].[CategoriesId], [t1].[StarsId], [t1].[Id], [s2].[Id]
2021-11-03 10:50:37.914 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Minly.Core.DTOs.StarDTO, Minly.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-03 10:50:37.929 +02:00 [INF] Executed action Minly.Controllers.StarController.GetStars (Minly) in 2140.4663ms
2021-11-03 10:50:37.929 +02:00 [INF] Executed endpoint 'Minly.Controllers.StarController.GetStars (Minly)'
2021-11-03 10:50:37.929 +02:00 [INF] Generating expiration headers.
2021-11-03 10:50:37.929 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 08:52:37 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 10:50:37.929 +02:00 [INF] Generating Validation headers.
2021-11-03 10:50:37.929 +02:00 [INF] Validation headers generated. ETag: Strong, "66746FA173698BC1595B3454031FDA88". Last-Modified: Wed, 03 Nov 2021 08:50:37 GMT
2021-11-03 10:50:37.929 +02:00 [INF] Generating Vary header.
2021-11-03 10:50:37.929 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 10:50:37.930 +02:00 [INF] The response could not be cached for this request.
2021-11-03 10:50:37.934 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Star - - - 200 1432 application/json;+charset=utf-8 2149.6015ms
2021-11-03 10:50:59.968 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Star/1 - -
2021-11-03 10:50:59.968 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 10:50:59.968 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 10:50:59.968 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 10:50:59.968 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 10:50:59.968 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 10:50:59.968 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 10:50:59.968 +02:00 [INF] Executing endpoint 'Minly.Controllers.StarController.GetStar (Minly)'
2021-11-03 10:50:59.973 +02:00 [INF] Route matched with {action = "GetStar", controller = "Star"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStar(Int32) on controller Minly.Controllers.StarController (Minly).
2021-11-03 10:50:59.980 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 10:50:59.984 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
2021-11-03 10:51:00.031 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Description_ar], [t].[Image], [t].[Name], [t].[Name_ar], [t].[Rate], [t].[ResponseTime], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Logo], [t0].[Name], [t0].[Name_ar], [t0].[ServicesId], [t0].[StarsId], [t1].[Id], [t1].[Name], [t1].[CategoriesId], [t1].[StarsId], [s2].[Id], [s2].[ApiUserId], [s2].[Rate], [s2].[StarId]
FROM (
    SELECT TOP(1) [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime]
    FROM [Stars] AS [s]
    WHERE [s].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [s1].[Id], [s1].[Description], [s1].[Description_ar], [s1].[Logo], [s1].[Name], [s1].[Name_ar], [s0].[ServicesId], [s0].[StarsId]
    FROM [ServiceStar] AS [s0]
    INNER JOIN [Services] AS [s1] ON [s0].[ServicesId] = [s1].[Id]
) AS [t0] ON [t].[Id] = [t0].[StarsId]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[Name], [c].[CategoriesId], [c].[StarsId]
    FROM [CategoryStar] AS [c]
    INNER JOIN [Categories] AS [c0] ON [c].[CategoriesId] = [c0].[Id]
) AS [t1] ON [t].[Id] = [t1].[StarsId]
LEFT JOIN [StarRates] AS [s2] ON [t].[Id] = [s2].[StarId]
ORDER BY [t].[Id], [t0].[ServicesId], [t0].[StarsId], [t0].[Id], [t1].[CategoriesId], [t1].[StarsId], [t1].[Id], [s2].[Id]
2021-11-03 10:51:00.045 +02:00 [INF] Executing OkObjectResult, writing value of type 'Minly.Core.DTOs.StarDTO'.
2021-11-03 10:51:00.046 +02:00 [INF] Executed action Minly.Controllers.StarController.GetStar (Minly) in 72.2762ms
2021-11-03 10:51:00.046 +02:00 [INF] Executed endpoint 'Minly.Controllers.StarController.GetStar (Minly)'
2021-11-03 10:51:00.046 +02:00 [INF] Generating expiration headers.
2021-11-03 10:51:00.046 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 08:53:00 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 10:51:00.046 +02:00 [INF] Generating Validation headers.
2021-11-03 10:51:00.046 +02:00 [INF] Validation headers generated. ETag: Strong, "2C127F8575E5CA6B42ABDAD0E77EEF84". Last-Modified: Wed, 03 Nov 2021 08:51:00 GMT
2021-11-03 10:51:00.046 +02:00 [INF] Generating Vary header.
2021-11-03 10:51:00.046 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 10:51:00.046 +02:00 [INF] The response could not be cached for this request.
2021-11-03 10:51:00.050 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Star/1 - - - 200 821 application/json;+charset=utf-8 82.5690ms
2021-11-03 10:59:51.199 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 173
2021-11-03 10:59:51.199 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 10:59:51.199 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 10:59:51.199 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 10:59:51.199 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 10:59:51.199 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 10:59:51.199 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 10:59:51.203 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 10:59:51.207 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Minly.Core.DTOs.UserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-03 10:59:51.635 +02:00 [INF] Registration Attempt for user@example.com 
2021-11-03 10:59:51.647 +02:00 [WRN] User password validation failed: PasswordRequiresNonAlphanumeric;PasswordRequiresDigit;PasswordRequiresUpper.
2021-11-03 10:59:51.649 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.
2021-11-03 10:59:51.656 +02:00 [INF] Executed action Minly.Controllers.AccountController.Register (Minly) in 448.9802ms
2021-11-03 10:59:51.656 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 10:59:51.656 +02:00 [INF] Generating expiration headers.
2021-11-03 10:59:51.656 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 09:01:51 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 10:59:51.656 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 10:59:51.656 +02:00 [INF] Generating Vary header.
2021-11-03 10:59:51.656 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 10:59:51.669 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 173 - 400 260 application/json;+charset=utf-8 470.3357ms
2021-11-03 12:50:15.771 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/api/Service?PageNumber=1&PageSize=10 - -
2021-11-03 12:50:15.777 +02:00 [INF] No cached response available for this request.
2021-11-03 12:50:15.802 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 12:50:15.835 +02:00 [INF] No saved response found in store.
2021-11-03 12:50:15.836 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 12:50:15.836 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 12:50:15.836 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 12:50:15.836 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 12:50:15.839 +02:00 [INF] Executing endpoint 'Minly.Controllers.ServiceController.GetServices (Minly)'
2021-11-03 12:50:15.849 +02:00 [INF] Route matched with {action = "GetServices", controller = "Service"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetServices(Minly.Core.Models.RequestParams) on controller Minly.Controllers.ServiceController (Minly).
2021-11-03 12:50:17.925 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 12:50:17.951 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Services] AS [s]
2021-11-03 12:50:17.961 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results.
2021-11-03 12:50:17.961 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results.
2021-11-03 12:50:17.986 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Description_ar], [t].[Logo], [t].[Name], [t].[Name_ar], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Image], [t0].[Name], [t0].[Name_ar], [t0].[Rate], [t0].[ResponseTime], [t0].[ServicesId], [t0].[StarsId]
FROM (
    SELECT [s].[Id], [s].[Description], [s].[Description_ar], [s].[Logo], [s].[Name], [s].[Name_ar]
    FROM [Services] AS [s]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [s1].[Id], [s1].[Description], [s1].[Description_ar], [s1].[Image], [s1].[Name], [s1].[Name_ar], [s1].[Rate], [s1].[ResponseTime], [s0].[ServicesId], [s0].[StarsId]
    FROM [ServiceStar] AS [s0]
    INNER JOIN [Stars] AS [s1] ON [s0].[StarsId] = [s1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ServicesId]
ORDER BY [t].[Id], [t0].[ServicesId], [t0].[StarsId], [t0].[Id]
2021-11-03 12:50:18.007 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Minly.Core.DTOs.GETServiceDTO, Minly.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-03 12:50:18.028 +02:00 [INF] Executed action Minly.Controllers.ServiceController.GetServices (Minly) in 2178.3552ms
2021-11-03 12:50:18.028 +02:00 [INF] Executed endpoint 'Minly.Controllers.ServiceController.GetServices (Minly)'
2021-11-03 12:50:18.028 +02:00 [INF] Generating expiration headers.
2021-11-03 12:50:18.028 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 10:52:18 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 12:50:18.028 +02:00 [INF] Generating Validation headers.
2021-11-03 12:50:18.028 +02:00 [INF] Validation headers generated. ETag: Strong, "D63101F966EB6080C6D41FD428E80C32". Last-Modified: Wed, 03 Nov 2021 10:50:18 GMT
2021-11-03 12:50:18.028 +02:00 [INF] Generating Vary header.
2021-11-03 12:50:18.028 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 12:50:18.029 +02:00 [INF] The response could not be cached for this request.
2021-11-03 12:50:18.029 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/api/Service?PageNumber=1&PageSize=10 - - - 200 1324 application/json;+charset=utf-8 2259.3251ms
2021-11-03 12:50:32.449 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Service?PageNumber=1&PageSize=10 - -
2021-11-03 12:50:32.449 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 12:50:32.449 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 12:50:32.449 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 12:50:32.449 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 12:50:32.449 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 12:50:32.449 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 12:50:32.449 +02:00 [INF] Executing endpoint 'Minly.Controllers.ServiceController.GetServices (Minly)'
2021-11-03 12:50:32.450 +02:00 [INF] Route matched with {action = "GetServices", controller = "Service"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetServices(Minly.Core.Models.RequestParams) on controller Minly.Controllers.ServiceController (Minly).
2021-11-03 12:50:35.283 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 12:50:35.303 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Services] AS [s]
2021-11-03 12:50:35.329 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Description_ar], [t].[Logo], [t].[Name], [t].[Name_ar], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Image], [t0].[Name], [t0].[Name_ar], [t0].[Rate], [t0].[ResponseTime], [t0].[ServicesId], [t0].[StarsId]
FROM (
    SELECT [s].[Id], [s].[Description], [s].[Description_ar], [s].[Logo], [s].[Name], [s].[Name_ar]
    FROM [Services] AS [s]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [s1].[Id], [s1].[Description], [s1].[Description_ar], [s1].[Image], [s1].[Name], [s1].[Name_ar], [s1].[Rate], [s1].[ResponseTime], [s0].[ServicesId], [s0].[StarsId]
    FROM [ServiceStar] AS [s0]
    INNER JOIN [Stars] AS [s1] ON [s0].[StarsId] = [s1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ServicesId]
ORDER BY [t].[Id], [t0].[ServicesId], [t0].[StarsId], [t0].[Id]
2021-11-03 12:50:35.330 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Minly.Core.DTOs.GETServiceDTO, Minly.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-03 12:50:35.330 +02:00 [INF] Executed action Minly.Controllers.ServiceController.GetServices (Minly) in 2880.1338ms
2021-11-03 12:50:35.330 +02:00 [INF] Executed endpoint 'Minly.Controllers.ServiceController.GetServices (Minly)'
2021-11-03 12:50:35.330 +02:00 [INF] Generating expiration headers.
2021-11-03 12:50:35.330 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 10:52:35 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 12:50:35.330 +02:00 [INF] Generating Validation headers.
2021-11-03 12:50:35.330 +02:00 [INF] Validation headers generated. ETag: Strong, "AA515A219950A144B0E292712CF0A26F". Last-Modified: Wed, 03 Nov 2021 10:50:35 GMT
2021-11-03 12:50:35.330 +02:00 [INF] Generating Vary header.
2021-11-03 12:50:35.330 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 12:50:35.331 +02:00 [INF] The response could not be cached for this request.
2021-11-03 12:50:35.331 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Service?PageNumber=1&PageSize=10 - - - 200 1324 application/json;+charset=utf-8 2882.3562ms
2021-11-03 12:51:32.534 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Service/1 - -
2021-11-03 12:51:32.536 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 12:51:32.536 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 12:51:32.536 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 12:51:32.536 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 12:51:32.536 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 12:51:32.536 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 12:51:32.542 +02:00 [INF] Executing endpoint 'Minly.Controllers.ServiceController.GetService (Minly)'
2021-11-03 12:51:32.574 +02:00 [INF] Route matched with {action = "GetService", controller = "Service"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetService(Int32) on controller Minly.Controllers.ServiceController (Minly).
2021-11-03 12:51:32.577 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 12:51:32.611 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Description_ar], [t].[Logo], [t].[Name], [t].[Name_ar], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Image], [t0].[Name], [t0].[Name_ar], [t0].[Rate], [t0].[ResponseTime], [t0].[ServicesId], [t0].[StarsId]
FROM (
    SELECT TOP(1) [s].[Id], [s].[Description], [s].[Description_ar], [s].[Logo], [s].[Name], [s].[Name_ar]
    FROM [Services] AS [s]
    WHERE [s].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [s1].[Id], [s1].[Description], [s1].[Description_ar], [s1].[Image], [s1].[Name], [s1].[Name_ar], [s1].[Rate], [s1].[ResponseTime], [s0].[ServicesId], [s0].[StarsId]
    FROM [ServiceStar] AS [s0]
    INNER JOIN [Stars] AS [s1] ON [s0].[StarsId] = [s1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ServicesId]
ORDER BY [t].[Id], [t0].[ServicesId], [t0].[StarsId], [t0].[Id]
2021-11-03 12:51:32.622 +02:00 [INF] Executing OkObjectResult, writing value of type 'Minly.Core.DTOs.GETServiceDTO'.
2021-11-03 12:51:32.623 +02:00 [INF] Executed action Minly.Controllers.ServiceController.GetService (Minly) in 48.5121ms
2021-11-03 12:51:32.623 +02:00 [INF] Executed endpoint 'Minly.Controllers.ServiceController.GetService (Minly)'
2021-11-03 12:51:32.623 +02:00 [INF] Generating expiration headers.
2021-11-03 12:51:32.623 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 10:53:32 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 12:51:32.623 +02:00 [INF] Generating Validation headers.
2021-11-03 12:51:32.623 +02:00 [INF] Validation headers generated. ETag: Strong, "635052435BB9FCD881AF307FB388869E". Last-Modified: Wed, 03 Nov 2021 10:51:32 GMT
2021-11-03 12:51:32.624 +02:00 [INF] Generating Vary header.
2021-11-03 12:51:32.624 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 12:51:32.624 +02:00 [INF] The response could not be cached for this request.
2021-11-03 12:51:32.625 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Service/1 - - - 200 491 application/json;+charset=utf-8 90.9655ms
2021-11-03 12:53:21.483 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/login application/json 62
2021-11-03 12:53:21.483 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 12:53:21.483 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 12:53:21.483 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 12:53:21.483 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 12:53:21.483 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 12:53:21.483 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 12:53:21.489 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Login (Minly)'
2021-11-03 12:53:21.493 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Minly.Core.DTOs.LoginUserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-03 12:53:21.506 +02:00 [INF] Login Attempt for user@example.com 
2021-11-03 12:53:21.827 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 12:53:21.868 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 12:53:22.044 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-11-03 12:53:22.389 +02:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-11-03 12:53:22.392 +02:00 [INF] Executed action Minly.Controllers.AccountController.Login (Minly) in 899.34ms
2021-11-03 12:53:22.392 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Login (Minly)'
2021-11-03 12:53:22.392 +02:00 [INF] Generating expiration headers.
2021-11-03 12:53:22.392 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 10:55:22 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 12:53:22.392 +02:00 [INF] Generating Validation headers.
2021-11-03 12:53:22.393 +02:00 [INF] Validation headers generated. ETag: Strong, "216F5D5B1F1FE78A4225C2A4D76A4AE5". Last-Modified: Wed, 03 Nov 2021 10:53:22 GMT
2021-11-03 12:53:22.393 +02:00 [INF] Generating Vary header.
2021-11-03 12:53:22.393 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 12:53:22.395 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/login application/json 62 - 202 248 application/json;+charset=utf-8 912.1869ms
2021-11-03 12:53:33.758 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/StarRate application/json 91
2021-11-03 12:53:33.758 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 12:53:33.758 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 12:53:33.758 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 12:53:33.758 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 12:53:33.759 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 12:53:33.759 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 12:53:33.830 +02:00 [INF] Successfully validated the token.
2021-11-03 12:53:33.832 +02:00 [INF] Generating expiration headers.
2021-11-03 12:53:33.832 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 10:55:33 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 12:53:33.832 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 12:53:33.832 +02:00 [INF] Generating Vary header.
2021-11-03 12:53:33.832 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 12:53:33.832 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/StarRate application/json 91 - 404 - - 74.2614ms
2021-11-03 12:54:04.894 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/StarRate - -
2021-11-03 12:54:04.897 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 12:54:04.897 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 12:54:04.897 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 12:54:04.897 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 12:54:04.897 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 12:54:04.897 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 12:54:04.897 +02:00 [INF] Generating expiration headers.
2021-11-03 12:54:04.897 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 10:56:04 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 12:54:04.897 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 12:54:04.897 +02:00 [INF] Generating Vary header.
2021-11-03 12:54:04.897 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 12:54:04.897 +02:00 [INF] The response could not be cached for this request.
2021-11-03 12:54:04.901 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/StarRate - - - 404 - - 8.5074ms
2021-11-03 12:54:18.588 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/StarRate - -
2021-11-03 12:54:18.588 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 12:54:18.588 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 12:54:18.588 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 12:54:18.588 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 12:54:18.588 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 12:54:18.588 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 12:54:18.589 +02:00 [INF] Generating expiration headers.
2021-11-03 12:54:18.589 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 10:56:18 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 12:54:18.589 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 12:54:18.589 +02:00 [INF] Generating Vary header.
2021-11-03 12:54:18.589 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 12:54:18.589 +02:00 [INF] The response could not be cached for this request.
2021-11-03 12:54:18.589 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/StarRate - - - 404 - - 1.2430ms
2021-11-03 12:54:43.292 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/EventRate/1 - -
2021-11-03 12:54:43.293 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 12:54:43.293 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 12:54:43.293 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 12:54:43.293 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 12:54:43.293 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 12:54:43.293 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 12:54:43.293 +02:00 [INF] Executing endpoint 'Minly.Controllers.EventRateController.GetEventRate (Minly)'
2021-11-03 12:54:43.301 +02:00 [INF] Route matched with {action = "GetEventRate", controller = "EventRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEventRate(Int32) on controller Minly.Controllers.EventRateController (Minly).
2021-11-03 12:54:43.303 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 12:54:43.347 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[ApiUserId], [e].[EventId], [e].[Rate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [e0].[Id], [e0].[Date], [e0].[Description], [e0].[Description_ar], [e0].[EventTypeId], [e0].[Image], [e0].[Name], [e0].[Name_ar], [e0].[Rate], [e0].[Status]
FROM [EventRates] AS [e]
LEFT JOIN [AspNetUsers] AS [a] ON [e].[ApiUserId] = [a].[Id]
INNER JOIN [Events] AS [e0] ON [e].[EventId] = [e0].[Id]
WHERE [e].[Id] = @__id_0
2021-11-03 12:54:43.364 +02:00 [INF] Executing OkObjectResult, writing value of type 'Minly.Core.DTOs.EventRateDTO'.
2021-11-03 12:54:43.365 +02:00 [INF] Executed action Minly.Controllers.EventRateController.GetEventRate (Minly) in 64.5281ms
2021-11-03 12:54:43.365 +02:00 [INF] Executed endpoint 'Minly.Controllers.EventRateController.GetEventRate (Minly)'
2021-11-03 12:54:43.365 +02:00 [INF] Generating expiration headers.
2021-11-03 12:54:43.365 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 10:56:43 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 12:54:43.365 +02:00 [INF] Generating Validation headers.
2021-11-03 12:54:43.365 +02:00 [INF] Validation headers generated. ETag: Strong, "3EC9E9A3AF668FD0522A90AEC2F7679D". Last-Modified: Wed, 03 Nov 2021 10:54:43 GMT
2021-11-03 12:54:43.365 +02:00 [INF] Generating Vary header.
2021-11-03 12:54:43.366 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 12:54:43.366 +02:00 [INF] The response could not be cached for this request.
2021-11-03 12:54:43.366 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/EventRate/1 - - - 200 514 application/json;+charset=utf-8 73.6300ms
2021-11-03 12:54:51.771 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/StarRate/1 - -
2021-11-03 12:54:51.771 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 12:54:51.772 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 12:54:51.772 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 12:54:51.772 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 12:54:51.772 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 12:54:51.772 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 12:54:51.772 +02:00 [INF] Generating expiration headers.
2021-11-03 12:54:51.772 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 10:56:51 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 12:54:51.772 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 12:54:51.772 +02:00 [INF] Generating Vary header.
2021-11-03 12:54:51.772 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 12:54:51.772 +02:00 [INF] The response could not be cached for this request.
2021-11-03 12:54:51.773 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/StarRate/1 - - - 404 - - 1.3747ms
2021-11-03 12:55:43.268 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Category?PageNumber=1&PageSize=10 - -
2021-11-03 12:55:43.269 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 12:55:43.270 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 12:55:43.270 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 12:55:43.270 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 12:55:43.270 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 12:55:43.270 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 12:55:43.274 +02:00 [INF] Executing endpoint 'Minly.Controllers.CategoryController.GetCategories (Minly)'
2021-11-03 12:55:43.282 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategories(Minly.Core.Models.RequestParams) on controller Minly.Controllers.CategoryController (Minly).
2021-11-03 12:55:43.284 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 12:55:43.292 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2021-11-03 12:55:43.297 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results.
2021-11-03 12:55:43.297 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results.
2021-11-03 12:55:43.317 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Image], [t0].[Name], [t0].[Name_ar], [t0].[Rate], [t0].[ResponseTime], [t0].[CategoriesId], [t0].[StarsId]
FROM (
    SELECT [c].[Id], [c].[Name]
    FROM [Categories] AS [c]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime], [c0].[CategoriesId], [c0].[StarsId]
    FROM [CategoryStar] AS [c0]
    INNER JOIN [Stars] AS [s] ON [c0].[StarsId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[CategoriesId]
ORDER BY [t].[Id], [t0].[CategoriesId], [t0].[StarsId], [t0].[Id]
2021-11-03 12:55:43.329 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Minly.Core.DTOs.GETCategoryDTO, Minly.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-03 12:55:43.331 +02:00 [INF] Executed action Minly.Controllers.CategoryController.GetCategories (Minly) in 49.4674ms
2021-11-03 12:55:43.332 +02:00 [INF] Executed endpoint 'Minly.Controllers.CategoryController.GetCategories (Minly)'
2021-11-03 12:55:43.332 +02:00 [INF] Generating expiration headers.
2021-11-03 12:55:43.332 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 10:57:43 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 12:55:43.332 +02:00 [INF] Generating Validation headers.
2021-11-03 12:55:43.332 +02:00 [INF] Validation headers generated. ETag: Strong, "EF8A2B1974F93D2DA3E7AA6551F31EE0". Last-Modified: Wed, 03 Nov 2021 10:55:43 GMT
2021-11-03 12:55:43.332 +02:00 [INF] Generating Vary header.
2021-11-03 12:55:43.332 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 12:55:43.332 +02:00 [INF] The response could not be cached for this request.
2021-11-03 12:55:43.332 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Category?PageNumber=1&PageSize=10 - - - 200 1194 application/json;+charset=utf-8 63.9840ms
2021-11-03 12:56:04.750 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Category/1 - -
2021-11-03 12:56:04.750 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 12:56:04.751 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 12:56:04.751 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 12:56:04.751 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 12:56:04.751 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 12:56:04.751 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 12:56:04.755 +02:00 [INF] Executing endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 12:56:04.758 +02:00 [INF] Route matched with {action = "GetCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategory(Int32) on controller Minly.Controllers.CategoryController (Minly).
2021-11-03 12:56:04.763 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 12:56:04.784 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Image], [t0].[Name], [t0].[Name_ar], [t0].[Rate], [t0].[ResponseTime], [t0].[CategoriesId], [t0].[StarsId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name]
    FROM [Categories] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime], [c0].[CategoriesId], [c0].[StarsId]
    FROM [CategoryStar] AS [c0]
    INNER JOIN [Stars] AS [s] ON [c0].[StarsId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[CategoriesId]
ORDER BY [t].[Id], [t0].[CategoriesId], [t0].[StarsId], [t0].[Id]
2021-11-03 12:56:04.795 +02:00 [INF] Executing OkObjectResult, writing value of type 'Minly.Core.DTOs.GETCategoryDTO'.
2021-11-03 12:56:04.795 +02:00 [INF] Executed action Minly.Controllers.CategoryController.GetCategory (Minly) in 37.3211ms
2021-11-03 12:56:04.795 +02:00 [INF] Executed endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 12:56:04.796 +02:00 [INF] Generating expiration headers.
2021-11-03 12:56:04.796 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 10:58:04 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 12:56:04.796 +02:00 [INF] Generating Validation headers.
2021-11-03 12:56:04.796 +02:00 [INF] Validation headers generated. ETag: Strong, "B9776E6A6E1637C08628570A8AD92426". Last-Modified: Wed, 03 Nov 2021 10:56:04 GMT
2021-11-03 12:56:04.796 +02:00 [INF] Generating Vary header.
2021-11-03 12:56:04.796 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 12:56:04.796 +02:00 [INF] The response could not be cached for this request.
2021-11-03 12:56:04.797 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Category/1 - - - 200 214 application/json;+charset=utf-8 46.6537ms
2021-11-03 12:59:35.370 +02:00 [INF] Application Is Starting
2021-11-03 12:59:38.242 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-03 12:59:38.971 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-03 12:59:38.972 +02:00 [INF] Hosting environment: Development
2021-11-03 12:59:38.972 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-03 12:59:39.023 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-03 12:59:39.205 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 183.1774ms
2021-11-03 12:59:39.587 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-03 12:59:39.750 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 162.8814ms
2021-11-03 13:01:55.015 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/StarRate application/json 91
2021-11-03 13:01:55.039 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 13:01:55.043 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 13:01:55.043 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 13:01:55.046 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 13:01:55.046 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 13:01:55.046 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 13:01:56.303 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-03 13:01:56.403 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2021-11-03 13:01:56.405 +02:00 [INF] Executing endpoint 'Minly.Controllers.StarRateController.GetStarRates (Minly)'
2021-11-03 13:01:56.450 +02:00 [INF] Route matched with {action = "GetStarRates", controller = "StarRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStarRates(Minly.Core.Models.RequestParams) on controller Minly.Controllers.StarRateController (Minly).
2021-11-03 13:01:58.610 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 13:01:59.823 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [StarRates] AS [s]
2021-11-03 13:01:59.875 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Minly.Core.DTOs.StarRateDTO, Minly.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-03 13:02:00.005 +02:00 [INF] Executed action Minly.Controllers.StarRateController.GetStarRates (Minly) in 3550.2869ms
2021-11-03 13:02:00.005 +02:00 [INF] Executed endpoint 'Minly.Controllers.StarRateController.GetStarRates (Minly)'
2021-11-03 13:02:00.007 +02:00 [INF] Generating expiration headers.
2021-11-03 13:02:00.008 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 11:04:00 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 13:02:00.010 +02:00 [INF] Generating Validation headers.
2021-11-03 13:02:00.025 +02:00 [INF] Validation headers generated. ETag: Strong, "D59286C6D43E7F1FD489DBB56E4F70DA". Last-Modified: Wed, 03 Nov 2021 11:02:00 GMT
2021-11-03 13:02:00.025 +02:00 [INF] Generating Vary header.
2021-11-03 13:02:00.025 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 13:02:00.038 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/StarRate application/json 91 - 200 2 application/json;+charset=utf-8 5027.1899ms
2021-11-03 13:02:23.200 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/StarRate application/json 91
2021-11-03 13:02:23.206 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 13:02:23.211 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 13:02:23.211 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 13:02:23.211 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 13:02:23.211 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 13:02:23.211 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 13:02:23.219 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-03 13:02:23.220 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2021-11-03 13:02:23.224 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-11-03 13:02:23.237 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-03 13:02:23.237 +02:00 [INF] Generating expiration headers.
2021-11-03 13:02:23.238 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 11:04:23 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 13:02:23.238 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 13:02:23.238 +02:00 [INF] Generating Vary header.
2021-11-03 13:02:23.238 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 13:02:23.239 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/StarRate application/json 91 - 401 - - 39.4004ms
2021-11-03 13:02:31.281 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/login application/json 62
2021-11-03 13:02:31.282 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 13:02:31.282 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 13:02:31.282 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 13:02:31.282 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 13:02:31.282 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 13:02:31.282 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 13:02:31.284 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Login (Minly)'
2021-11-03 13:02:31.288 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Minly.Core.DTOs.LoginUserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-03 13:02:31.402 +02:00 [INF] Login Attempt for user@example.com 
2021-11-03 13:02:31.438 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 13:02:31.614 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 13:02:31.853 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-11-03 13:02:31.926 +02:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-11-03 13:02:31.961 +02:00 [INF] Executed action Minly.Controllers.AccountController.Login (Minly) in 672.9633ms
2021-11-03 13:02:31.961 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Login (Minly)'
2021-11-03 13:02:31.963 +02:00 [INF] Generating expiration headers.
2021-11-03 13:02:31.963 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 11:04:31 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 13:02:31.963 +02:00 [INF] Generating Validation headers.
2021-11-03 13:02:31.964 +02:00 [INF] Validation headers generated. ETag: Strong, "D9E7DE13EFA0BC7891A7FD34C7F26A96". Last-Modified: Wed, 03 Nov 2021 11:02:31 GMT
2021-11-03 13:02:31.964 +02:00 [INF] Generating Vary header.
2021-11-03 13:02:31.964 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 13:02:31.969 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/login application/json 62 - 202 248 application/json;+charset=utf-8 687.8829ms
2021-11-03 13:02:42.439 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/StarRate application/json 91
2021-11-03 13:02:42.439 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 13:02:42.439 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 13:02:42.439 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 13:02:42.439 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 13:02:42.439 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 13:02:42.443 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 13:02:42.460 +02:00 [INF] Successfully validated the token.
2021-11-03 13:02:42.461 +02:00 [INF] Authorization was successful.
2021-11-03 13:02:42.461 +02:00 [INF] Executing endpoint 'Minly.Controllers.StarRateController.CreateStarRate (Minly)'
2021-11-03 13:02:42.464 +02:00 [INF] Route matched with {action = "CreateStarRate", controller = "StarRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateStarRate(Minly.Core.DTOs.CreateStarRate) on controller Minly.Controllers.StarRateController (Minly).
2021-11-03 13:02:42.485 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 13:02:42.742 +02:00 [ERR] Failed executing DbCommand (44ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [StarRates] ([ApiUserId], [Rate], [StarId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [StarRates]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-03 13:02:42.802 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'Minly.Data.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_StarRates_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:85f83a95-7b45-4992-b61b-6f55ebd8a468
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_StarRates_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:85f83a95-7b45-4992-b61b-6f55ebd8a468
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2021-11-03 13:02:43.097 +02:00 [INF] Executed action Minly.Controllers.StarRateController.CreateStarRate (Minly) in 632.721ms
2021-11-03 13:02:43.098 +02:00 [INF] Executed endpoint 'Minly.Controllers.StarRateController.CreateStarRate (Minly)'
2021-11-03 13:02:43.101 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_StarRates_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:85f83a95-7b45-4992-b61b-6f55ebd8a468
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Minly.Core.Repository.UnitOfWork.Save() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\UnitOfWork.cs:line 51
   at Minly.Controllers.StarRateController.CreateStarRate(CreateStarRate createStarRate) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\StarRateController.cs:line 69
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2021-11-03 13:02:43.201 +02:00 [ERR] Something Went Wrong in the Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_StarRates_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:85f83a95-7b45-4992-b61b-6f55ebd8a468
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Minly.Core.Repository.UnitOfWork.Save() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\UnitOfWork.cs:line 51
   at Minly.Controllers.StarRateController.CreateStarRate(CreateStarRate createStarRate) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\StarRateController.cs:line 69
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2021-11-03 13:02:43.485 +02:00 [ERR] An exception was thrown attempting to execute the error handler.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, CancellationToken cancellationToken)
   at Minly.Core.ServiceExtensions.<>c.<<ConfigureExceptionHandler>b__2_1>d.MoveNext() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\ServiceExtensions.cs:line 71
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
2021-11-03 13:02:43.489 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_StarRates_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:85f83a95-7b45-4992-b61b-6f55ebd8a468
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Minly.Core.Repository.UnitOfWork.Save() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\UnitOfWork.cs:line 51
   at Minly.Controllers.StarRateController.CreateStarRate(CreateStarRate createStarRate) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\StarRateController.cs:line 69
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-03 13:02:43.527 +02:00 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-03 13:02:43.528 +02:00 [ERR] Connection ID "18374686485577203719", Request ID "8000000b-0001-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_StarRates_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:85f83a95-7b45-4992-b61b-6f55ebd8a468
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Minly.Core.Repository.UnitOfWork.Save() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\UnitOfWork.cs:line 51
   at Minly.Controllers.StarRateController.CreateStarRate(CreateStarRate createStarRate) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\StarRateController.cs:line 69
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2021-11-03 13:02:43.533 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/StarRate application/json 91 - 500 - - 1094.3100ms
2021-11-03 13:03:24.414 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/StarRate application/json 91
2021-11-03 13:03:24.414 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 13:03:24.414 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 13:03:24.414 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 13:03:24.414 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 13:03:24.414 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 13:03:24.414 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 13:03:24.420 +02:00 [INF] Successfully validated the token.
2021-11-03 13:03:24.422 +02:00 [INF] Authorization was successful.
2021-11-03 13:03:24.422 +02:00 [INF] Executing endpoint 'Minly.Controllers.StarRateController.CreateStarRate (Minly)'
2021-11-03 13:03:24.422 +02:00 [INF] Route matched with {action = "CreateStarRate", controller = "StarRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateStarRate(Minly.Core.DTOs.CreateStarRate) on controller Minly.Controllers.StarRateController (Minly).
2021-11-03 13:03:24.424 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 13:03:24.442 +02:00 [ERR] Failed executing DbCommand (13ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [StarRates] ([ApiUserId], [Rate], [StarId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [StarRates]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-03 13:03:24.445 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'Minly.Data.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_StarRates_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:85f83a95-7b45-4992-b61b-6f55ebd8a468
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_StarRates_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:85f83a95-7b45-4992-b61b-6f55ebd8a468
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2021-11-03 13:03:24.600 +02:00 [INF] Executed action Minly.Controllers.StarRateController.CreateStarRate (Minly) in 177.3467ms
2021-11-03 13:03:24.600 +02:00 [INF] Executed endpoint 'Minly.Controllers.StarRateController.CreateStarRate (Minly)'
2021-11-03 13:03:24.603 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_StarRates_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:85f83a95-7b45-4992-b61b-6f55ebd8a468
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Minly.Core.Repository.UnitOfWork.Save() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\UnitOfWork.cs:line 51
   at Minly.Controllers.StarRateController.CreateStarRate(CreateStarRate createStarRate) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\StarRateController.cs:line 69
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2021-11-03 13:03:24.607 +02:00 [ERR] Something Went Wrong in the Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_StarRates_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:85f83a95-7b45-4992-b61b-6f55ebd8a468
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Minly.Core.Repository.UnitOfWork.Save() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\UnitOfWork.cs:line 51
   at Minly.Controllers.StarRateController.CreateStarRate(CreateStarRate createStarRate) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\StarRateController.cs:line 69
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2021-11-03 13:03:24.801 +02:00 [ERR] An exception was thrown attempting to execute the error handler.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, CancellationToken cancellationToken)
   at Minly.Core.ServiceExtensions.<>c.<<ConfigureExceptionHandler>b__2_1>d.MoveNext() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\ServiceExtensions.cs:line 71
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
2021-11-03 13:03:24.804 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_StarRates_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:85f83a95-7b45-4992-b61b-6f55ebd8a468
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Minly.Core.Repository.UnitOfWork.Save() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\UnitOfWork.cs:line 51
   at Minly.Controllers.StarRateController.CreateStarRate(CreateStarRate createStarRate) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\StarRateController.cs:line 69
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-03 13:03:24.809 +02:00 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-03 13:03:24.810 +02:00 [ERR] Connection ID "18374686485577203719", Request ID "8000000c-0001-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_StarRates_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:85f83a95-7b45-4992-b61b-6f55ebd8a468
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Minly.Core.Repository.UnitOfWork.Save() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\UnitOfWork.cs:line 51
   at Minly.Controllers.StarRateController.CreateStarRate(CreateStarRate createStarRate) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\StarRateController.cs:line 69
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2021-11-03 13:03:24.813 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/StarRate application/json 91 - 500 - - 398.7188ms
2021-11-03 13:04:04.062 +02:00 [INF] Application Is Starting
2021-11-03 13:04:06.727 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-03 13:04:07.293 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-03 13:04:07.293 +02:00 [INF] Hosting environment: Development
2021-11-03 13:04:07.294 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-03 13:04:07.335 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-03 13:04:07.485 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 150.8888ms
2021-11-03 13:04:07.738 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-03 13:04:07.949 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 210.9422ms
2021-11-03 13:04:14.949 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/StarRate application/json 91
2021-11-03 13:04:14.972 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 13:04:14.973 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 13:04:14.973 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 13:04:14.975 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 13:04:14.975 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 13:04:14.975 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 13:04:16.026 +02:00 [INF] Successfully validated the token.
2021-11-03 13:04:16.035 +02:00 [INF] Authorization was successful.
2021-11-03 13:04:16.036 +02:00 [INF] Executing endpoint 'Minly.Controllers.StarRateController.CreateStarRate (Minly)'
2021-11-03 13:04:16.076 +02:00 [INF] Route matched with {action = "CreateStarRate", controller = "StarRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateStarRate(Minly.Core.DTOs.CreateStarRate) on controller Minly.Controllers.StarRateController (Minly).
2021-11-03 13:04:27.959 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 13:04:39.298 +02:00 [ERR] Failed executing DbCommand (109ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [StarRates] ([ApiUserId], [Rate], [StarId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [StarRates]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-03 13:04:39.433 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'Minly.Data.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_StarRates_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5b07e05e-f73c-41cb-9de1-cfe32c7ae152
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_StarRates_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5b07e05e-f73c-41cb-9de1-cfe32c7ae152
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2021-11-03 13:04:40.027 +02:00 [INF] Executed action Minly.Controllers.StarRateController.CreateStarRate (Minly) in 23944.9273ms
2021-11-03 13:04:40.028 +02:00 [INF] Executed endpoint 'Minly.Controllers.StarRateController.CreateStarRate (Minly)'
2021-11-03 13:04:40.036 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_StarRates_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5b07e05e-f73c-41cb-9de1-cfe32c7ae152
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Minly.Core.Repository.UnitOfWork.Save() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\UnitOfWork.cs:line 51
   at Minly.Controllers.StarRateController.CreateStarRate(CreateStarRate createStarRate) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\StarRateController.cs:line 69
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2021-11-03 13:05:26.193 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/StarRate - -
2021-11-03 13:05:27.447 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 13:05:27.448 +02:00 [ERR] Something Went Wrong in the Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_StarRates_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5b07e05e-f73c-41cb-9de1-cfe32c7ae152
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Minly.Core.Repository.UnitOfWork.Save() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\UnitOfWork.cs:line 51
   at Minly.Controllers.StarRateController.CreateStarRate(CreateStarRate createStarRate) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\StarRateController.cs:line 69
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2021-11-03 13:05:27.455 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 13:05:27.455 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 13:05:27.456 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 13:05:27.456 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 13:05:27.456 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 13:05:27.460 +02:00 [INF] Executing endpoint 'Minly.Controllers.StarRateController.GetStarRates (Minly)'
2021-11-03 13:05:27.466 +02:00 [INF] Route matched with {action = "GetStarRates", controller = "StarRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStarRates(Minly.Core.Models.RequestParams) on controller Minly.Controllers.StarRateController (Minly).
2021-11-03 13:05:31.949 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 13:05:32.337 +02:00 [ERR] An exception was thrown attempting to execute the error handler.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, CancellationToken cancellationToken)
   at Minly.Core.ServiceExtensions.<>c.<<ConfigureExceptionHandler>b__2_1>d.MoveNext() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\ServiceExtensions.cs:line 71
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
2021-11-03 13:05:39.692 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_StarRates_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5b07e05e-f73c-41cb-9de1-cfe32c7ae152
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Minly.Core.Repository.UnitOfWork.Save() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\UnitOfWork.cs:line 51
   at Minly.Controllers.StarRateController.CreateStarRate(CreateStarRate createStarRate) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\StarRateController.cs:line 69
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-03 13:05:43.053 +02:00 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-03 13:05:43.059 +02:00 [ERR] Connection ID "18374686485577203727", Request ID "80000010-0001-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_StarRates_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5b07e05e-f73c-41cb-9de1-cfe32c7ae152
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Minly.Core.Repository.UnitOfWork.Save() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\UnitOfWork.cs:line 51
   at Minly.Controllers.StarRateController.CreateStarRate(CreateStarRate createStarRate) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\StarRateController.cs:line 69
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2021-11-03 13:05:43.074 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/StarRate application/json 91 - 500 - - 88124.9386ms
2021-11-03 13:05:43.430 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [StarRates] AS [s]
2021-11-03 13:05:49.916 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[ApiUserId], [s].[Rate], [s].[StarId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [s0].[Id], [s0].[Description], [s0].[Description_ar], [s0].[Image], [s0].[Name], [s0].[Name_ar], [s0].[Rate], [s0].[ResponseTime]
FROM [StarRates] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[ApiUserId] = [a].[Id]
INNER JOIN [Stars] AS [s0] ON [s].[StarId] = [s0].[Id]
2021-11-03 13:05:57.829 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Minly.Core.DTOs.StarRateDTO, Minly.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-03 13:05:57.849 +02:00 [INF] Executed action Minly.Controllers.StarRateController.GetStarRates (Minly) in 30382.4048ms
2021-11-03 13:05:57.849 +02:00 [INF] Executed endpoint 'Minly.Controllers.StarRateController.GetStarRates (Minly)'
2021-11-03 13:05:57.852 +02:00 [INF] Generating expiration headers.
2021-11-03 13:05:57.855 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 11:07:57 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 13:05:57.858 +02:00 [INF] Generating Validation headers.
2021-11-03 13:05:57.865 +02:00 [INF] Validation headers generated. ETag: Strong, "D59286C6D43E7F1FD489DBB56E4F70DA". Last-Modified: Wed, 03 Nov 2021 11:05:57 GMT
2021-11-03 13:05:57.866 +02:00 [INF] Generating Vary header.
2021-11-03 13:05:57.866 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 13:05:57.877 +02:00 [INF] The response could not be cached for this request.
2021-11-03 13:05:57.878 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/StarRate - - - 200 2 application/json;+charset=utf-8 31684.6080ms
2021-11-03 13:06:11.564 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/StarRate application/json 91
2021-11-03 13:06:11.568 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 13:06:11.568 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 13:06:11.568 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 13:06:11.568 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 13:06:11.568 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 13:06:11.568 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 13:06:11.572 +02:00 [INF] Successfully validated the token.
2021-11-03 13:06:11.572 +02:00 [INF] Authorization was successful.
2021-11-03 13:06:11.572 +02:00 [INF] Executing endpoint 'Minly.Controllers.StarRateController.CreateStarRate (Minly)'
2021-11-03 13:06:11.573 +02:00 [INF] Route matched with {action = "CreateStarRate", controller = "StarRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateStarRate(Minly.Core.DTOs.CreateStarRate) on controller Minly.Controllers.StarRateController (Minly).
2021-11-03 13:06:26.197 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 13:06:40.527 +02:00 [ERR] Failed executing DbCommand (47ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [StarRates] ([ApiUserId], [Rate], [StarId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [StarRates]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-03 13:06:40.532 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'Minly.Data.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_StarRates_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5b07e05e-f73c-41cb-9de1-cfe32c7ae152
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_StarRates_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5b07e05e-f73c-41cb-9de1-cfe32c7ae152
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2021-11-03 13:06:40.952 +02:00 [INF] Executed action Minly.Controllers.StarRateController.CreateStarRate (Minly) in 29379.7076ms
2021-11-03 13:06:40.953 +02:00 [INF] Executed endpoint 'Minly.Controllers.StarRateController.CreateStarRate (Minly)'
2021-11-03 13:06:40.954 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_StarRates_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5b07e05e-f73c-41cb-9de1-cfe32c7ae152
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Minly.Core.Repository.UnitOfWork.Save() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\UnitOfWork.cs:line 51
   at Minly.Controllers.StarRateController.CreateStarRate(CreateStarRate createStarRate) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\StarRateController.cs:line 69
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2021-11-03 13:07:16.590 +02:00 [ERR] Something Went Wrong in the Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_StarRates_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5b07e05e-f73c-41cb-9de1-cfe32c7ae152
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Minly.Core.Repository.UnitOfWork.Save() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\UnitOfWork.cs:line 51
   at Minly.Controllers.StarRateController.CreateStarRate(CreateStarRate createStarRate) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\StarRateController.cs:line 69
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2021-11-03 13:07:16.855 +02:00 [ERR] An exception was thrown attempting to execute the error handler.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, CancellationToken cancellationToken)
   at Minly.Core.ServiceExtensions.<>c.<<ConfigureExceptionHandler>b__2_1>d.MoveNext() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\ServiceExtensions.cs:line 71
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
2021-11-03 13:07:16.857 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_StarRates_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5b07e05e-f73c-41cb-9de1-cfe32c7ae152
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Minly.Core.Repository.UnitOfWork.Save() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\UnitOfWork.cs:line 51
   at Minly.Controllers.StarRateController.CreateStarRate(CreateStarRate createStarRate) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\StarRateController.cs:line 69
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-03 13:07:16.868 +02:00 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-03 13:07:16.869 +02:00 [ERR] Connection ID "18374686485577203727", Request ID "80000011-0001-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_StarRates_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5b07e05e-f73c-41cb-9de1-cfe32c7ae152
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Minly.Core.Repository.UnitOfWork.Save() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\UnitOfWork.cs:line 51
   at Minly.Controllers.StarRateController.CreateStarRate(CreateStarRate createStarRate) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\StarRateController.cs:line 69
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2021-11-03 13:07:16.885 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/StarRate application/json 91 - 500 - - 65320.4405ms
2021-11-03 13:08:05.302 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/StarRate application/json 91
2021-11-03 13:08:05.302 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 13:08:05.302 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 13:08:05.302 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 13:08:05.302 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 13:08:05.302 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 13:08:05.303 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 13:08:05.304 +02:00 [INF] Successfully validated the token.
2021-11-03 13:08:05.306 +02:00 [INF] Authorization was successful.
2021-11-03 13:08:05.306 +02:00 [INF] Executing endpoint 'Minly.Controllers.StarRateController.CreateStarRate (Minly)'
2021-11-03 13:08:05.311 +02:00 [INF] Route matched with {action = "CreateStarRate", controller = "StarRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateStarRate(Minly.Core.DTOs.CreateStarRate) on controller Minly.Controllers.StarRateController (Minly).
2021-11-03 13:08:08.384 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 13:08:08.431 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [StarRates] ([ApiUserId], [Rate], [StarId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [StarRates]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-03 13:08:08.500 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'Minly.Data.StarRate'.
2021-11-03 13:08:08.565 +02:00 [INF] Executed action Minly.Controllers.StarRateController.CreateStarRate (Minly) in 3253.8717ms
2021-11-03 13:08:08.565 +02:00 [INF] Executed endpoint 'Minly.Controllers.StarRateController.CreateStarRate (Minly)'
2021-11-03 13:08:08.566 +02:00 [INF] Generating expiration headers.
2021-11-03 13:08:08.566 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 11:10:08 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 13:08:08.566 +02:00 [INF] Generating Validation headers.
2021-11-03 13:08:08.566 +02:00 [INF] Validation headers generated. ETag: Strong, "50F9D3E7615702E8BD68E6F19E04D280". Last-Modified: Wed, 03 Nov 2021 11:08:08 GMT
2021-11-03 13:08:08.566 +02:00 [INF] Generating Vary header.
2021-11-03 13:08:08.566 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 13:08:08.567 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/StarRate application/json 91 - 201 108 application/json;+charset=utf-8 3265.0494ms
2021-11-03 13:08:21.745 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/StarRate - -
2021-11-03 13:08:21.745 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 13:08:21.745 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 13:08:21.745 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 13:08:21.745 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 13:08:21.745 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 13:08:21.745 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 13:08:21.745 +02:00 [INF] Executing endpoint 'Minly.Controllers.StarRateController.GetStarRates (Minly)'
2021-11-03 13:08:21.745 +02:00 [INF] Route matched with {action = "GetStarRates", controller = "StarRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStarRates(Minly.Core.Models.RequestParams) on controller Minly.Controllers.StarRateController (Minly).
2021-11-03 13:08:24.874 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 13:08:24.880 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [StarRates] AS [s]
2021-11-03 13:08:24.898 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results.
2021-11-03 13:08:24.899 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results.
2021-11-03 13:08:24.933 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ApiUserId], [t].[Rate], [t].[StarId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [s0].[Id], [s0].[Description], [s0].[Description_ar], [s0].[Image], [s0].[Name], [s0].[Name_ar], [s0].[Rate], [s0].[ResponseTime]
FROM (
    SELECT [s].[Id], [s].[ApiUserId], [s].[Rate], [s].[StarId]
    FROM [StarRates] AS [s]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [AspNetUsers] AS [a] ON [t].[ApiUserId] = [a].[Id]
INNER JOIN [Stars] AS [s0] ON [t].[StarId] = [s0].[Id]
2021-11-03 13:08:24.978 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Minly.Core.DTOs.StarRateDTO, Minly.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-03 13:08:24.990 +02:00 [INF] Executed action Minly.Controllers.StarRateController.GetStarRates (Minly) in 3244.1532ms
2021-11-03 13:08:24.990 +02:00 [INF] Executed endpoint 'Minly.Controllers.StarRateController.GetStarRates (Minly)'
2021-11-03 13:08:24.990 +02:00 [INF] Generating expiration headers.
2021-11-03 13:08:24.990 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 11:10:24 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 13:08:24.990 +02:00 [INF] Generating Validation headers.
2021-11-03 13:08:24.990 +02:00 [INF] Validation headers generated. ETag: Strong, "277B135FD604E582AB15E858FC53184A". Last-Modified: Wed, 03 Nov 2021 11:08:24 GMT
2021-11-03 13:08:24.990 +02:00 [INF] Generating Vary header.
2021-11-03 13:08:24.990 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 13:08:24.990 +02:00 [INF] The response could not be cached for this request.
2021-11-03 13:08:24.991 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/StarRate - - - 200 400 application/json;+charset=utf-8 3245.9863ms
2021-11-03 13:08:48.125 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/StarRate/1 - -
2021-11-03 13:08:48.125 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 13:08:48.125 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 13:08:48.125 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 13:08:48.125 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 13:08:48.125 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 13:08:48.125 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 13:08:48.126 +02:00 [INF] Executing endpoint 'Minly.Controllers.StarRateController.GetStarRate (Minly)'
2021-11-03 13:08:48.129 +02:00 [INF] Route matched with {action = "GetStarRate", controller = "StarRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStarRate(Int32) on controller Minly.Controllers.StarRateController (Minly).
2021-11-03 13:08:49.826 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 13:08:49.878 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ApiUserId], [s].[Rate], [s].[StarId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [s0].[Id], [s0].[Description], [s0].[Description_ar], [s0].[Image], [s0].[Name], [s0].[Name_ar], [s0].[Rate], [s0].[ResponseTime]
FROM [StarRates] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[ApiUserId] = [a].[Id]
INNER JOIN [Stars] AS [s0] ON [s].[StarId] = [s0].[Id]
WHERE [s].[Id] = @__id_0
2021-11-03 13:08:49.897 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2021-11-03 13:08:49.897 +02:00 [INF] Executed action Minly.Controllers.StarRateController.GetStarRate (Minly) in 1768.6088ms
2021-11-03 13:08:49.898 +02:00 [INF] Executed endpoint 'Minly.Controllers.StarRateController.GetStarRate (Minly)'
2021-11-03 13:08:49.898 +02:00 [INF] Generating expiration headers.
2021-11-03 13:08:49.898 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 11:10:49 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 13:08:49.898 +02:00 [INF] Generating Validation headers.
2021-11-03 13:08:49.898 +02:00 [INF] Validation headers generated. ETag: Strong, "461A9735C23E5C7498C8719ED623ADED". Last-Modified: Wed, 03 Nov 2021 11:08:49 GMT
2021-11-03 13:08:49.898 +02:00 [INF] Generating Vary header.
2021-11-03 13:08:49.898 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 13:08:49.899 +02:00 [INF] The response could not be cached for this request.
2021-11-03 13:08:49.899 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/StarRate/1 - - - 204 0 - 1774.1693ms
2021-11-03 13:08:57.778 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/StarRate/1 - -
2021-11-03 13:08:57.778 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 13:08:57.778 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 13:08:57.778 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 13:08:57.778 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 13:08:57.778 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 13:08:57.778 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 13:08:57.778 +02:00 [INF] Executing endpoint 'Minly.Controllers.StarRateController.GetStarRate (Minly)'
2021-11-03 13:08:57.778 +02:00 [INF] Route matched with {action = "GetStarRate", controller = "StarRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStarRate(Int32) on controller Minly.Controllers.StarRateController (Minly).
2021-11-03 13:09:05.569 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 13:09:26.323 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/StarRate/5 - -
2021-11-03 13:09:26.324 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 13:09:26.324 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 13:09:26.324 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 13:09:26.324 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/StarRate/5 - -
2021-11-03 13:09:26.324 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 13:09:26.324 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 13:09:26.324 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 13:09:26.324 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 13:09:26.324 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 13:09:26.324 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 13:09:26.324 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 13:09:26.324 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 13:09:26.324 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 13:09:26.325 +02:00 [INF] Executing endpoint 'Minly.Controllers.StarRateController.GetStarRate (Minly)'
2021-11-03 13:09:26.325 +02:00 [INF] Route matched with {action = "GetStarRate", controller = "StarRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStarRate(Int32) on controller Minly.Controllers.StarRateController (Minly).
2021-11-03 13:09:29.242 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 13:09:29.242 +02:00 [INF] Executed DbCommand (2,918ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ApiUserId], [s].[Rate], [s].[StarId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [s0].[Id], [s0].[Description], [s0].[Description_ar], [s0].[Image], [s0].[Name], [s0].[Name_ar], [s0].[Rate], [s0].[ResponseTime]
FROM [StarRates] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[ApiUserId] = [a].[Id]
INNER JOIN [Stars] AS [s0] ON [s].[StarId] = [s0].[Id]
WHERE [s].[Id] = @__id_0
2021-11-03 13:09:29.250 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2021-11-03 13:09:29.251 +02:00 [INF] Executed action Minly.Controllers.StarRateController.GetStarRate (Minly) in 31471.8215ms
2021-11-03 13:09:29.251 +02:00 [INF] Executed endpoint 'Minly.Controllers.StarRateController.GetStarRate (Minly)'
2021-11-03 13:09:29.251 +02:00 [INF] Request get:/api/starrate/5 from IP ::1 has been blocked, quota 1/5s exceeded by 1. Blocked by rule *, TraceIdentifier 80000007-0002-ff00-b63f-84710c7967bb.
2021-11-03 13:09:29.251 +02:00 [INF] Generating expiration headers.
2021-11-03 13:09:29.251 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 11:11:29 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 13:09:29.252 +02:00 [INF] Generating Validation headers.
2021-11-03 13:09:29.252 +02:00 [INF] Validation headers generated. ETag: Strong, "461A9735C23E5C7498C8719ED623ADED". Last-Modified: Wed, 03 Nov 2021 11:09:29 GMT
2021-11-03 13:09:29.252 +02:00 [INF] Generating Vary header.
2021-11-03 13:09:29.252 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 13:09:29.252 +02:00 [INF] The response could not be cached for this request.
2021-11-03 13:09:29.252 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/StarRate/1 - - - 0 0 - 31474.7582ms
2021-11-03 13:09:29.253 +02:00 [INF] Generating expiration headers.
2021-11-03 13:09:29.253 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 11:11:29 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 13:09:29.253 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 13:09:29.253 +02:00 [INF] Generating Vary header.
2021-11-03 13:09:29.253 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 13:09:29.253 +02:00 [INF] The response could not be cached for this request.
2021-11-03 13:09:29.254 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/StarRate/5 - - - 429 - text/plain 2930.0964ms
2021-11-03 13:09:29.257 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ApiUserId], [s].[Rate], [s].[StarId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [s0].[Id], [s0].[Description], [s0].[Description_ar], [s0].[Image], [s0].[Name], [s0].[Name_ar], [s0].[Rate], [s0].[ResponseTime]
FROM [StarRates] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[ApiUserId] = [a].[Id]
INNER JOIN [Stars] AS [s0] ON [s].[StarId] = [s0].[Id]
WHERE [s].[Id] = @__id_0
2021-11-03 13:09:29.264 +02:00 [INF] Executing OkObjectResult, writing value of type 'Minly.Core.DTOs.StarRateDTO'.
2021-11-03 13:09:29.264 +02:00 [INF] Executed action Minly.Controllers.StarRateController.GetStarRate (Minly) in 2938.8844ms
2021-11-03 13:09:29.264 +02:00 [INF] Executed endpoint 'Minly.Controllers.StarRateController.GetStarRate (Minly)'
2021-11-03 13:09:29.264 +02:00 [INF] Generating expiration headers.
2021-11-03 13:09:29.264 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 11:11:29 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 13:09:29.264 +02:00 [INF] Generating Validation headers.
2021-11-03 13:09:29.265 +02:00 [INF] Validation headers generated. ETag: Strong, "58D2DF3CF0CB118A1C499A24FFC52439". Last-Modified: Wed, 03 Nov 2021 11:09:29 GMT
2021-11-03 13:09:29.265 +02:00 [INF] Generating Vary header.
2021-11-03 13:09:29.265 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 13:09:29.265 +02:00 [INF] The response could not be cached for this request.
2021-11-03 13:09:29.265 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/StarRate/5 - - - 200 398 application/json;+charset=utf-8 2941.3173ms
2021-11-03 13:22:33.227 +02:00 [INF] Application Is Starting
2021-11-03 13:22:36.183 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-03 13:22:36.880 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-03 13:22:36.880 +02:00 [INF] Hosting environment: Development
2021-11-03 13:22:36.880 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-03 13:22:36.933 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-03 13:22:37.112 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 180.3616ms
2021-11-03 13:22:37.453 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-03 13:22:37.673 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 220.0852ms
2021-11-03 13:22:44.527 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 173
2021-11-03 13:22:44.552 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 13:22:44.552 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 13:22:44.552 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 13:22:44.555 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 13:22:44.555 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 13:22:44.555 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 13:22:45.185 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 13:22:45.225 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Minly.Core.DTOs.UserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-03 13:22:46.471 +02:00 [INF] Registration Attempt for user@example.com 
2021-11-03 13:22:46.492 +02:00 [WRN] User password validation failed: PasswordRequiresNonAlphanumeric;PasswordRequiresDigit;PasswordRequiresUpper.
2021-11-03 13:22:46.498 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.
2021-11-03 13:22:46.544 +02:00 [INF] Executed action Minly.Controllers.AccountController.Register (Minly) in 1314.643ms
2021-11-03 13:22:46.545 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 13:22:46.547 +02:00 [INF] Generating expiration headers.
2021-11-03 13:22:46.548 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 11:24:46 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 13:22:46.550 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 13:22:46.550 +02:00 [INF] Generating Vary header.
2021-11-03 13:22:46.550 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 13:22:46.564 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 173 - 400 260 application/json;+charset=utf-8 2037.4997ms
2021-11-03 13:22:56.417 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 175
2021-11-03 13:22:56.418 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 13:22:56.418 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 13:22:56.418 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 13:22:56.418 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 13:22:56.418 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 13:22:56.418 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 13:22:56.427 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 13:22:56.428 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Minly.Core.DTOs.UserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-03 13:22:56.434 +02:00 [INF] Registration Attempt for user@example.com 
2021-11-03 13:22:57.463 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 13:22:58.516 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 13:22:58.660 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-11-03 13:22:58.664 +02:00 [WRN] User validation failed: DuplicateUserName;DuplicateEmail.
2021-11-03 13:22:58.671 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.
2021-11-03 13:22:58.672 +02:00 [INF] Executed action Minly.Controllers.AccountController.Register (Minly) in 2243.001ms
2021-11-03 13:22:58.673 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 13:22:58.674 +02:00 [INF] Generating expiration headers.
2021-11-03 13:22:58.674 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 11:24:58 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 13:22:58.674 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 13:22:58.674 +02:00 [INF] Generating Vary header.
2021-11-03 13:22:58.674 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 13:22:58.681 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 175 - 400 135 application/json;+charset=utf-8 2263.5842ms
2021-11-03 13:23:03.074 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 176
2021-11-03 13:23:03.075 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 13:23:03.075 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 13:23:03.075 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 13:23:03.075 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 13:23:03.075 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 13:23:03.075 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 13:23:03.077 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 13:23:03.077 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Minly.Core.DTOs.UserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-03 13:23:03.087 +02:00 [INF] Registration Attempt for user1@example.com 
2021-11-03 13:23:03.128 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 13:23:03.133 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 13:23:03.138 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-11-03 13:23:03.294 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2021-11-03 13:23:03.332 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-11-03 13:23:03.338 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-11-03 13:23:03.392 +02:00 [ERR] Something Went Wrong in the Register
System.InvalidOperationException: Role STRING does not exist.
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.AddToRoleAsync(TUser user, String normalizedRoleName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.AddToRolesAsync(TUser user, IEnumerable`1 roles)
   at Minly.Controllers.AccountController.Register(UserDTO userDTO) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\AccountController.cs:line 62
2021-11-03 13:23:03.459 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-11-03 13:23:03.473 +02:00 [INF] Executed action Minly.Controllers.AccountController.Register (Minly) in 396.3009ms
2021-11-03 13:23:03.473 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 13:23:03.473 +02:00 [INF] Generating expiration headers.
2021-11-03 13:23:03.473 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 11:25:03 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 13:23:03.474 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 13:23:03.474 +02:00 [INF] Generating Vary header.
2021-11-03 13:23:03.474 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 13:23:03.474 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 176 - 500 281 application/problem+json;+charset=utf-8 400.3570ms
2021-11-03 13:23:25.535 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 177
2021-11-03 13:23:25.535 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 13:23:25.535 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 13:23:25.535 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 13:23:25.535 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 13:23:25.535 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 13:23:25.535 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 13:23:25.537 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 13:23:25.541 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Minly.Core.DTOs.UserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-03 13:23:25.542 +02:00 [INF] Registration Attempt for user1@example.com 
2021-11-03 13:23:25.561 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 13:23:25.564 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 13:23:25.571 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-11-03 13:23:25.572 +02:00 [WRN] User validation failed: DuplicateUserName;DuplicateEmail.
2021-11-03 13:23:25.572 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.
2021-11-03 13:23:25.572 +02:00 [INF] Executed action Minly.Controllers.AccountController.Register (Minly) in 31.1807ms
2021-11-03 13:23:25.572 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 13:23:25.572 +02:00 [INF] Generating expiration headers.
2021-11-03 13:23:25.572 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 11:25:25 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 13:23:25.572 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 13:23:25.572 +02:00 [INF] Generating Vary header.
2021-11-03 13:23:25.572 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 13:23:25.573 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 177 - 400 137 application/json;+charset=utf-8 37.9942ms
2021-11-03 13:24:26.613 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 174
2021-11-03 13:24:26.613 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 13:24:26.614 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 13:24:26.614 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 13:24:26.614 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 13:24:26.614 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 13:24:26.614 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 13:24:26.618 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 13:24:26.618 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Minly.Core.DTOs.UserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-03 13:24:26.622 +02:00 [INF] Registration Attempt for user1@example.com 
2021-11-03 13:24:26.632 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 13:24:26.637 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 13:24:26.640 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-11-03 13:24:26.645 +02:00 [WRN] User validation failed: DuplicateUserName;DuplicateEmail.
2021-11-03 13:24:26.646 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.
2021-11-03 13:24:26.646 +02:00 [INF] Executed action Minly.Controllers.AccountController.Register (Minly) in 27.7702ms
2021-11-03 13:24:26.646 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 13:24:26.646 +02:00 [INF] Generating expiration headers.
2021-11-03 13:24:26.646 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 11:26:26 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 13:24:26.646 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 13:24:26.646 +02:00 [INF] Generating Vary header.
2021-11-03 13:24:26.646 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 13:24:26.647 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 174 - 400 137 application/json;+charset=utf-8 34.2813ms
2021-11-03 13:24:44.996 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 184
2021-11-03 13:24:44.996 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 13:24:44.996 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 13:24:44.996 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 13:24:44.996 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 13:24:44.996 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 13:24:44.996 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 13:24:44.996 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 13:24:44.996 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Minly.Core.DTOs.UserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-03 13:24:44.997 +02:00 [INF] Registration Attempt for user12@example.com 
2021-11-03 13:24:45.010 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 13:24:45.012 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 13:24:45.016 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-11-03 13:24:45.025 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2021-11-03 13:24:45.029 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-11-03 13:24:45.066 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2021-11-03 13:24:45.067 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-11-03 13:24:45.082 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 13:24:45.084 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-11-03 13:24:45.120 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2021-11-03 13:24:45.143 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
SELECT @@ROWCOUNT;
2021-11-03 13:24:45.153 +02:00 [INF] Executing AcceptedResult, writing value of type 'null'.
2021-11-03 13:24:45.154 +02:00 [INF] Executed action Minly.Controllers.AccountController.Register (Minly) in 157.4494ms
2021-11-03 13:24:45.154 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 13:24:45.154 +02:00 [INF] Generating expiration headers.
2021-11-03 13:24:45.154 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 11:26:45 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 13:24:45.154 +02:00 [INF] Generating Validation headers.
2021-11-03 13:24:45.170 +02:00 [INF] Validation headers generated. ETag: Strong, "B459C3163512A0580E7791D4B92380E6". Last-Modified: Wed, 03 Nov 2021 11:24:45 GMT
2021-11-03 13:24:45.170 +02:00 [INF] Generating Vary header.
2021-11-03 13:24:45.170 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 13:24:45.172 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 184 - 202 0 - 176.3814ms
2021-11-03 14:50:07.156 +02:00 [INF] Application Is Starting
2021-11-03 14:50:10.215 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-03 14:50:11.137 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-03 14:50:11.138 +02:00 [INF] Hosting environment: Development
2021-11-03 14:50:11.138 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-03 14:50:11.208 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-03 14:50:11.372 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 164.9625ms
2021-11-03 14:50:12.256 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-03 14:50:12.483 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 227.0484ms
2021-11-03 14:51:02.442 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Category/1 - -
2021-11-03 14:51:02.471 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 14:51:02.475 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 14:51:02.475 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 14:51:02.477 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 14:51:02.477 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 14:51:02.477 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 14:51:03.106 +02:00 [INF] Executing endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:51:03.146 +02:00 [INF] Route matched with {action = "GetCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategory(Int32) on controller Minly.Controllers.CategoryController (Minly).
2021-11-03 14:51:05.124 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 14:51:06.524 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Image], [t0].[Name], [t0].[Name_ar], [t0].[Rate], [t0].[ResponseTime], [t0].[CategoriesId], [t0].[StarsId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name]
    FROM [Categories] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime], [c0].[CategoriesId], [c0].[StarsId]
    FROM [CategoryStar] AS [c0]
    INNER JOIN [Stars] AS [s] ON [c0].[StarsId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[CategoriesId]
ORDER BY [t].[Id], [t0].[CategoriesId], [t0].[StarsId], [t0].[Id]
2021-11-03 14:51:06.604 +02:00 [INF] Executing OkObjectResult, writing value of type 'Minly.Core.DTOs.GETCategoryDTO'.
2021-11-03 14:51:06.831 +02:00 [INF] Executed action Minly.Controllers.CategoryController.GetCategory (Minly) in 3679.7947ms
2021-11-03 14:51:06.832 +02:00 [INF] Executed endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:51:06.837 +02:00 [INF] Generating expiration headers.
2021-11-03 14:51:06.839 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 12:53:06 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 14:51:06.841 +02:00 [INF] Generating Validation headers.
2021-11-03 14:51:06.849 +02:00 [INF] Validation headers generated. ETag: Strong, "B9776E6A6E1637C08628570A8AD92426". Last-Modified: Wed, 03 Nov 2021 12:51:06 GMT
2021-11-03 14:51:06.849 +02:00 [INF] Generating Vary header.
2021-11-03 14:51:06.850 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 14:51:06.882 +02:00 [INF] The response could not be cached for this request.
2021-11-03 14:51:06.891 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Category/1 - - - 200 214 application/json;+charset=utf-8 4448.8454ms
2021-11-03 14:51:13.348 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Category/4 - -
2021-11-03 14:51:13.351 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 14:51:13.351 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 14:51:13.351 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 14:51:13.351 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 14:51:13.351 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 14:51:13.351 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 14:51:13.358 +02:00 [INF] Executing endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:51:13.358 +02:00 [INF] Route matched with {action = "GetCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategory(Int32) on controller Minly.Controllers.CategoryController (Minly).
2021-11-03 14:51:13.390 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 14:51:13.399 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Image], [t0].[Name], [t0].[Name_ar], [t0].[Rate], [t0].[ResponseTime], [t0].[CategoriesId], [t0].[StarsId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name]
    FROM [Categories] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime], [c0].[CategoriesId], [c0].[StarsId]
    FROM [CategoryStar] AS [c0]
    INNER JOIN [Stars] AS [s] ON [c0].[StarsId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[CategoriesId]
ORDER BY [t].[Id], [t0].[CategoriesId], [t0].[StarsId], [t0].[Id]
2021-11-03 14:51:13.402 +02:00 [INF] Executing OkObjectResult, writing value of type 'Minly.Core.DTOs.GETCategoryDTO'.
2021-11-03 14:51:13.402 +02:00 [INF] Executed action Minly.Controllers.CategoryController.GetCategory (Minly) in 44.3818ms
2021-11-03 14:51:13.402 +02:00 [INF] Executed endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:51:13.403 +02:00 [INF] Generating expiration headers.
2021-11-03 14:51:13.403 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 12:53:13 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 14:51:13.403 +02:00 [INF] Generating Validation headers.
2021-11-03 14:51:13.403 +02:00 [INF] Validation headers generated. ETag: Strong, "3C1FAA41F62EC8EDF2CD6A9826F1A1B4". Last-Modified: Wed, 03 Nov 2021 12:51:13 GMT
2021-11-03 14:51:13.403 +02:00 [INF] Generating Vary header.
2021-11-03 14:51:13.403 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 14:51:13.403 +02:00 [INF] The response could not be cached for this request.
2021-11-03 14:51:13.404 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Category/4 - - - 200 212 application/json;+charset=utf-8 55.2361ms
2021-11-03 14:51:18.081 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Category/10 - -
2021-11-03 14:51:18.086 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 14:51:18.086 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 14:51:18.086 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 14:51:18.086 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 14:51:18.086 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 14:51:18.086 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 14:51:18.088 +02:00 [INF] Request get:/api/category/10 from IP ::1 has been blocked, quota 1/5s exceeded by 1. Blocked by rule *, TraceIdentifier 80000006-0003-fd00-b63f-84710c7967bb.
2021-11-03 14:51:18.089 +02:00 [INF] Generating expiration headers.
2021-11-03 14:51:18.089 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 12:53:18 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 14:51:18.089 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 14:51:18.089 +02:00 [INF] Generating Vary header.
2021-11-03 14:51:18.089 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 14:51:18.090 +02:00 [INF] The response could not be cached for this request.
2021-11-03 14:51:18.090 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Category/10 - - - 429 - text/plain 9.3500ms
2021-11-03 14:51:20.189 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Category/10 - -
2021-11-03 14:51:20.189 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 14:51:20.189 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 14:51:20.189 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 14:51:20.189 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 14:51:20.189 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 14:51:20.189 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 14:51:20.191 +02:00 [INF] Executing endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:51:20.191 +02:00 [INF] Route matched with {action = "GetCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategory(Int32) on controller Minly.Controllers.CategoryController (Minly).
2021-11-03 14:51:20.203 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 14:51:20.205 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Image], [t0].[Name], [t0].[Name_ar], [t0].[Rate], [t0].[ResponseTime], [t0].[CategoriesId], [t0].[StarsId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name]
    FROM [Categories] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime], [c0].[CategoriesId], [c0].[StarsId]
    FROM [CategoryStar] AS [c0]
    INNER JOIN [Stars] AS [s] ON [c0].[StarsId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[CategoriesId]
ORDER BY [t].[Id], [t0].[CategoriesId], [t0].[StarsId], [t0].[Id]
2021-11-03 14:51:20.211 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2021-11-03 14:51:20.211 +02:00 [INF] Executed action Minly.Controllers.CategoryController.GetCategory (Minly) in 20.0882ms
2021-11-03 14:51:20.211 +02:00 [INF] Executed endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:51:20.211 +02:00 [INF] Generating expiration headers.
2021-11-03 14:51:20.211 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 12:53:20 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 14:51:20.211 +02:00 [INF] Generating Validation headers.
2021-11-03 14:51:20.211 +02:00 [INF] Validation headers generated. ETag: Strong, "438A7858143F96A6B05A5F0C07447B73". Last-Modified: Wed, 03 Nov 2021 12:51:20 GMT
2021-11-03 14:51:20.212 +02:00 [INF] Generating Vary header.
2021-11-03 14:51:20.212 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 14:51:20.212 +02:00 [INF] The response could not be cached for this request.
2021-11-03 14:51:20.212 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Category/10 - - - 204 0 - 23.2948ms
2021-11-03 14:53:41.019 +02:00 [INF] Application Is Starting
2021-11-03 14:53:43.805 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-03 14:53:44.456 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-03 14:53:44.457 +02:00 [INF] Hosting environment: Development
2021-11-03 14:53:44.457 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-03 14:53:44.521 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-03 14:53:44.521 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Category/10 - -
2021-11-03 14:53:44.610 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 14:53:44.613 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 14:53:44.613 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 14:53:44.615 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 14:53:44.615 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 14:53:44.615 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 14:53:44.756 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 239.8671ms
2021-11-03 14:53:45.358 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-03 14:53:45.515 +02:00 [INF] Executing endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:53:45.579 +02:00 [INF] Route matched with {action = "GetCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategory(Int32) on controller Minly.Controllers.CategoryController (Minly).
2021-11-03 14:53:45.664 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 306.6722ms
2021-11-03 14:53:47.486 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 14:53:48.606 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Image], [t0].[Name], [t0].[Name_ar], [t0].[Rate], [t0].[ResponseTime], [t0].[CategoriesId], [t0].[StarsId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name]
    FROM [Categories] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime], [c0].[CategoriesId], [c0].[StarsId]
    FROM [CategoryStar] AS [c0]
    INNER JOIN [Stars] AS [s] ON [c0].[StarsId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[CategoriesId]
ORDER BY [t].[Id], [t0].[CategoriesId], [t0].[StarsId], [t0].[Id]
2021-11-03 14:53:48.657 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2021-11-03 14:53:48.663 +02:00 [INF] Executed action Minly.Controllers.CategoryController.GetCategory (Minly) in 3078.0796ms
2021-11-03 14:53:48.664 +02:00 [INF] Executed endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:53:48.672 +02:00 [INF] Generating expiration headers.
2021-11-03 14:53:48.674 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 12:55:48 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 14:53:48.676 +02:00 [INF] Generating Validation headers.
2021-11-03 14:53:48.687 +02:00 [INF] Validation headers generated. ETag: Strong, "438A7858143F96A6B05A5F0C07447B73". Last-Modified: Wed, 03 Nov 2021 12:53:48 GMT
2021-11-03 14:53:48.687 +02:00 [INF] Generating Vary header.
2021-11-03 14:53:48.687 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 14:53:48.697 +02:00 [INF] The response could not be cached for this request.
2021-11-03 14:53:48.709 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Category/10 - - - 204 0 - 4194.0009ms
2021-11-03 14:53:50.975 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Category/10 - -
2021-11-03 14:53:50.976 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 14:53:50.976 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 14:53:50.976 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 14:53:50.976 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 14:53:50.976 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 14:53:50.976 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 14:53:50.979 +02:00 [INF] Executing endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:53:50.979 +02:00 [INF] Route matched with {action = "GetCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategory(Int32) on controller Minly.Controllers.CategoryController (Minly).
2021-11-03 14:53:51.012 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 14:53:51.024 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Image], [t0].[Name], [t0].[Name_ar], [t0].[Rate], [t0].[ResponseTime], [t0].[CategoriesId], [t0].[StarsId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name]
    FROM [Categories] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime], [c0].[CategoriesId], [c0].[StarsId]
    FROM [CategoryStar] AS [c0]
    INNER JOIN [Stars] AS [s] ON [c0].[StarsId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[CategoriesId]
ORDER BY [t].[Id], [t0].[CategoriesId], [t0].[StarsId], [t0].[Id]
2021-11-03 14:53:51.025 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2021-11-03 14:53:51.025 +02:00 [INF] Executed action Minly.Controllers.CategoryController.GetCategory (Minly) in 46.1217ms
2021-11-03 14:53:51.025 +02:00 [INF] Executed endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:53:51.025 +02:00 [INF] Generating expiration headers.
2021-11-03 14:53:51.026 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 12:55:51 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 14:53:51.026 +02:00 [INF] Generating Validation headers.
2021-11-03 14:53:51.026 +02:00 [INF] Validation headers generated. ETag: Strong, "438A7858143F96A6B05A5F0C07447B73". Last-Modified: Wed, 03 Nov 2021 12:53:51 GMT
2021-11-03 14:53:51.026 +02:00 [INF] Generating Vary header.
2021-11-03 14:53:51.026 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 14:53:51.026 +02:00 [INF] The response could not be cached for this request.
2021-11-03 14:53:51.027 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Category/10 - - - 204 0 - 51.6463ms
2021-11-03 14:53:53.256 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Category/10 - -
2021-11-03 14:53:53.258 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 14:53:53.258 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 14:53:53.258 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 14:53:53.258 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 14:53:53.258 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 14:53:53.258 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 14:53:53.260 +02:00 [INF] Request get:/api/category/10 from IP ::1 has been blocked, quota 1/5s exceeded by 1. Blocked by rule *, TraceIdentifier 80000004-0000-fc00-b63f-84710c7967bb.
2021-11-03 14:53:53.260 +02:00 [INF] Generating expiration headers.
2021-11-03 14:53:53.260 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 12:55:53 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 14:53:53.260 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 14:53:53.261 +02:00 [INF] Generating Vary header.
2021-11-03 14:53:53.261 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 14:53:53.262 +02:00 [INF] The response could not be cached for this request.
2021-11-03 14:53:53.263 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Category/10 - - - 429 - text/plain 6.3745ms
2021-11-03 14:53:54.221 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Category/10 - -
2021-11-03 14:53:54.222 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 14:53:54.222 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 14:53:54.222 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 14:53:54.222 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 14:53:54.222 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 14:53:54.222 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 14:53:54.222 +02:00 [INF] Request get:/api/category/10 from IP ::1 has been blocked, quota 1/5s exceeded by 2. Blocked by rule *, TraceIdentifier 80000005-0000-fc00-b63f-84710c7967bb.
2021-11-03 14:53:54.222 +02:00 [INF] Generating expiration headers.
2021-11-03 14:53:54.222 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 12:55:54 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 14:53:54.222 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 14:53:54.222 +02:00 [INF] Generating Vary header.
2021-11-03 14:53:54.222 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 14:53:54.223 +02:00 [INF] The response could not be cached for this request.
2021-11-03 14:53:54.223 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Category/10 - - - 429 - text/plain 1.6218ms
2021-11-03 14:53:56.511 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Category/10 - -
2021-11-03 14:53:56.511 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 14:53:56.511 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 14:53:56.511 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 14:53:56.511 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 14:53:56.511 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 14:53:56.511 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 14:53:56.513 +02:00 [INF] Executing endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:53:56.513 +02:00 [INF] Route matched with {action = "GetCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategory(Int32) on controller Minly.Controllers.CategoryController (Minly).
2021-11-03 14:53:56.524 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 14:53:56.527 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Image], [t0].[Name], [t0].[Name_ar], [t0].[Rate], [t0].[ResponseTime], [t0].[CategoriesId], [t0].[StarsId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name]
    FROM [Categories] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime], [c0].[CategoriesId], [c0].[StarsId]
    FROM [CategoryStar] AS [c0]
    INNER JOIN [Stars] AS [s] ON [c0].[StarsId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[CategoriesId]
ORDER BY [t].[Id], [t0].[CategoriesId], [t0].[StarsId], [t0].[Id]
2021-11-03 14:53:56.528 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2021-11-03 14:53:56.528 +02:00 [INF] Executed action Minly.Controllers.CategoryController.GetCategory (Minly) in 14.8162ms
2021-11-03 14:53:56.528 +02:00 [INF] Executed endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:53:56.528 +02:00 [INF] Generating expiration headers.
2021-11-03 14:53:56.529 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 12:55:56 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 14:53:56.529 +02:00 [INF] Generating Validation headers.
2021-11-03 14:53:56.529 +02:00 [INF] Validation headers generated. ETag: Strong, "438A7858143F96A6B05A5F0C07447B73". Last-Modified: Wed, 03 Nov 2021 12:53:56 GMT
2021-11-03 14:53:56.529 +02:00 [INF] Generating Vary header.
2021-11-03 14:53:56.529 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 14:53:56.529 +02:00 [INF] The response could not be cached for this request.
2021-11-03 14:53:56.529 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Category/10 - - - 204 0 - 18.7462ms
2021-11-03 14:54:12.471 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Category/10 - -
2021-11-03 14:54:12.471 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 14:54:12.471 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 14:54:12.471 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 14:54:12.471 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 14:54:12.471 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 14:54:12.471 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 14:54:12.472 +02:00 [INF] Executing endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:54:12.472 +02:00 [INF] Route matched with {action = "GetCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategory(Int32) on controller Minly.Controllers.CategoryController (Minly).
2021-11-03 14:54:15.869 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 14:54:28.799 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Image], [t0].[Name], [t0].[Name_ar], [t0].[Rate], [t0].[ResponseTime], [t0].[CategoriesId], [t0].[StarsId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name]
    FROM [Categories] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime], [c0].[CategoriesId], [c0].[StarsId]
    FROM [CategoryStar] AS [c0]
    INNER JOIN [Stars] AS [s] ON [c0].[StarsId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[CategoriesId]
ORDER BY [t].[Id], [t0].[CategoriesId], [t0].[StarsId], [t0].[Id]
2021-11-03 14:54:34.102 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [t].[CategoriesId], [t].[StarsId], [t].[Id], [t].[Description], [t].[Description_ar], [t].[Image], [t].[Name], [t].[Name_ar], [t].[Rate], [t].[ResponseTime]
FROM [Categories] AS [c]
LEFT JOIN (
    SELECT [c0].[CategoriesId], [c0].[StarsId], [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime]
    FROM [CategoryStar] AS [c0]
    INNER JOIN [Stars] AS [s] ON [c0].[StarsId] = [s].[Id]
) AS [t] ON [c].[Id] = [t].[CategoriesId]
ORDER BY [c].[Id], [t].[CategoriesId], [t].[StarsId], [t].[Id]
2021-11-03 14:55:13.926 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2021-11-03 14:55:13.926 +02:00 [INF] Executed action Minly.Controllers.CategoryController.GetCategory (Minly) in 61453.6586ms
2021-11-03 14:55:13.926 +02:00 [INF] Executed endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:55:13.926 +02:00 [INF] Generating expiration headers.
2021-11-03 14:55:13.926 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 12:57:13 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 14:55:13.926 +02:00 [INF] Generating Validation headers.
2021-11-03 14:55:13.926 +02:00 [INF] Validation headers generated. ETag: Strong, "438A7858143F96A6B05A5F0C07447B73". Last-Modified: Wed, 03 Nov 2021 12:55:13 GMT
2021-11-03 14:55:13.927 +02:00 [INF] Generating Vary header.
2021-11-03 14:55:13.927 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 14:55:13.927 +02:00 [INF] The response could not be cached for this request.
2021-11-03 14:55:13.927 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Category/10 - - - 204 0 - 61456.2646ms
2021-11-03 14:55:18.776 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Category/1 - -
2021-11-03 14:55:18.776 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 14:55:18.776 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 14:55:18.776 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 14:55:18.776 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 14:55:18.776 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 14:55:18.776 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 14:55:18.778 +02:00 [INF] Executing endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:55:18.778 +02:00 [INF] Route matched with {action = "GetCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategory(Int32) on controller Minly.Controllers.CategoryController (Minly).
2021-11-03 14:55:20.273 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 14:55:20.288 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Image], [t0].[Name], [t0].[Name_ar], [t0].[Rate], [t0].[ResponseTime], [t0].[CategoriesId], [t0].[StarsId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name]
    FROM [Categories] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime], [c0].[CategoriesId], [c0].[StarsId]
    FROM [CategoryStar] AS [c0]
    INNER JOIN [Stars] AS [s] ON [c0].[StarsId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[CategoriesId]
ORDER BY [t].[Id], [t0].[CategoriesId], [t0].[StarsId], [t0].[Id]
2021-11-03 14:55:20.452 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-11-03 14:55:20.495 +02:00 [INF] Executed action Minly.Controllers.CategoryController.GetCategory (Minly) in 1716.7915ms
2021-11-03 14:55:20.495 +02:00 [INF] Executed endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:55:20.495 +02:00 [INF] Generating expiration headers.
2021-11-03 14:55:20.495 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 12:57:20 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 14:55:20.495 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 14:55:20.495 +02:00 [INF] Generating Vary header.
2021-11-03 14:55:20.495 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 14:55:20.495 +02:00 [INF] The response could not be cached for this request.
2021-11-03 14:55:20.496 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Category/1 - - - 500 273 application/problem+json;+charset=utf-8 1719.7189ms
2021-11-03 14:55:25.879 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Category/4 - -
2021-11-03 14:55:25.879 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 14:55:25.879 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 14:55:25.879 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 14:55:25.879 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 14:55:25.879 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 14:55:25.880 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 14:55:25.880 +02:00 [INF] Executing endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:55:25.880 +02:00 [INF] Route matched with {action = "GetCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategory(Int32) on controller Minly.Controllers.CategoryController (Minly).
2021-11-03 14:55:28.907 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 14:55:28.909 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Image], [t0].[Name], [t0].[Name_ar], [t0].[Rate], [t0].[ResponseTime], [t0].[CategoriesId], [t0].[StarsId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name]
    FROM [Categories] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime], [c0].[CategoriesId], [c0].[StarsId]
    FROM [CategoryStar] AS [c0]
    INNER JOIN [Stars] AS [s] ON [c0].[StarsId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[CategoriesId]
ORDER BY [t].[Id], [t0].[CategoriesId], [t0].[StarsId], [t0].[Id]
2021-11-03 14:55:28.911 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-11-03 14:55:28.911 +02:00 [INF] Executed action Minly.Controllers.CategoryController.GetCategory (Minly) in 3030.9455ms
2021-11-03 14:55:28.911 +02:00 [INF] Executed endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:55:28.911 +02:00 [INF] Generating expiration headers.
2021-11-03 14:55:28.911 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 12:57:28 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 14:55:28.911 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 14:55:28.911 +02:00 [INF] Generating Vary header.
2021-11-03 14:55:28.911 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 14:55:28.912 +02:00 [INF] The response could not be cached for this request.
2021-11-03 14:55:28.912 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Category/4 - - - 500 273 application/problem+json;+charset=utf-8 3033.1226ms
2021-11-03 14:55:33.969 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Category/9 - -
2021-11-03 14:55:33.969 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 14:55:33.969 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 14:55:33.969 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 14:55:33.969 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 14:55:33.969 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 14:55:33.969 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 14:55:33.969 +02:00 [INF] Executing endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:55:33.973 +02:00 [INF] Route matched with {action = "GetCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategory(Int32) on controller Minly.Controllers.CategoryController (Minly).
2021-11-03 14:55:35.678 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 14:55:35.680 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Image], [t0].[Name], [t0].[Name_ar], [t0].[Rate], [t0].[ResponseTime], [t0].[CategoriesId], [t0].[StarsId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name]
    FROM [Categories] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime], [c0].[CategoriesId], [c0].[StarsId]
    FROM [CategoryStar] AS [c0]
    INNER JOIN [Stars] AS [s] ON [c0].[StarsId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[CategoriesId]
ORDER BY [t].[Id], [t0].[CategoriesId], [t0].[StarsId], [t0].[Id]
2021-11-03 14:55:35.681 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2021-11-03 14:55:35.681 +02:00 [INF] Executed action Minly.Controllers.CategoryController.GetCategory (Minly) in 1707.9084ms
2021-11-03 14:55:35.681 +02:00 [INF] Executed endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:55:35.681 +02:00 [INF] Generating expiration headers.
2021-11-03 14:55:35.681 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 12:57:35 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 14:55:35.681 +02:00 [INF] Generating Validation headers.
2021-11-03 14:55:35.681 +02:00 [INF] Validation headers generated. ETag: Strong, "2ACD0C257CE8F668523DF299479242A7". Last-Modified: Wed, 03 Nov 2021 12:55:35 GMT
2021-11-03 14:55:35.681 +02:00 [INF] Generating Vary header.
2021-11-03 14:55:35.681 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 14:55:35.682 +02:00 [INF] The response could not be cached for this request.
2021-11-03 14:55:35.682 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Category/9 - - - 204 0 - 1713.1939ms
2021-11-03 14:55:51.712 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Category/1 - -
2021-11-03 14:55:51.712 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 14:55:51.712 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 14:55:51.712 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 14:55:51.712 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 14:55:51.712 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 14:55:51.712 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 14:55:51.712 +02:00 [INF] Executing endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:55:51.712 +02:00 [INF] Route matched with {action = "GetCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategory(Int32) on controller Minly.Controllers.CategoryController (Minly).
2021-11-03 14:55:53.265 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 14:55:53.276 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Image], [t0].[Name], [t0].[Name_ar], [t0].[Rate], [t0].[ResponseTime], [t0].[CategoriesId], [t0].[StarsId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name]
    FROM [Categories] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime], [c0].[CategoriesId], [c0].[StarsId]
    FROM [CategoryStar] AS [c0]
    INNER JOIN [Stars] AS [s] ON [c0].[StarsId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[CategoriesId]
ORDER BY [t].[Id], [t0].[CategoriesId], [t0].[StarsId], [t0].[Id]
2021-11-03 14:55:53.277 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-11-03 14:55:53.277 +02:00 [INF] Executed action Minly.Controllers.CategoryController.GetCategory (Minly) in 1564.656ms
2021-11-03 14:55:53.277 +02:00 [INF] Executed endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:55:53.277 +02:00 [INF] Generating expiration headers.
2021-11-03 14:55:53.277 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 12:57:53 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 14:55:53.277 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 14:55:53.277 +02:00 [INF] Generating Vary header.
2021-11-03 14:55:53.277 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 14:55:53.277 +02:00 [INF] The response could not be cached for this request.
2021-11-03 14:55:53.278 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Category/1 - - - 500 273 application/problem+json;+charset=utf-8 1566.1461ms
2021-11-03 14:57:11.588 +02:00 [INF] Application Is Starting
2021-11-03 14:57:13.934 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-03 14:57:14.513 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-03 14:57:14.513 +02:00 [INF] Hosting environment: Development
2021-11-03 14:57:14.513 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-03 14:57:14.562 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-03 14:57:14.728 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 170.2774ms
2021-11-03 14:57:15.108 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-03 14:57:15.274 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 165.7002ms
2021-11-03 14:57:21.132 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Category/1 - -
2021-11-03 14:57:21.159 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 14:57:21.163 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 14:57:21.163 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 14:57:21.164 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 14:57:21.164 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 14:57:21.164 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 14:57:21.823 +02:00 [INF] Executing endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:57:21.865 +02:00 [INF] Route matched with {action = "GetCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategory(Int32) on controller Minly.Controllers.CategoryController (Minly).
2021-11-03 14:57:27.854 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 14:57:42.595 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Image], [t0].[Name], [t0].[Name_ar], [t0].[Rate], [t0].[ResponseTime], [t0].[CategoriesId], [t0].[StarsId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name]
    FROM [Categories] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime], [c0].[CategoriesId], [c0].[StarsId]
    FROM [CategoryStar] AS [c0]
    INNER JOIN [Stars] AS [s] ON [c0].[StarsId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[CategoriesId]
ORDER BY [t].[Id], [t0].[CategoriesId], [t0].[StarsId], [t0].[Id]
2021-11-03 14:57:48.712 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [t].[CategoriesId], [t].[StarsId], [t].[Id], [t].[Description], [t].[Description_ar], [t].[Image], [t].[Name], [t].[Name_ar], [t].[Rate], [t].[ResponseTime]
FROM [Categories] AS [c]
LEFT JOIN (
    SELECT [c0].[CategoriesId], [c0].[StarsId], [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime]
    FROM [CategoryStar] AS [c0]
    INNER JOIN [Stars] AS [s] ON [c0].[StarsId] = [s].[Id]
) AS [t] ON [c].[Id] = [t].[CategoriesId]
ORDER BY [c].[Id], [t].[CategoriesId], [t].[StarsId], [t].[Id]
2021-11-03 14:58:39.273 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/api/Category?PageNumber=1&PageSize=10 - -
2021-11-03 14:58:39.298 +02:00 [INF] No cached response available for this request.
2021-11-03 14:58:39.298 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 14:58:39.318 +02:00 [INF] No saved response found in store.
2021-11-03 14:58:39.318 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 14:58:39.318 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 14:58:39.318 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 14:58:39.318 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 14:58:39.335 +02:00 [INF] Executing endpoint 'Minly.Controllers.CategoryController.GetCategories (Minly)'
2021-11-03 14:58:39.343 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategories(Minly.Core.Models.RequestParams) on controller Minly.Controllers.CategoryController (Minly).
2021-11-03 14:58:39.397 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 14:58:39.423 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2021-11-03 14:58:39.430 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results.
2021-11-03 14:58:39.431 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results.
2021-11-03 14:58:39.453 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Image], [t0].[Name], [t0].[Name_ar], [t0].[Rate], [t0].[ResponseTime], [t0].[CategoriesId], [t0].[StarsId]
FROM (
    SELECT [c].[Id], [c].[Name]
    FROM [Categories] AS [c]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime], [c0].[CategoriesId], [c0].[StarsId]
    FROM [CategoryStar] AS [c0]
    INNER JOIN [Stars] AS [s] ON [c0].[StarsId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[CategoriesId]
ORDER BY [t].[Id], [t0].[CategoriesId], [t0].[StarsId], [t0].[Id]
2021-11-03 14:58:39.458 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-11-03 14:58:39.466 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Minly.Core.DTOs.GETCategoryDTO, Minly.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-03 14:58:39.500 +02:00 [INF] Executed action Minly.Controllers.CategoryController.GetCategory (Minly) in 77632.9754ms
2021-11-03 14:58:39.500 +02:00 [INF] Executed action Minly.Controllers.CategoryController.GetCategories (Minly) in 151.9577ms
2021-11-03 14:58:39.502 +02:00 [INF] Executed endpoint 'Minly.Controllers.CategoryController.GetCategories (Minly)'
2021-11-03 14:58:39.502 +02:00 [INF] Executed endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:58:39.505 +02:00 [INF] Generating expiration headers.
2021-11-03 14:58:39.505 +02:00 [INF] Generating expiration headers.
2021-11-03 14:58:39.507 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 13:00:39 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 14:58:39.507 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 13:00:39 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 14:58:39.509 +02:00 [INF] Generating Validation headers.
2021-11-03 14:58:39.509 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 14:58:39.510 +02:00 [INF] Generating Vary header.
2021-11-03 14:58:39.510 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 14:58:39.515 +02:00 [INF] Validation headers generated. ETag: Strong, "A52D4DAD7E943375F5FD946697D7E809". Last-Modified: Wed, 03 Nov 2021 12:58:39 GMT
2021-11-03 14:58:39.515 +02:00 [INF] Generating Vary header.
2021-11-03 14:58:39.515 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 14:58:39.533 +02:00 [INF] The response could not be cached for this request.
2021-11-03 14:58:39.535 +02:00 [INF] The response could not be cached for this request.
2021-11-03 14:58:39.549 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Category/1 - - - 500 273 application/problem+json;+charset=utf-8 78416.7805ms
2021-11-03 14:58:39.549 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/api/Category?PageNumber=1&PageSize=10 - - - 200 1194 application/json;+charset=utf-8 275.8135ms
2021-11-03 14:58:54.088 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Category?PageNumber=1&PageSize=10 - -
2021-11-03 14:58:54.089 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 14:58:54.089 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 14:58:54.090 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 14:58:54.090 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 14:58:54.090 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 14:58:54.090 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 14:58:54.093 +02:00 [INF] Executing endpoint 'Minly.Controllers.CategoryController.GetCategories (Minly)'
2021-11-03 14:58:54.093 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategories(Minly.Core.Models.RequestParams) on controller Minly.Controllers.CategoryController (Minly).
2021-11-03 14:58:54.109 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 14:58:54.113 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2021-11-03 14:58:54.119 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Image], [t0].[Name], [t0].[Name_ar], [t0].[Rate], [t0].[ResponseTime], [t0].[CategoriesId], [t0].[StarsId]
FROM (
    SELECT [c].[Id], [c].[Name]
    FROM [Categories] AS [c]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime], [c0].[CategoriesId], [c0].[StarsId]
    FROM [CategoryStar] AS [c0]
    INNER JOIN [Stars] AS [s] ON [c0].[StarsId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[CategoriesId]
ORDER BY [t].[Id], [t0].[CategoriesId], [t0].[StarsId], [t0].[Id]
2021-11-03 14:58:54.120 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Minly.Core.DTOs.GETCategoryDTO, Minly.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-03 14:58:54.120 +02:00 [INF] Executed action Minly.Controllers.CategoryController.GetCategories (Minly) in 27.3044ms
2021-11-03 14:58:54.121 +02:00 [INF] Executed endpoint 'Minly.Controllers.CategoryController.GetCategories (Minly)'
2021-11-03 14:58:54.121 +02:00 [INF] Generating expiration headers.
2021-11-03 14:58:54.121 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 13:00:54 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 14:58:54.121 +02:00 [INF] Generating Validation headers.
2021-11-03 14:58:54.121 +02:00 [INF] Validation headers generated. ETag: Strong, "EF8A2B1974F93D2DA3E7AA6551F31EE0". Last-Modified: Wed, 03 Nov 2021 12:58:54 GMT
2021-11-03 14:58:54.121 +02:00 [INF] Generating Vary header.
2021-11-03 14:58:54.121 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 14:58:54.121 +02:00 [INF] The response could not be cached for this request.
2021-11-03 14:58:54.122 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Category?PageNumber=1&PageSize=10 - - - 200 1194 application/json;+charset=utf-8 33.6534ms
2021-11-03 14:59:05.741 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/api/Category/1 - -
2021-11-03 14:59:05.743 +02:00 [INF] No cached response available for this request.
2021-11-03 14:59:05.743 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 14:59:05.744 +02:00 [INF] No saved response found in store.
2021-11-03 14:59:05.744 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 14:59:05.744 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 14:59:05.744 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 14:59:05.744 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 14:59:05.744 +02:00 [INF] Executing endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:59:05.745 +02:00 [INF] Route matched with {action = "GetCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategory(Int32) on controller Minly.Controllers.CategoryController (Minly).
2021-11-03 14:59:07.326 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 14:59:07.335 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Image], [t0].[Name], [t0].[Name_ar], [t0].[Rate], [t0].[ResponseTime], [t0].[CategoriesId], [t0].[StarsId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name]
    FROM [Categories] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime], [c0].[CategoriesId], [c0].[StarsId]
    FROM [CategoryStar] AS [c0]
    INNER JOIN [Stars] AS [s] ON [c0].[StarsId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[CategoriesId]
ORDER BY [t].[Id], [t0].[CategoriesId], [t0].[StarsId], [t0].[Id]
2021-11-03 14:59:07.336 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-11-03 14:59:07.336 +02:00 [INF] Executed action Minly.Controllers.CategoryController.GetCategory (Minly) in 1591.3117ms
2021-11-03 14:59:07.336 +02:00 [INF] Executed endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:59:07.336 +02:00 [INF] Generating expiration headers.
2021-11-03 14:59:07.336 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 13:01:07 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 14:59:07.336 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 14:59:07.336 +02:00 [INF] Generating Vary header.
2021-11-03 14:59:07.336 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 14:59:07.337 +02:00 [INF] The response could not be cached for this request.
2021-11-03 14:59:07.337 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/api/Category/1 - - - 500 273 application/problem+json;+charset=utf-8 1595.6934ms
2021-11-03 14:59:50.224 +02:00 [INF] Application Is Starting
2021-11-03 14:59:53.116 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-03 14:59:53.816 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-03 14:59:53.816 +02:00 [INF] Hosting environment: Development
2021-11-03 14:59:53.816 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-03 14:59:53.905 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Category/1 - -
2021-11-03 14:59:53.905 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-03 14:59:53.981 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 14:59:53.984 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 14:59:53.984 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 14:59:53.986 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 14:59:53.986 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 14:59:53.986 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 14:59:54.149 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 245.7455ms
2021-11-03 14:59:54.834 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-03 14:59:54.935 +02:00 [INF] Executing endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:59:55.032 +02:00 [INF] Route matched with {action = "GetCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategory(Int32) on controller Minly.Controllers.CategoryController (Minly).
2021-11-03 14:59:55.096 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 262.1356ms
2021-11-03 14:59:58.446 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 14:59:59.676 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Image], [t0].[Name], [t0].[Name_ar], [t0].[Rate], [t0].[ResponseTime], [t0].[CategoriesId], [t0].[StarsId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name]
    FROM [Categories] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime], [c0].[CategoriesId], [c0].[StarsId]
    FROM [CategoryStar] AS [c0]
    INNER JOIN [Stars] AS [s] ON [c0].[StarsId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[CategoriesId]
ORDER BY [t].[Id], [t0].[CategoriesId], [t0].[StarsId], [t0].[Id]
2021-11-03 14:59:59.759 +02:00 [INF] Executing OkObjectResult, writing value of type 'Minly.Core.DTOs.GETCategoryDTO'.
2021-11-03 14:59:59.962 +02:00 [INF] Executed action Minly.Controllers.CategoryController.GetCategory (Minly) in 4921.1013ms
2021-11-03 14:59:59.963 +02:00 [INF] Executed endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 14:59:59.968 +02:00 [INF] Generating expiration headers.
2021-11-03 14:59:59.970 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 13:01:59 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 14:59:59.972 +02:00 [INF] Generating Validation headers.
2021-11-03 14:59:59.983 +02:00 [INF] Validation headers generated. ETag: Strong, "B9776E6A6E1637C08628570A8AD92426". Last-Modified: Wed, 03 Nov 2021 12:59:59 GMT
2021-11-03 14:59:59.983 +02:00 [INF] Generating Vary header.
2021-11-03 14:59:59.983 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 15:00:00.002 +02:00 [INF] The response could not be cached for this request.
2021-11-03 15:00:00.009 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Category/1 - - - 200 214 application/json;+charset=utf-8 6106.6685ms
2021-11-03 15:00:06.149 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Category/10 - -
2021-11-03 15:00:06.149 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 15:00:06.149 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 15:00:06.149 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 15:00:06.149 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 15:00:06.149 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 15:00:06.149 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 15:00:06.153 +02:00 [INF] Executing endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 15:00:06.154 +02:00 [INF] Route matched with {action = "GetCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategory(Int32) on controller Minly.Controllers.CategoryController (Minly).
2021-11-03 15:00:07.876 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 15:00:07.886 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Image], [t0].[Name], [t0].[Name_ar], [t0].[Rate], [t0].[ResponseTime], [t0].[CategoriesId], [t0].[StarsId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name]
    FROM [Categories] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime], [c0].[CategoriesId], [c0].[StarsId]
    FROM [CategoryStar] AS [c0]
    INNER JOIN [Stars] AS [s] ON [c0].[StarsId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[CategoriesId]
ORDER BY [t].[Id], [t0].[CategoriesId], [t0].[StarsId], [t0].[Id]
2021-11-03 15:00:07.899 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-11-03 15:00:07.917 +02:00 [INF] Executed action Minly.Controllers.CategoryController.GetCategory (Minly) in 1763.1271ms
2021-11-03 15:00:07.917 +02:00 [INF] Executed endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 15:00:07.917 +02:00 [INF] Generating expiration headers.
2021-11-03 15:00:07.917 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 13:02:07 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 15:00:07.917 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 15:00:07.917 +02:00 [INF] Generating Vary header.
2021-11-03 15:00:07.917 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 15:00:07.918 +02:00 [INF] The response could not be cached for this request.
2021-11-03 15:00:07.919 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Category/10 - - - 500 273 application/problem+json;+charset=utf-8 1769.8946ms
2021-11-03 15:00:21.479 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/Category/2 - -
2021-11-03 15:00:21.481 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 15:00:21.481 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 15:00:21.481 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 15:00:21.481 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 15:00:21.481 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 15:00:21.481 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 15:00:21.482 +02:00 [INF] Executing endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 15:00:21.483 +02:00 [INF] Route matched with {action = "GetCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategory(Int32) on controller Minly.Controllers.CategoryController (Minly).
2021-11-03 15:00:26.445 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 15:00:26.461 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t0].[Id], [t0].[Description], [t0].[Description_ar], [t0].[Image], [t0].[Name], [t0].[Name_ar], [t0].[Rate], [t0].[ResponseTime], [t0].[CategoriesId], [t0].[StarsId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name]
    FROM [Categories] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime], [c0].[CategoriesId], [c0].[StarsId]
    FROM [CategoryStar] AS [c0]
    INNER JOIN [Stars] AS [s] ON [c0].[StarsId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[CategoriesId]
ORDER BY [t].[Id], [t0].[CategoriesId], [t0].[StarsId], [t0].[Id]
2021-11-03 15:00:26.462 +02:00 [INF] Executing OkObjectResult, writing value of type 'Minly.Core.DTOs.GETCategoryDTO'.
2021-11-03 15:00:26.462 +02:00 [INF] Executed action Minly.Controllers.CategoryController.GetCategory (Minly) in 4979.5325ms
2021-11-03 15:00:26.462 +02:00 [INF] Executed endpoint 'Minly.Controllers.CategoryController.GetCategory (Minly)'
2021-11-03 15:00:26.462 +02:00 [INF] Generating expiration headers.
2021-11-03 15:00:26.462 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 13:02:26 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 15:00:26.462 +02:00 [INF] Generating Validation headers.
2021-11-03 15:00:26.463 +02:00 [INF] Validation headers generated. ETag: Strong, "C0DF33ACB2A36F52A72D435697B5D991". Last-Modified: Wed, 03 Nov 2021 13:00:26 GMT
2021-11-03 15:00:26.463 +02:00 [INF] Generating Vary header.
2021-11-03 15:00:26.463 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 15:00:26.463 +02:00 [INF] The response could not be cached for this request.
2021-11-03 15:00:26.463 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/Category/2 - - - 200 381 application/json;+charset=utf-8 4983.9106ms
2021-11-03 15:18:54.376 +02:00 [INF] Application Is Starting
2021-11-03 15:18:58.299 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-03 15:18:59.172 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-03 15:18:59.172 +02:00 [INF] Hosting environment: Development
2021-11-03 15:18:59.172 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-03 15:18:59.242 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-03 15:18:59.242 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/login application/json 62
2021-11-03 15:18:59.318 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 15:18:59.320 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 15:18:59.320 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 15:18:59.322 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 15:18:59.322 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 15:18:59.322 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 15:18:59.486 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 246.6164ms
2021-11-03 15:19:00.366 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Login (Minly)'
2021-11-03 15:19:00.457 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Minly.Core.DTOs.LoginUserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-03 15:19:00.499 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-03 15:19:00.986 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 486.8401ms
2021-11-03 15:19:01.908 +02:00 [INF] Login Attempt for user@example.com 
2021-11-03 15:19:03.390 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 15:19:04.893 +02:00 [INF] Executed DbCommand (97ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 15:19:05.202 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-11-03 15:19:05.802 +02:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Minly.Core.DTOs.LoginUserDTO, Minly.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-03 15:19:05.896 +02:00 [INF] Executed action Minly.Controllers.AccountController.Login (Minly) in 5432.5812ms
2021-11-03 15:19:05.897 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Login (Minly)'
2021-11-03 15:19:05.901 +02:00 [INF] Generating expiration headers.
2021-11-03 15:19:05.903 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 13:21:05 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 15:19:05.906 +02:00 [INF] Generating Validation headers.
2021-11-03 15:19:05.917 +02:00 [INF] Validation headers generated. ETag: Strong, "6B34C9B35BAFF891AFDE6F57046C61FF". Last-Modified: Wed, 03 Nov 2021 13:19:05 GMT
2021-11-03 15:19:05.917 +02:00 [INF] Generating Vary header.
2021-11-03 15:19:05.917 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 15:19:05.942 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/login application/json 62 - 202 306 application/json;+charset=utf-8 6703.3372ms
2021-11-03 15:29:15.966 +02:00 [INF] Application Is Starting
2021-11-03 15:29:18.733 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-03 15:29:19.485 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-03 15:29:19.485 +02:00 [INF] Hosting environment: Development
2021-11-03 15:29:19.485 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-03 15:29:19.561 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger - -
2021-11-03 15:29:19.561 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/login application/json 62
2021-11-03 15:29:19.626 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 15:29:19.626 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 15:29:19.627 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 15:29:19.629 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 15:29:19.629 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 15:29:19.630 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 15:29:19.653 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-03 15:29:19.701 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger - - - 301 - - 145.0854ms
2021-11-03 15:29:19.855 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 202.0277ms
2021-11-03 15:29:19.888 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/swagger-ui.css - -
2021-11-03 15:29:19.888 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/swagger-ui-bundle.js - -
2021-11-03 15:29:19.888 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/swagger-ui-standalone-preset.js - -
2021-11-03 15:29:20.090 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-03 15:29:20.102 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/swagger-ui.css - - - 200 142933 text/css 214.2247ms
2021-11-03 15:29:20.103 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-03 15:29:20.148 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/swagger-ui-standalone-preset.js - - - 200 311804 application/javascript 259.5654ms
2021-11-03 15:29:20.152 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-03 15:29:20.209 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/swagger-ui-bundle.js - - - 200 986342 application/javascript 321.0556ms
2021-11-03 15:29:20.497 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-03 15:29:20.552 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Login (Minly)'
2021-11-03 15:29:20.608 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Minly.Core.DTOs.LoginUserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-03 15:29:20.671 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 173.8987ms
2021-11-03 15:29:21.018 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/favicon-32x32.png - -
2021-11-03 15:29:21.020 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2021-11-03 15:29:21.021 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/favicon-32x32.png - - - 200 628 image/png 2.0977ms
2021-11-03 15:29:21.752 +02:00 [INF] Login Attempt for user@example.com 
2021-11-03 15:29:22.795 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 15:29:23.818 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 15:29:24.062 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-11-03 15:29:24.292 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 15:29:24.303 +02:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[Minly.Data.ApiUser, Minly.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-11-03 15:29:24.657 +02:00 [INF] Executed action Minly.Controllers.AccountController.Login (Minly) in 4042.1276ms
2021-11-03 15:29:24.658 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Login (Minly)'
2021-11-03 15:29:24.663 +02:00 [INF] Generating expiration headers.
2021-11-03 15:29:24.665 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 13:31:24 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 15:29:24.667 +02:00 [INF] Generating Validation headers.
2021-11-03 15:29:24.682 +02:00 [INF] Validation headers generated. ETag: Strong, "6DA2660546B5DA414DBFA6F0FA95B95F". Last-Modified: Wed, 03 Nov 2021 13:29:24 GMT
2021-11-03 15:29:24.682 +02:00 [INF] Generating Vary header.
2021-11-03 15:29:24.682 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 15:29:24.700 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/login application/json 62 - 202 486007 application/json;+charset=utf-8 5144.9409ms
2021-11-03 15:30:34.381 +02:00 [INF] Application Is Starting
2021-11-03 15:30:36.720 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-03 15:30:37.331 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-03 15:30:37.332 +02:00 [INF] Hosting environment: Development
2021-11-03 15:30:37.332 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-03 15:30:37.378 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-03 15:30:37.556 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 174.0564ms
2021-11-03 15:30:37.848 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-03 15:30:38.028 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 179.7646ms
2021-11-03 15:30:38.794 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/login application/json 62
2021-11-03 15:30:38.826 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 15:30:38.827 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 15:30:38.827 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 15:30:38.829 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 15:30:38.829 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 15:30:38.829 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 15:30:39.401 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Login (Minly)'
2021-11-03 15:30:39.475 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Minly.Core.DTOs.LoginUserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-03 15:30:40.493 +02:00 [INF] Login Attempt for user@example.com 
2021-11-03 15:30:41.536 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 15:30:42.633 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 15:30:42.894 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-11-03 15:30:43.116 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 15:30:43.139 +02:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Minly.Data.ApiUser, Minly.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-03 15:30:43.212 +02:00 [INF] Executed action Minly.Controllers.AccountController.Login (Minly) in 3731.908ms
2021-11-03 15:30:43.212 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Login (Minly)'
2021-11-03 15:30:43.218 +02:00 [INF] Generating expiration headers.
2021-11-03 15:30:43.220 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 13:32:43 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 15:30:43.222 +02:00 [INF] Generating Validation headers.
2021-11-03 15:30:43.233 +02:00 [INF] Validation headers generated. ETag: Strong, "35EA24263798385FA38C218864C78B69". Last-Modified: Wed, 03 Nov 2021 13:30:43 GMT
2021-11-03 15:30:43.233 +02:00 [INF] Generating Vary header.
2021-11-03 15:30:43.233 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 15:30:43.248 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/login application/json 62 - 202 849 application/json;+charset=utf-8 4454.5368ms
2021-11-03 15:31:53.564 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 184
2021-11-03 15:31:53.568 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 15:31:53.568 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 15:31:53.568 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 15:31:53.568 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 15:31:53.568 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 15:31:53.568 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 15:31:53.578 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 15:31:53.583 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Minly.Core.DTOs.UserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-03 15:31:53.610 +02:00 [INF] Registration Attempt for user12@example.com 
2021-11-03 15:31:53.700 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 15:31:53.705 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 15:31:53.731 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-11-03 15:31:53.734 +02:00 [WRN] User validation failed: DuplicateUserName;DuplicateEmail.
2021-11-03 15:31:53.737 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.
2021-11-03 15:31:53.748 +02:00 [INF] Executed action Minly.Controllers.AccountController.Register (Minly) in 164.2666ms
2021-11-03 15:31:53.748 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 15:31:53.748 +02:00 [INF] Generating expiration headers.
2021-11-03 15:31:53.748 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 13:33:53 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 15:31:53.748 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 15:31:53.748 +02:00 [INF] Generating Vary header.
2021-11-03 15:31:53.748 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 15:31:53.749 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 184 - 400 139 application/json;+charset=utf-8 185.4650ms
2021-11-03 15:33:52.570 +02:00 [INF] Application Is Starting
2021-11-03 15:33:55.036 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-03 15:33:55.691 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-03 15:33:55.691 +02:00 [INF] Hosting environment: Development
2021-11-03 15:33:55.691 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-03 15:33:55.748 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-03 15:33:55.748 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 184
2021-11-03 15:33:55.806 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 15:33:55.807 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 15:33:55.808 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 15:33:55.814 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 15:33:55.814 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 15:33:55.814 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 15:33:55.954 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 212.2058ms
2021-11-03 15:33:56.205 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-03 15:33:56.626 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 421.6051ms
2021-11-03 15:33:56.796 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 15:33:56.897 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Minly.Core.DTOs.UserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-03 15:33:58.132 +02:00 [INF] Registration Attempt for user12@example.com 
2021-11-03 15:33:59.231 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 15:34:00.279 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 15:34:00.422 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-11-03 15:34:00.426 +02:00 [WRN] User validation failed: DuplicateUserName;DuplicateEmail.
2021-11-03 15:34:00.438 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[Microsoft.AspNetCore.Mvc.ModelBinding.ModelStateDictionary, Microsoft.AspNetCore.Mvc.Abstractions, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60],[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-11-03 15:34:00.521 +02:00 [INF] Executed action Minly.Controllers.AccountController.Register (Minly) in 3618.2909ms
2021-11-03 15:34:00.522 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 15:34:00.528 +02:00 [INF] Generating expiration headers.
2021-11-03 15:34:00.530 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 13:36:00 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 15:34:00.533 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 15:34:00.534 +02:00 [INF] Generating Vary header.
2021-11-03 15:34:00.534 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 15:34:00.551 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 184 - 400 759 application/json;+charset=utf-8 4810.0902ms
2021-11-03 15:35:05.283 +02:00 [INF] Application Is Starting
2021-11-03 15:35:08.854 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-03 15:35:09.555 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-03 15:35:09.556 +02:00 [INF] Hosting environment: Development
2021-11-03 15:35:09.556 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-03 15:35:09.611 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 184
2021-11-03 15:35:09.611 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-03 15:35:09.666 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 15:35:09.668 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 15:35:09.669 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 15:35:09.672 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 15:35:09.672 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 15:35:09.672 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 15:35:09.887 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 277.5089ms
2021-11-03 15:35:10.161 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-03 15:35:10.565 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 403.2098ms
2021-11-03 15:35:10.614 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 15:35:10.690 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Minly.Core.DTOs.UserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-03 15:35:11.661 +02:00 [INF] Registration Attempt for user12@example.com 
2021-11-03 15:35:12.679 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 15:35:13.660 +02:00 [INF] Executed DbCommand (64ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 15:35:13.807 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-11-03 15:35:13.810 +02:00 [WRN] User validation failed: DuplicateUserName;DuplicateEmail.
2021-11-03 15:35:13.826 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.ModelBinding.ModelStateDictionary, Microsoft.AspNetCore.Mvc.Abstractions, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2021-11-03 15:35:13.908 +02:00 [INF] Executed action Minly.Controllers.AccountController.Register (Minly) in 3212.8994ms
2021-11-03 15:35:13.908 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 15:35:13.914 +02:00 [INF] Generating expiration headers.
2021-11-03 15:35:13.919 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 13:37:13 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 15:35:13.921 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 15:35:13.921 +02:00 [INF] Generating Vary header.
2021-11-03 15:35:13.922 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 15:35:13.944 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 184 - 400 772 application/json;+charset=utf-8 4336.3125ms
2021-11-03 15:35:39.800 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 183
2021-11-03 15:35:39.804 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 15:35:39.804 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 15:35:39.804 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 15:35:39.804 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 15:35:39.804 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 15:35:39.804 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 15:35:39.811 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 15:35:39.812 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Minly.Core.DTOs.UserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-03 15:35:39.815 +02:00 [INF] Registration Attempt for user12@example.com 
2021-11-03 15:35:39.858 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 15:35:39.868 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 15:35:39.872 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-11-03 15:35:39.873 +02:00 [WRN] User validation failed: DuplicateUserName;DuplicateEmail.
2021-11-03 15:35:39.873 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.ModelBinding.ModelStateDictionary, Microsoft.AspNetCore.Mvc.Abstractions, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2021-11-03 15:35:39.873 +02:00 [INF] Executed action Minly.Controllers.AccountController.Register (Minly) in 61.828ms
2021-11-03 15:35:39.873 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 15:35:39.874 +02:00 [INF] Generating expiration headers.
2021-11-03 15:35:39.874 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 13:37:39 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 15:35:39.874 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 15:35:39.874 +02:00 [INF] Generating Vary header.
2021-11-03 15:35:39.874 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 15:35:39.874 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 183 - 400 772 application/json;+charset=utf-8 74.1120ms
2021-11-03 15:35:48.188 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 179
2021-11-03 15:35:48.190 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 15:35:48.190 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 15:35:48.190 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 15:35:48.190 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 15:35:48.190 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 15:35:48.190 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 15:35:48.192 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 15:35:48.192 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Minly.Core.DTOs.UserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-03 15:35:48.208 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2021-11-03 15:35:48.225 +02:00 [INF] Executed action Minly.Controllers.AccountController.Register (Minly) in 32.4486ms
2021-11-03 15:35:48.225 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 15:35:48.225 +02:00 [INF] Generating expiration headers.
2021-11-03 15:35:48.225 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 13:37:48 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 15:35:48.225 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 15:35:48.225 +02:00 [INF] Generating Vary header.
2021-11-03 15:35:48.225 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 15:35:48.226 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 179 - 400 264 application/problem+json;+charset=utf-8 37.8171ms
2021-11-03 15:36:01.804 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 183
2021-11-03 15:36:01.804 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 15:36:01.804 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 15:36:01.804 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 15:36:01.805 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 15:36:01.805 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 15:36:01.805 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 15:36:01.805 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 15:36:01.805 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Minly.Core.DTOs.UserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-03 15:36:01.805 +02:00 [INF] Registration Attempt for user12@example.com 
2021-11-03 15:36:01.832 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 15:36:01.835 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 15:36:01.838 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-11-03 15:36:01.838 +02:00 [WRN] User validation failed: DuplicateUserName;DuplicateEmail.
2021-11-03 15:36:01.839 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.ModelBinding.ModelStateDictionary, Microsoft.AspNetCore.Mvc.Abstractions, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2021-11-03 15:36:01.839 +02:00 [INF] Executed action Minly.Controllers.AccountController.Register (Minly) in 33.9617ms
2021-11-03 15:36:01.839 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 15:36:01.839 +02:00 [INF] Generating expiration headers.
2021-11-03 15:36:01.839 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 13:38:01 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 15:36:01.839 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 15:36:01.839 +02:00 [INF] Generating Vary header.
2021-11-03 15:36:01.839 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 15:36:01.840 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 183 - 400 772 application/json;+charset=utf-8 35.6832ms
2021-11-03 15:36:17.905 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 184
2021-11-03 15:36:17.905 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 15:36:17.905 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 15:36:17.905 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 15:36:17.905 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 15:36:17.905 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 15:36:17.906 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 15:36:17.907 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 15:36:17.907 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Minly.Core.DTOs.UserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-03 15:36:17.908 +02:00 [INF] Registration Attempt for user12@examplem.com 
2021-11-03 15:36:17.927 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 15:36:17.928 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 15:36:17.931 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-11-03 15:36:18.147 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2021-11-03 15:36:18.199 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-11-03 15:36:18.274 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2021-11-03 15:36:18.282 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-11-03 15:36:18.296 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 15:36:18.298 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-11-03 15:36:18.317 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2021-11-03 15:36:18.323 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
SELECT @@ROWCOUNT;
2021-11-03 15:36:18.329 +02:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-11-03 15:36:18.331 +02:00 [INF] Executed action Minly.Controllers.AccountController.Register (Minly) in 423.0132ms
2021-11-03 15:36:18.331 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 15:36:18.331 +02:00 [INF] Generating expiration headers.
2021-11-03 15:36:18.331 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 13:38:18 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 15:36:18.331 +02:00 [INF] Generating Validation headers.
2021-11-03 15:36:18.340 +02:00 [INF] Validation headers generated. ETag: Strong, "EF411EC9CFA71F2B030984248E48B3E2". Last-Modified: Wed, 03 Nov 2021 13:36:18 GMT
2021-11-03 15:36:18.340 +02:00 [INF] Generating Vary header.
2021-11-03 15:36:18.340 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 15:36:18.340 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 184 - 202 37 application/json;+charset=utf-8 435.6274ms
2021-11-03 15:38:49.978 +02:00 [INF] Application Is Starting
2021-11-03 15:38:52.723 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-03 15:38:53.483 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-03 15:38:53.483 +02:00 [INF] Hosting environment: Development
2021-11-03 15:38:53.483 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-03 15:38:53.577 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-03 15:38:53.577 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/login application/json 62
2021-11-03 15:38:53.716 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 15:38:53.717 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 15:38:53.718 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 15:38:53.720 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 15:38:53.720 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 15:38:53.720 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 15:38:53.877 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 304.0575ms
2021-11-03 15:38:54.051 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-03 15:38:54.432 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 380.9263ms
2021-11-03 15:38:54.470 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Login (Minly)'
2021-11-03 15:38:54.540 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Minly.Core.DTOs.LoginUserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-03 15:38:55.467 +02:00 [INF] Login Attempt for user@example.com 
2021-11-03 15:38:56.481 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 15:38:57.446 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 15:38:57.679 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-11-03 15:38:57.899 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 15:38:57.921 +02:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Minly.Data.ApiUser, Minly.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-03 15:38:58.047 +02:00 [INF] Executed action Minly.Controllers.AccountController.Login (Minly) in 3498.9142ms
2021-11-03 15:38:58.048 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Login (Minly)'
2021-11-03 15:38:58.053 +02:00 [INF] Generating expiration headers.
2021-11-03 15:38:58.056 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 13:40:58 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 15:38:58.059 +02:00 [INF] Generating Validation headers.
2021-11-03 15:38:58.071 +02:00 [INF] Validation headers generated. ETag: Strong, "13E2C7376D7D47FADA2C6C76BFCF8FB2". Last-Modified: Wed, 03 Nov 2021 13:38:58 GMT
2021-11-03 15:38:58.071 +02:00 [INF] Generating Vary header.
2021-11-03 15:38:58.071 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 15:38:58.086 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/login application/json 62 - 202 849 application/json;+charset=utf-8 4514.8670ms
2021-11-03 15:39:06.964 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/login application/json 61
2021-11-03 15:39:06.964 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 15:39:06.964 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 15:39:06.964 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 15:39:06.964 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 15:39:06.964 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 15:39:06.964 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 15:39:06.968 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Login (Minly)'
2021-11-03 15:39:06.968 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Minly.Core.DTOs.LoginUserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-03 15:39:06.969 +02:00 [INF] Login Attempt for user@example.com 
2021-11-03 15:39:07.004 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 15:39:07.007 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 15:39:07.019 +02:00 [WRN] Invalid password for user.
2021-11-03 15:39:07.020 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-11-03 15:39:07.027 +02:00 [INF] Executed action Minly.Controllers.AccountController.Login (Minly) in 58.9284ms
2021-11-03 15:39:07.027 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Login (Minly)'
2021-11-03 15:39:07.027 +02:00 [INF] Generating expiration headers.
2021-11-03 15:39:07.027 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 13:41:07 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 15:39:07.027 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 15:39:07.027 +02:00 [INF] Generating Vary header.
2021-11-03 15:39:07.028 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 15:39:07.029 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/login application/json 61 - 401 83 application/json;+charset=utf-8 65.4151ms
2021-11-03 15:39:19.729 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/login application/json 62
2021-11-03 15:39:19.730 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 15:39:19.731 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 15:39:19.731 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 15:39:19.731 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 15:39:19.731 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 15:39:19.731 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 15:39:19.733 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Login (Minly)'
2021-11-03 15:39:19.733 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Minly.Core.DTOs.LoginUserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-03 15:39:19.745 +02:00 [INF] Login Attempt for user@example.com 
2021-11-03 15:39:19.751 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 15:39:19.757 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 15:39:19.770 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-11-03 15:39:19.771 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 15:39:19.782 +02:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Minly.Data.ApiUser, Minly.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-03 15:39:19.783 +02:00 [INF] Executed action Minly.Controllers.AccountController.Login (Minly) in 49.5641ms
2021-11-03 15:39:19.783 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Login (Minly)'
2021-11-03 15:39:19.783 +02:00 [INF] Generating expiration headers.
2021-11-03 15:39:19.783 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 13:41:19 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 15:39:19.783 +02:00 [INF] Generating Validation headers.
2021-11-03 15:39:19.783 +02:00 [INF] Validation headers generated. ETag: Strong, "830C924BBC97A7777F52D8594DAFCD70". Last-Modified: Wed, 03 Nov 2021 13:39:19 GMT
2021-11-03 15:39:19.783 +02:00 [INF] Generating Vary header.
2021-11-03 15:39:19.783 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 15:39:19.784 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/login application/json 62 - 202 849 application/json;+charset=utf-8 54.4794ms
2021-11-03 16:01:32.779 +02:00 [INF] Application Is Starting
2021-11-03 16:01:35.222 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-03 16:01:35.811 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-03 16:01:35.812 +02:00 [INF] Hosting environment: Development
2021-11-03 16:01:35.812 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-03 16:01:35.871 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-03 16:01:36.026 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 156.6133ms
2021-11-03 16:01:36.175 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-03 16:01:36.307 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 131.4681ms
2021-11-03 16:01:44.808 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 92
2021-11-03 16:01:44.832 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 16:01:44.833 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 16:01:44.833 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 16:01:44.834 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 16:01:44.834 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 16:01:44.834 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 16:01:45.675 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-03 16:01:45.767 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2021-11-03 16:01:45.780 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-11-03 16:01:45.796 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-03 16:01:45.799 +02:00 [INF] Generating expiration headers.
2021-11-03 16:01:45.803 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 14:03:45 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 16:01:45.806 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 16:01:45.807 +02:00 [INF] Generating Vary header.
2021-11-03 16:01:45.807 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 16:01:45.810 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 92 - 401 - - 1002.2326ms
2021-11-03 16:01:54.042 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/login application/json 62
2021-11-03 16:01:54.042 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 16:01:54.042 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 16:01:54.042 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 16:01:54.042 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 16:01:54.042 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 16:01:54.042 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 16:01:54.050 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Login (Minly)'
2021-11-03 16:01:54.091 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Minly.Core.DTOs.LoginUserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-03 16:01:54.978 +02:00 [INF] Login Attempt for user@example.com 
2021-11-03 16:01:55.972 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 16:01:57.843 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 16:01:58.214 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-11-03 16:01:58.277 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 16:01:58.298 +02:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Minly.Data.ApiUser, Minly.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-03 16:01:58.395 +02:00 [INF] Executed action Minly.Controllers.AccountController.Login (Minly) in 4287.6681ms
2021-11-03 16:01:58.396 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Login (Minly)'
2021-11-03 16:01:58.398 +02:00 [INF] Generating expiration headers.
2021-11-03 16:01:58.404 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 14:03:58 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 16:01:58.404 +02:00 [INF] Generating Validation headers.
2021-11-03 16:01:58.429 +02:00 [INF] Validation headers generated. ETag: Strong, "86B0DC5FCD2D79CABD06BF4C0942616C". Last-Modified: Wed, 03 Nov 2021 14:01:58 GMT
2021-11-03 16:01:58.429 +02:00 [INF] Generating Vary header.
2021-11-03 16:01:58.429 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 16:01:58.453 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/login application/json 62 - 202 849 application/json;+charset=utf-8 4411.6422ms
2021-11-03 16:02:16.357 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 92
2021-11-03 16:02:16.359 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 16:02:16.359 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 16:02:16.359 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 16:02:16.359 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 16:02:16.359 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 16:02:16.359 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 16:02:16.378 +02:00 [INF] Successfully validated the token.
2021-11-03 16:02:16.380 +02:00 [INF] Authorization was successful.
2021-11-03 16:02:16.380 +02:00 [INF] Executing endpoint 'Minly.Controllers.EventRateController.CreateEventRate (Minly)'
2021-11-03 16:02:16.387 +02:00 [INF] Route matched with {action = "CreateEventRate", controller = "EventRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEventRate(Minly.Core.DTOs.CreateEventRate) on controller Minly.Controllers.EventRateController (Minly).
2021-11-03 16:02:21.676 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 16:02:21.950 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EventRates] ([ApiUserId], [EventId], [Rate])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [EventRates]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-03 16:02:22.045 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__createEventRate_EventId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[ApiUserId], [e].[EventId], [e].[Rate]
FROM [EventRates] AS [e]
WHERE [e].[EventId] = @__createEventRate_EventId_0
2021-11-03 16:02:22.085 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([e].[Rate]), 0.0E0)
FROM [EventRates] AS [e]
2021-11-03 16:02:22.102 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__createEventRate_EventId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status]
FROM [Events] AS [e]
WHERE [e].[Id] = @__createEventRate_EventId_0
2021-11-03 16:02:22.110 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'Minly.Data.EventRate'.
2021-11-03 16:02:22.168 +02:00 [INF] Executed action Minly.Controllers.EventRateController.CreateEventRate (Minly) in 5780.4901ms
2021-11-03 16:02:22.168 +02:00 [INF] Executed endpoint 'Minly.Controllers.EventRateController.CreateEventRate (Minly)'
2021-11-03 16:02:22.168 +02:00 [INF] Generating expiration headers.
2021-11-03 16:02:22.168 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 14:04:22 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 16:02:22.169 +02:00 [INF] Generating Validation headers.
2021-11-03 16:02:22.169 +02:00 [INF] Validation headers generated. ETag: Strong, "0CE42898B50FB6C4245508AE56797B04". Last-Modified: Wed, 03 Nov 2021 14:02:22 GMT
2021-11-03 16:02:22.169 +02:00 [INF] Generating Vary header.
2021-11-03 16:02:22.169 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 16:02:22.171 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 92 - 201 110 application/json;+charset=utf-8 5813.3340ms
2021-11-03 16:03:11.923 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 92
2021-11-03 16:03:11.923 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 16:03:11.923 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 16:03:11.923 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 16:03:11.923 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 16:03:11.923 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 16:03:11.923 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 16:03:11.929 +02:00 [INF] Successfully validated the token.
2021-11-03 16:03:11.930 +02:00 [INF] Authorization was successful.
2021-11-03 16:03:11.930 +02:00 [INF] Executing endpoint 'Minly.Controllers.EventRateController.CreateEventRate (Minly)'
2021-11-03 16:03:11.930 +02:00 [INF] Route matched with {action = "CreateEventRate", controller = "EventRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEventRate(Minly.Core.DTOs.CreateEventRate) on controller Minly.Controllers.EventRateController (Minly).
2021-11-03 16:03:14.966 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 16:03:14.973 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EventRates] ([ApiUserId], [EventId], [Rate])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [EventRates]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-03 16:03:14.980 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__createEventRate_EventId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[ApiUserId], [e].[EventId], [e].[Rate]
FROM [EventRates] AS [e]
WHERE [e].[EventId] = @__createEventRate_EventId_0
2021-11-03 16:03:14.982 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([e].[Rate]), 0.0E0)
FROM [EventRates] AS [e]
2021-11-03 16:03:14.984 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__createEventRate_EventId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status]
FROM [Events] AS [e]
WHERE [e].[Id] = @__createEventRate_EventId_0
2021-11-03 16:03:14.984 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'Minly.Data.EventRate'.
2021-11-03 16:03:14.985 +02:00 [INF] Executed action Minly.Controllers.EventRateController.CreateEventRate (Minly) in 3054.4114ms
2021-11-03 16:03:14.985 +02:00 [INF] Executed endpoint 'Minly.Controllers.EventRateController.CreateEventRate (Minly)'
2021-11-03 16:03:14.985 +02:00 [INF] Generating expiration headers.
2021-11-03 16:03:14.985 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 14:05:14 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 16:03:14.985 +02:00 [INF] Generating Validation headers.
2021-11-03 16:03:14.985 +02:00 [INF] Validation headers generated. ETag: Strong, "B72102CEAF328D48A7FB55FAE3F83EC1". Last-Modified: Wed, 03 Nov 2021 14:03:14 GMT
2021-11-03 16:03:14.985 +02:00 [INF] Generating Vary header.
2021-11-03 16:03:14.985 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 16:03:14.990 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 92 - 201 110 application/json;+charset=utf-8 3067.8870ms
2021-11-03 16:03:41.276 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 92
2021-11-03 16:03:41.276 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 16:03:41.276 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 16:03:41.276 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 16:03:41.276 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 16:03:41.276 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 16:03:41.276 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 16:03:41.280 +02:00 [INF] Successfully validated the token.
2021-11-03 16:03:41.280 +02:00 [INF] Authorization was successful.
2021-11-03 16:03:41.280 +02:00 [INF] Executing endpoint 'Minly.Controllers.EventRateController.CreateEventRate (Minly)'
2021-11-03 16:03:41.280 +02:00 [INF] Route matched with {action = "CreateEventRate", controller = "EventRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEventRate(Minly.Core.DTOs.CreateEventRate) on controller Minly.Controllers.EventRateController (Minly).
2021-11-03 16:03:50.099 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 16:04:04.274 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EventRates] ([ApiUserId], [EventId], [Rate])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [EventRates]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-03 16:04:26.893 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[@__createEventRate_EventId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[ApiUserId], [e].[EventId], [e].[Rate]
FROM [EventRates] AS [e]
WHERE [e].[EventId] = @__createEventRate_EventId_0
2021-11-03 16:04:32.484 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__createEventRate_EventId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[ApiUserId], [e].[EventId], [e].[Rate]
FROM [EventRates] AS [e]
WHERE [e].[EventId] = @__createEventRate_EventId_0
2021-11-03 16:04:54.699 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([e].[Rate]), 0.0E0)
FROM [EventRates] AS [e]
2021-11-03 16:05:28.788 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__createEventRate_EventId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status]
FROM [Events] AS [e]
WHERE [e].[Id] = @__createEventRate_EventId_0
2021-11-03 16:05:34.196 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status]
FROM [Events] AS [e]
2021-11-03 16:05:46.869 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status]
FROM [Events] AS [e]
2021-11-03 16:06:41.274 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'Minly.Data.EventRate'.
2021-11-03 16:06:41.297 +02:00 [INF] Executed action Minly.Controllers.EventRateController.CreateEventRate (Minly) in 180016.8225ms
2021-11-03 16:06:41.297 +02:00 [INF] Executed endpoint 'Minly.Controllers.EventRateController.CreateEventRate (Minly)'
2021-11-03 16:06:41.297 +02:00 [INF] Generating expiration headers.
2021-11-03 16:06:41.297 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 14:08:41 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 16:06:41.297 +02:00 [INF] Generating Validation headers.
2021-11-03 16:06:41.298 +02:00 [INF] Validation headers generated. ETag: Strong, "1CFAF7F7D49C7D5A55B1BCCE2C10015E". Last-Modified: Wed, 03 Nov 2021 14:06:41 GMT
2021-11-03 16:06:41.298 +02:00 [INF] Generating Vary header.
2021-11-03 16:06:41.298 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 16:06:41.298 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 92 - 201 598 application/json;+charset=utf-8 180022.1084ms
2021-11-03 16:10:50.970 +02:00 [INF] Application Is Starting
2021-11-03 16:10:53.394 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-03 16:10:53.996 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-03 16:10:53.996 +02:00 [INF] Hosting environment: Development
2021-11-03 16:10:53.996 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-03 16:10:54.046 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-03 16:10:54.210 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 164.6216ms
2021-11-03 16:10:54.362 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-03 16:10:54.581 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 218.7312ms
2021-11-03 16:10:55.783 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 92
2021-11-03 16:10:55.821 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 16:10:55.821 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 16:10:55.821 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 16:10:55.825 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 16:10:55.825 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 16:10:55.825 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 16:10:56.937 +02:00 [INF] Successfully validated the token.
2021-11-03 16:10:56.946 +02:00 [INF] Authorization was successful.
2021-11-03 16:10:56.947 +02:00 [INF] Executing endpoint 'Minly.Controllers.EventRateController.CreateEventRate (Minly)'
2021-11-03 16:10:56.987 +02:00 [INF] Route matched with {action = "CreateEventRate", controller = "EventRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEventRate(Minly.Core.DTOs.CreateEventRate) on controller Minly.Controllers.EventRateController (Minly).
2021-11-03 16:11:08.426 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 16:11:15.886 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EventRates] ([ApiUserId], [EventId], [Rate])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [EventRates]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-03 16:11:32.907 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__createEventRate_EventId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[ApiUserId], [e].[EventId], [e].[Rate]
FROM [EventRates] AS [e]
WHERE [e].[EventId] = @__createEventRate_EventId_0
2021-11-03 16:11:44.166 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([e].[Rate]), 0.0E0)
FROM [EventRates] AS [e]
2021-11-03 16:12:08.828 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[@__createEventRate_EventId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status]
FROM [Events] AS [e]
WHERE [e].[Id] = @__createEventRate_EventId_0
2021-11-03 16:12:50.306 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Double), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Events] SET [Date] = @p0, [Description] = @p1, [Description_ar] = @p2, [EventTypeId] = @p3, [Image] = @p4, [Name] = @p5, [Name_ar] = @p6, [Rate] = @p7, [Status] = @p8
WHERE [Id] = @p9;
SELECT @@ROWCOUNT;
2021-11-03 16:12:56.331 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'Minly.Data.EventRate'.
2021-11-03 16:12:56.475 +02:00 [INF] Executed action Minly.Controllers.EventRateController.CreateEventRate (Minly) in 119483.4678ms
2021-11-03 16:12:56.477 +02:00 [INF] Executed endpoint 'Minly.Controllers.EventRateController.CreateEventRate (Minly)'
2021-11-03 16:12:56.482 +02:00 [INF] Generating expiration headers.
2021-11-03 16:12:56.483 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 14:14:56 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 16:12:56.485 +02:00 [INF] Generating Validation headers.
2021-11-03 16:12:56.496 +02:00 [INF] Validation headers generated. ETag: Strong, "0016FA8823F83040BC1FD3CE849FC4B9". Last-Modified: Wed, 03 Nov 2021 14:12:56 GMT
2021-11-03 16:12:56.496 +02:00 [INF] Generating Vary header.
2021-11-03 16:12:56.496 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 16:12:56.512 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 92 - 201 403 application/json;+charset=utf-8 120728.2601ms
2021-11-03 16:15:36.010 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 90
2021-11-03 16:15:36.014 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 16:15:36.015 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 16:15:36.015 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 16:15:36.015 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 16:15:36.015 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 16:15:36.015 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 16:15:36.022 +02:00 [INF] Successfully validated the token.
2021-11-03 16:15:36.022 +02:00 [INF] Authorization was successful.
2021-11-03 16:15:36.023 +02:00 [INF] Executing endpoint 'Minly.Controllers.EventRateController.CreateEventRate (Minly)'
2021-11-03 16:15:36.023 +02:00 [INF] Route matched with {action = "CreateEventRate", controller = "EventRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEventRate(Minly.Core.DTOs.CreateEventRate) on controller Minly.Controllers.EventRateController (Minly).
2021-11-03 16:15:38.438 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 16:15:38.447 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EventRates] ([ApiUserId], [EventId], [Rate])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [EventRates]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-03 16:15:38.454 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__createEventRate_EventId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[ApiUserId], [e].[EventId], [e].[Rate]
FROM [EventRates] AS [e]
WHERE [e].[EventId] = @__createEventRate_EventId_0
2021-11-03 16:15:38.455 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([e].[Rate]), 0.0E0)
FROM [EventRates] AS [e]
2021-11-03 16:15:38.458 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__createEventRate_EventId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status]
FROM [Events] AS [e]
WHERE [e].[Id] = @__createEventRate_EventId_0
2021-11-03 16:15:38.465 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Double), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Events] SET [Date] = @p0, [Description] = @p1, [Description_ar] = @p2, [EventTypeId] = @p3, [Image] = @p4, [Name] = @p5, [Name_ar] = @p6, [Rate] = @p7, [Status] = @p8
WHERE [Id] = @p9;
SELECT @@ROWCOUNT;
2021-11-03 16:15:38.466 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'Minly.Data.EventRate'.
2021-11-03 16:15:38.467 +02:00 [INF] Executed action Minly.Controllers.EventRateController.CreateEventRate (Minly) in 2444.3664ms
2021-11-03 16:15:38.467 +02:00 [INF] Executed endpoint 'Minly.Controllers.EventRateController.CreateEventRate (Minly)'
2021-11-03 16:15:38.467 +02:00 [INF] Generating expiration headers.
2021-11-03 16:15:38.468 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 14:17:38 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 16:15:38.468 +02:00 [INF] Generating Validation headers.
2021-11-03 16:15:38.468 +02:00 [INF] Validation headers generated. ETag: Strong, "09684F58EEB4E5983544E3794A14F2FC". Last-Modified: Wed, 03 Nov 2021 14:15:38 GMT
2021-11-03 16:15:38.468 +02:00 [INF] Generating Vary header.
2021-11-03 16:15:38.468 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 16:15:38.469 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 90 - 201 404 application/json;+charset=utf-8 2458.7776ms
2021-11-03 16:15:55.049 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 90
2021-11-03 16:15:55.050 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 16:15:55.050 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 16:15:55.050 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 16:15:55.050 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 16:15:55.050 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 16:15:55.050 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 16:15:55.052 +02:00 [INF] Successfully validated the token.
2021-11-03 16:15:55.053 +02:00 [INF] Authorization was successful.
2021-11-03 16:15:55.053 +02:00 [INF] Executing endpoint 'Minly.Controllers.EventRateController.CreateEventRate (Minly)'
2021-11-03 16:15:55.053 +02:00 [INF] Route matched with {action = "CreateEventRate", controller = "EventRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEventRate(Minly.Core.DTOs.CreateEventRate) on controller Minly.Controllers.EventRateController (Minly).
2021-11-03 16:15:59.051 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 16:15:59.059 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EventRates] ([ApiUserId], [EventId], [Rate])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [EventRates]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-03 16:15:59.062 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__createEventRate_EventId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[ApiUserId], [e].[EventId], [e].[Rate]
FROM [EventRates] AS [e]
WHERE [e].[EventId] = @__createEventRate_EventId_0
2021-11-03 16:15:59.066 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([e].[Rate]), 0.0E0)
FROM [EventRates] AS [e]
2021-11-03 16:15:59.067 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__createEventRate_EventId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status]
FROM [Events] AS [e]
WHERE [e].[Id] = @__createEventRate_EventId_0
2021-11-03 16:15:59.069 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Double), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Events] SET [Date] = @p0, [Description] = @p1, [Description_ar] = @p2, [EventTypeId] = @p3, [Image] = @p4, [Name] = @p5, [Name_ar] = @p6, [Rate] = @p7, [Status] = @p8
WHERE [Id] = @p9;
SELECT @@ROWCOUNT;
2021-11-03 16:15:59.070 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'Minly.Data.EventRate'.
2021-11-03 16:15:59.070 +02:00 [INF] Executed action Minly.Controllers.EventRateController.CreateEventRate (Minly) in 4017.3913ms
2021-11-03 16:15:59.070 +02:00 [INF] Executed endpoint 'Minly.Controllers.EventRateController.CreateEventRate (Minly)'
2021-11-03 16:15:59.070 +02:00 [INF] Generating expiration headers.
2021-11-03 16:15:59.070 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 14:17:59 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 16:15:59.070 +02:00 [INF] Generating Validation headers.
2021-11-03 16:15:59.070 +02:00 [INF] Validation headers generated. ETag: Strong, "69CB307B4E39CFCEF558CB43EEE8ACB9". Last-Modified: Wed, 03 Nov 2021 14:15:59 GMT
2021-11-03 16:15:59.071 +02:00 [INF] Generating Vary header.
2021-11-03 16:15:59.071 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 16:15:59.071 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 90 - 201 417 application/json;+charset=utf-8 4022.2126ms
2021-11-03 16:50:54.327 +02:00 [INF] Application Is Starting
2021-11-03 16:50:56.915 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-03 16:50:57.564 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-03 16:50:57.565 +02:00 [INF] Hosting environment: Development
2021-11-03 16:50:57.565 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-03 16:50:57.614 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-03 16:50:57.765 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 152.6318ms
2021-11-03 16:50:57.916 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-03 16:50:58.045 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 129.2373ms
2021-11-03 16:51:18.537 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 90
2021-11-03 16:51:18.588 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 16:51:18.589 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 16:51:18.589 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 16:51:18.591 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 16:51:18.591 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 16:51:18.591 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 16:51:19.676 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-03 16:51:19.730 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2021-11-03 16:51:19.741 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-11-03 16:51:19.753 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-03 16:51:19.755 +02:00 [INF] Generating expiration headers.
2021-11-03 16:51:19.758 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 14:53:19 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 16:51:19.760 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 16:51:19.760 +02:00 [INF] Generating Vary header.
2021-11-03 16:51:19.760 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 16:51:19.765 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 90 - 401 - - 1229.7603ms
2021-11-03 16:51:26.487 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/login application/json 62
2021-11-03 16:51:26.487 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 16:51:26.487 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 16:51:26.488 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 16:51:26.488 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 16:51:26.491 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 16:51:26.491 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 16:51:26.496 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Login (Minly)'
2021-11-03 16:51:26.542 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Minly.Core.DTOs.LoginUserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-03 16:51:27.694 +02:00 [INF] Login Attempt for user@example.com 
2021-11-03 16:51:28.787 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 16:51:29.879 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 16:51:30.210 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-11-03 16:51:30.272 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 16:51:30.291 +02:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Minly.Data.ApiUser, Minly.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-03 16:51:30.370 +02:00 [INF] Executed action Minly.Controllers.AccountController.Login (Minly) in 3819.6377ms
2021-11-03 16:51:30.371 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Login (Minly)'
2021-11-03 16:51:30.373 +02:00 [INF] Generating expiration headers.
2021-11-03 16:51:30.373 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 14:53:30 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 16:51:30.373 +02:00 [INF] Generating Validation headers.
2021-11-03 16:51:30.385 +02:00 [INF] Validation headers generated. ETag: Strong, "8C41B17DBADBDCB7C55993D8486EB012". Last-Modified: Wed, 03 Nov 2021 14:51:30 GMT
2021-11-03 16:51:30.385 +02:00 [INF] Generating Vary header.
2021-11-03 16:51:30.385 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 16:51:30.409 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/login application/json 62 - 202 849 application/json;+charset=utf-8 3922.1545ms
2021-11-03 16:51:43.584 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 90
2021-11-03 16:51:43.585 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 16:51:43.585 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 16:51:43.585 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 16:51:43.585 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 16:51:43.585 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 16:51:43.585 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 16:51:43.604 +02:00 [INF] Successfully validated the token.
2021-11-03 16:51:43.606 +02:00 [INF] Authorization was successful.
2021-11-03 16:51:43.606 +02:00 [INF] Executing endpoint 'Minly.Controllers.EventRateController.CreateEventRate (Minly)'
2021-11-03 16:51:43.610 +02:00 [INF] Route matched with {action = "CreateEventRate", controller = "EventRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEventRate(Minly.Core.DTOs.CreateEventRate) on controller Minly.Controllers.EventRateController (Minly).
2021-11-03 16:51:49.986 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 16:51:50.006 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__createEventRate_EventId_0='?' (DbType = Int32), @__createEventRate_ApiUserId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[ApiUserId], [e].[EventId], [e].[Rate]
FROM [EventRates] AS [e]
WHERE ([e].[EventId] = @__createEventRate_EventId_0) AND ([e].[ApiUserId] = @__createEventRate_ApiUserId_1)
2021-11-03 16:51:50.237 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EventRates] ([ApiUserId], [EventId], [Rate])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [EventRates]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-03 16:51:50.308 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__createEventRate_EventId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[ApiUserId], [e].[EventId], [e].[Rate]
FROM [EventRates] AS [e]
WHERE [e].[EventId] = @__createEventRate_EventId_0
2021-11-03 16:51:50.342 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([e].[Rate]), 0.0E0)
FROM [EventRates] AS [e]
2021-11-03 16:51:50.351 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__createEventRate_EventId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status]
FROM [Events] AS [e]
WHERE [e].[Id] = @__createEventRate_EventId_0
2021-11-03 16:51:50.436 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Double), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Events] SET [Date] = @p0, [Description] = @p1, [Description_ar] = @p2, [EventTypeId] = @p3, [Image] = @p4, [Name] = @p5, [Name_ar] = @p6, [Rate] = @p7, [Status] = @p8
WHERE [Id] = @p9;
SELECT @@ROWCOUNT;
2021-11-03 16:51:50.441 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'Minly.Data.EventRate'.
2021-11-03 16:51:50.502 +02:00 [INF] Executed action Minly.Controllers.EventRateController.CreateEventRate (Minly) in 6892.2521ms
2021-11-03 16:51:50.502 +02:00 [INF] Executed endpoint 'Minly.Controllers.EventRateController.CreateEventRate (Minly)'
2021-11-03 16:51:50.502 +02:00 [INF] Generating expiration headers.
2021-11-03 16:51:50.503 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 14:53:50 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 16:51:50.503 +02:00 [INF] Generating Validation headers.
2021-11-03 16:51:50.503 +02:00 [INF] Validation headers generated. ETag: Strong, "90A665E761DED9E65066992C60042F8F". Last-Modified: Wed, 03 Nov 2021 14:51:50 GMT
2021-11-03 16:51:50.503 +02:00 [INF] Generating Vary header.
2021-11-03 16:51:50.503 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 16:51:50.504 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 90 - 201 404 application/json;+charset=utf-8 6920.1521ms
2021-11-03 16:52:11.584 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 90
2021-11-03 16:52:11.584 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 16:52:11.584 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 16:52:11.585 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 16:52:11.585 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 16:52:11.585 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 16:52:11.585 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 16:52:11.593 +02:00 [INF] Successfully validated the token.
2021-11-03 16:52:11.598 +02:00 [INF] Authorization was successful.
2021-11-03 16:52:11.598 +02:00 [INF] Executing endpoint 'Minly.Controllers.EventRateController.CreateEventRate (Minly)'
2021-11-03 16:52:11.598 +02:00 [INF] Route matched with {action = "CreateEventRate", controller = "EventRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEventRate(Minly.Core.DTOs.CreateEventRate) on controller Minly.Controllers.EventRateController (Minly).
2021-11-03 16:52:13.901 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 16:52:13.916 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__createEventRate_EventId_0='?' (DbType = Int32), @__createEventRate_ApiUserId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[ApiUserId], [e].[EventId], [e].[Rate]
FROM [EventRates] AS [e]
WHERE ([e].[EventId] = @__createEventRate_EventId_0) AND ([e].[ApiUserId] = @__createEventRate_ApiUserId_1)
2021-11-03 16:52:14.431 +02:00 [INF] Executed action Minly.Controllers.EventRateController.CreateEventRate (Minly) in 2832.2728ms
2021-11-03 16:52:14.432 +02:00 [INF] Executed endpoint 'Minly.Controllers.EventRateController.CreateEventRate (Minly)'
2021-11-03 16:52:14.435 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The property 'EventRate.Id' has a temporary value while attempting to change the entity's state to 'Modified'. Either set a permanent value explicitly, or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.EntityEntry.set_State(EntityState value)
   at Minly.Core.Repository.GenericRepository`1.Update(T entity) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\GenericRepository.cs:line 99
   at Minly.Controllers.EventRateController.CreateEventRate(CreateEventRate createEventRate) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\EventRateController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2021-11-03 16:52:14.534 +02:00 [ERR] Something Went Wrong in the System.InvalidOperationException: The property 'EventRate.Id' has a temporary value while attempting to change the entity's state to 'Modified'. Either set a permanent value explicitly, or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.EntityEntry.set_State(EntityState value)
   at Minly.Core.Repository.GenericRepository`1.Update(T entity) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\GenericRepository.cs:line 99
   at Minly.Controllers.EventRateController.CreateEventRate(CreateEventRate createEventRate) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\EventRateController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2021-11-03 16:52:14.802 +02:00 [ERR] An exception was thrown attempting to execute the error handler.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, CancellationToken cancellationToken)
   at Minly.Core.ServiceExtensions.<>c.<<ConfigureExceptionHandler>b__2_1>d.MoveNext() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\ServiceExtensions.cs:line 71
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
2021-11-03 16:52:14.806 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The property 'EventRate.Id' has a temporary value while attempting to change the entity's state to 'Modified'. Either set a permanent value explicitly, or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.EntityEntry.set_State(EntityState value)
   at Minly.Core.Repository.GenericRepository`1.Update(T entity) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\GenericRepository.cs:line 99
   at Minly.Controllers.EventRateController.CreateEventRate(CreateEventRate createEventRate) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\EventRateController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-03 16:52:14.834 +02:00 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-03 16:52:14.835 +02:00 [ERR] Connection ID "18302628900129210394", Request ID "8000001e-0003-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: The property 'EventRate.Id' has a temporary value while attempting to change the entity's state to 'Modified'. Either set a permanent value explicitly, or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.EntityEntry.set_State(EntityState value)
   at Minly.Core.Repository.GenericRepository`1.Update(T entity) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\GenericRepository.cs:line 99
   at Minly.Controllers.EventRateController.CreateEventRate(CreateEventRate createEventRate) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\EventRateController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2021-11-03 16:52:14.839 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 90 - 500 - - 3254.8060ms
2021-11-03 16:52:29.462 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 90
2021-11-03 16:52:29.462 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 16:52:29.462 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 16:52:29.462 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 16:52:29.462 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 16:52:29.462 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 16:52:29.462 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 16:52:29.463 +02:00 [INF] Successfully validated the token.
2021-11-03 16:52:29.463 +02:00 [INF] Authorization was successful.
2021-11-03 16:52:29.463 +02:00 [INF] Executing endpoint 'Minly.Controllers.EventRateController.CreateEventRate (Minly)'
2021-11-03 16:52:29.463 +02:00 [INF] Route matched with {action = "CreateEventRate", controller = "EventRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEventRate(Minly.Core.DTOs.CreateEventRate) on controller Minly.Controllers.EventRateController (Minly).
2021-11-03 16:52:37.347 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 16:52:43.016 +02:00 [INF] Executed DbCommand (100ms) [Parameters=[@__createEventRate_EventId_0='?' (DbType = Int32), @__createEventRate_ApiUserId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[ApiUserId], [e].[EventId], [e].[Rate]
FROM [EventRates] AS [e]
WHERE ([e].[EventId] = @__createEventRate_EventId_0) AND ([e].[ApiUserId] = @__createEventRate_ApiUserId_1)
2021-11-03 16:53:10.815 +02:00 [INF] Executed action Minly.Controllers.EventRateController.CreateEventRate (Minly) in 41351.4571ms
2021-11-03 16:53:10.815 +02:00 [INF] Executed endpoint 'Minly.Controllers.EventRateController.CreateEventRate (Minly)'
2021-11-03 16:53:10.816 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The property 'EventRate.Id' has a temporary value while attempting to change the entity's state to 'Modified'. Either set a permanent value explicitly, or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.EntityEntry.set_State(EntityState value)
   at Minly.Core.Repository.GenericRepository`1.Update(T entity) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\GenericRepository.cs:line 99
   at Minly.Controllers.EventRateController.CreateEventRate(CreateEventRate createEventRate) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\EventRateController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2021-11-03 16:53:22.772 +02:00 [ERR] Something Went Wrong in the System.InvalidOperationException: The property 'EventRate.Id' has a temporary value while attempting to change the entity's state to 'Modified'. Either set a permanent value explicitly, or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.EntityEntry.set_State(EntityState value)
   at Minly.Core.Repository.GenericRepository`1.Update(T entity) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\GenericRepository.cs:line 99
   at Minly.Controllers.EventRateController.CreateEventRate(CreateEventRate createEventRate) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\EventRateController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2021-11-03 16:53:22.907 +02:00 [ERR] An exception was thrown attempting to execute the error handler.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, CancellationToken cancellationToken)
   at Minly.Core.ServiceExtensions.<>c.<<ConfigureExceptionHandler>b__2_1>d.MoveNext() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\ServiceExtensions.cs:line 71
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
2021-11-03 16:53:22.909 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The property 'EventRate.Id' has a temporary value while attempting to change the entity's state to 'Modified'. Either set a permanent value explicitly, or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.EntityEntry.set_State(EntityState value)
   at Minly.Core.Repository.GenericRepository`1.Update(T entity) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\GenericRepository.cs:line 99
   at Minly.Controllers.EventRateController.CreateEventRate(CreateEventRate createEventRate) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\EventRateController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-03 16:53:22.911 +02:00 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-03 16:53:22.912 +02:00 [ERR] Connection ID "18302628900129210394", Request ID "8000001f-0003-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: The property 'EventRate.Id' has a temporary value while attempting to change the entity's state to 'Modified'. Either set a permanent value explicitly, or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.EntityEntry.set_State(EntityState value)
   at Minly.Core.Repository.GenericRepository`1.Update(T entity) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\GenericRepository.cs:line 99
   at Minly.Controllers.EventRateController.CreateEventRate(CreateEventRate createEventRate) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\EventRateController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2021-11-03 16:53:22.919 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 90 - 500 - - 53457.0983ms
2021-11-03 16:58:48.252 +02:00 [INF] Application Is Starting
2021-11-03 16:58:50.815 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-03 16:58:51.369 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-03 16:58:51.370 +02:00 [INF] Hosting environment: Development
2021-11-03 16:58:51.370 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-03 16:58:51.422 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-03 16:58:51.638 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 218.2372ms
2021-11-03 16:58:52.010 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-03 16:58:52.094 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 90
2021-11-03 16:58:52.142 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 16:58:52.143 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 16:58:52.143 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 16:58:52.146 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 16:58:52.146 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 16:58:52.146 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 16:58:52.259 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 248.6211ms
2021-11-03 16:58:53.189 +02:00 [INF] Successfully validated the token.
2021-11-03 16:58:53.195 +02:00 [INF] Authorization was successful.
2021-11-03 16:58:53.198 +02:00 [INF] Executing endpoint 'Minly.Controllers.EventRateController.CreateEventRate (Minly)'
2021-11-03 16:58:53.249 +02:00 [INF] Route matched with {action = "CreateEventRate", controller = "EventRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEventRate(Minly.Core.DTOs.CreateEventRate) on controller Minly.Controllers.EventRateController (Minly).
2021-11-03 16:58:57.441 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 16:58:58.692 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[@__createEventRate_EventId_0='?' (DbType = Int32), @__createEventRate_ApiUserId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[ApiUserId], [e].[EventId], [e].[Rate]
FROM [EventRates] AS [e]
WHERE ([e].[EventId] = @__createEventRate_EventId_0) AND ([e].[ApiUserId] = @__createEventRate_ApiUserId_1)
2021-11-03 16:58:58.955 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [EventRates] SET [ApiUserId] = @p0, [EventId] = @p1, [Rate] = @p2
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;
2021-11-03 16:58:58.992 +02:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-11-03 16:58:59.203 +02:00 [INF] Executed action Minly.Controllers.EventRateController.CreateEventRate (Minly) in 5946.8333ms
2021-11-03 16:58:59.204 +02:00 [INF] Executed endpoint 'Minly.Controllers.EventRateController.CreateEventRate (Minly)'
2021-11-03 16:58:59.209 +02:00 [INF] Generating expiration headers.
2021-11-03 16:58:59.211 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 15:00:59 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 16:58:59.217 +02:00 [INF] Generating Validation headers.
2021-11-03 16:58:59.232 +02:00 [INF] Validation headers generated. ETag: Strong, "8B3DBCFA14AF39391CCF6AC78F60DA92". Last-Modified: Wed, 03 Nov 2021 14:58:59 GMT
2021-11-03 16:58:59.233 +02:00 [INF] Generating Vary header.
2021-11-03 16:58:59.233 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 16:58:59.259 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 90 - 202 39 application/json;+charset=utf-8 7164.9734ms
2021-11-03 17:01:07.792 +02:00 [INF] Application Is Starting
2021-11-03 17:01:10.624 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-03 17:01:11.319 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-03 17:01:11.320 +02:00 [INF] Hosting environment: Development
2021-11-03 17:01:11.320 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-03 17:01:11.379 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 90
2021-11-03 17:01:11.379 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-03 17:01:11.450 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 17:01:11.451 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 17:01:11.451 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 17:01:11.454 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 17:01:11.455 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 17:01:11.455 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 17:01:11.638 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 261.4604ms
2021-11-03 17:01:11.837 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-03 17:01:12.221 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 383.2768ms
2021-11-03 17:01:12.621 +02:00 [INF] Successfully validated the token.
2021-11-03 17:01:12.628 +02:00 [INF] Authorization was successful.
2021-11-03 17:01:12.629 +02:00 [INF] Executing endpoint 'Minly.Controllers.EventRateController.CreateEventRate (Minly)'
2021-11-03 17:01:12.688 +02:00 [INF] Route matched with {action = "CreateEventRate", controller = "EventRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEventRate(Minly.Core.DTOs.CreateEventRate) on controller Minly.Controllers.EventRateController (Minly).
2021-11-03 17:01:17.985 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 17:01:19.012 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[@__createEventRate_EventId_0='?' (DbType = Int32), @__createEventRate_ApiUserId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[ApiUserId], [e].[EventId], [e].[Rate]
FROM [EventRates] AS [e]
WHERE ([e].[EventId] = @__createEventRate_EventId_0) AND ([e].[ApiUserId] = @__createEventRate_ApiUserId_1)
2021-11-03 17:01:19.282 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [EventRates] SET [ApiUserId] = @p0, [EventId] = @p1, [Rate] = @p2
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;
2021-11-03 17:01:19.326 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__createEventRate_EventId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[ApiUserId], [e].[EventId], [e].[Rate]
FROM [EventRates] AS [e]
WHERE [e].[EventId] = @__createEventRate_EventId_0
2021-11-03 17:01:19.373 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([e].[Rate]), 0.0E0)
FROM [EventRates] AS [e]
2021-11-03 17:01:19.384 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__createEventRate_EventId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status]
FROM [Events] AS [e]
WHERE [e].[Id] = @__createEventRate_EventId_0
2021-11-03 17:01:19.467 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Double), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Events] SET [Date] = @p0, [Description] = @p1, [Description_ar] = @p2, [EventTypeId] = @p3, [Image] = @p4, [Name] = @p5, [Name_ar] = @p6, [Rate] = @p7, [Status] = @p8
WHERE [Id] = @p9;
SELECT @@ROWCOUNT;
2021-11-03 17:01:19.481 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'Minly.Data.EventRate'.
2021-11-03 17:01:19.595 +02:00 [INF] Executed action Minly.Controllers.EventRateController.CreateEventRate (Minly) in 6901.5522ms
2021-11-03 17:01:19.595 +02:00 [INF] Executed endpoint 'Minly.Controllers.EventRateController.CreateEventRate (Minly)'
2021-11-03 17:01:19.601 +02:00 [INF] Generating expiration headers.
2021-11-03 17:01:19.603 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 15:03:19 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 17:01:19.605 +02:00 [INF] Generating Validation headers.
2021-11-03 17:01:19.616 +02:00 [INF] Validation headers generated. ETag: Strong, "93BCEC9CADE74EA4E471A92F79E07D8C". Last-Modified: Wed, 03 Nov 2021 15:01:19 GMT
2021-11-03 17:01:19.616 +02:00 [INF] Generating Vary header.
2021-11-03 17:01:19.616 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 17:01:19.627 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 90 - 201 110 application/json;+charset=utf-8 8252.3870ms
2021-11-03 17:01:43.463 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 90
2021-11-03 17:01:43.463 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 17:01:43.464 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 17:01:43.464 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 17:01:43.464 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 17:01:43.465 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 17:01:43.469 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 17:01:43.475 +02:00 [INF] Successfully validated the token.
2021-11-03 17:01:43.476 +02:00 [INF] Authorization was successful.
2021-11-03 17:01:43.476 +02:00 [INF] Executing endpoint 'Minly.Controllers.EventRateController.CreateEventRate (Minly)'
2021-11-03 17:01:43.477 +02:00 [INF] Route matched with {action = "CreateEventRate", controller = "EventRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEventRate(Minly.Core.DTOs.CreateEventRate) on controller Minly.Controllers.EventRateController (Minly).
2021-11-03 17:01:45.531 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 17:01:45.536 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__createEventRate_EventId_0='?' (DbType = Int32), @__createEventRate_ApiUserId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[ApiUserId], [e].[EventId], [e].[Rate]
FROM [EventRates] AS [e]
WHERE ([e].[EventId] = @__createEventRate_EventId_0) AND ([e].[ApiUserId] = @__createEventRate_ApiUserId_1)
2021-11-03 17:01:45.545 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [EventRates] SET [ApiUserId] = @p0, [EventId] = @p1, [Rate] = @p2
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;
2021-11-03 17:01:45.547 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__createEventRate_EventId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[ApiUserId], [e].[EventId], [e].[Rate]
FROM [EventRates] AS [e]
WHERE [e].[EventId] = @__createEventRate_EventId_0
2021-11-03 17:01:45.548 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([e].[Rate]), 0.0E0)
FROM [EventRates] AS [e]
2021-11-03 17:01:45.550 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__createEventRate_EventId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status]
FROM [Events] AS [e]
WHERE [e].[Id] = @__createEventRate_EventId_0
2021-11-03 17:01:45.553 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Double), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Events] SET [Date] = @p0, [Description] = @p1, [Description_ar] = @p2, [EventTypeId] = @p3, [Image] = @p4, [Name] = @p5, [Name_ar] = @p6, [Rate] = @p7, [Status] = @p8
WHERE [Id] = @p9;
SELECT @@ROWCOUNT;
2021-11-03 17:01:45.555 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'Minly.Data.EventRate'.
2021-11-03 17:01:45.555 +02:00 [INF] Executed action Minly.Controllers.EventRateController.CreateEventRate (Minly) in 2078.089ms
2021-11-03 17:01:45.555 +02:00 [INF] Executed endpoint 'Minly.Controllers.EventRateController.CreateEventRate (Minly)'
2021-11-03 17:01:45.556 +02:00 [INF] Generating expiration headers.
2021-11-03 17:01:45.556 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 15:03:45 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 17:01:45.556 +02:00 [INF] Generating Validation headers.
2021-11-03 17:01:45.556 +02:00 [INF] Validation headers generated. ETag: Strong, "9EB5B9222E6698ECFF3C1C9A51D80B30". Last-Modified: Wed, 03 Nov 2021 15:01:45 GMT
2021-11-03 17:01:45.556 +02:00 [INF] Generating Vary header.
2021-11-03 17:01:45.556 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 17:01:45.557 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/EventRate application/json 90 - 201 110 application/json;+charset=utf-8 2094.7825ms
2021-11-03 17:05:29.498 +02:00 [INF] Application Is Starting
2021-11-03 17:05:32.496 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-03 17:05:34.030 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-03 17:05:34.030 +02:00 [INF] Hosting environment: Development
2021-11-03 17:05:34.030 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-03 17:05:34.099 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-03 17:05:34.302 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 200.1438ms
2021-11-03 17:05:34.505 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-03 17:05:34.663 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 157.2899ms
2021-11-03 17:05:52.075 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/StarRate application/json 91
2021-11-03 17:05:52.107 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 17:05:52.108 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 17:05:52.108 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 17:05:52.110 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 17:05:52.110 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 17:05:52.110 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 17:05:53.046 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-03 17:05:53.150 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2021-11-03 17:05:53.158 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-11-03 17:05:53.178 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-03 17:05:53.179 +02:00 [INF] Generating expiration headers.
2021-11-03 17:05:53.182 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 15:07:53 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 17:05:53.187 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 17:05:53.188 +02:00 [INF] Generating Vary header.
2021-11-03 17:05:53.188 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 17:05:53.195 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/StarRate application/json 91 - 401 - - 1119.6276ms
2021-11-03 17:06:07.770 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/StarRate application/json 91
2021-11-03 17:06:07.770 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 17:06:07.770 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 17:06:07.770 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 17:06:07.770 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 17:06:07.771 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 17:06:07.771 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 17:06:07.820 +02:00 [INF] Successfully validated the token.
2021-11-03 17:06:07.822 +02:00 [INF] Authorization was successful.
2021-11-03 17:06:07.822 +02:00 [INF] Executing endpoint 'Minly.Controllers.StarRateController.CreateStarRate (Minly)'
2021-11-03 17:06:07.867 +02:00 [INF] Route matched with {action = "CreateStarRate", controller = "StarRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateStarRate(Minly.Core.DTOs.CreateStarRate) on controller Minly.Controllers.StarRateController (Minly).
2021-11-03 17:06:09.840 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 17:06:11.154 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[@__createStarRate_StarId_0='?' (DbType = Int32), @__createStarRate_ApiUserId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ApiUserId], [s].[Rate], [s].[StarId]
FROM [StarRates] AS [s]
WHERE ([s].[StarId] = @__createStarRate_StarId_0) AND ([s].[ApiUserId] = @__createStarRate_ApiUserId_1)
2021-11-03 17:06:11.447 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [StarRates] ([ApiUserId], [Rate], [StarId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [StarRates]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-03 17:06:11.535 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__createStarRate_StarId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[ApiUserId], [s].[Rate], [s].[StarId]
FROM [StarRates] AS [s]
WHERE [s].[StarId] = @__createStarRate_StarId_0
2021-11-03 17:06:11.565 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([s].[Rate]), 0.0E0)
FROM [StarRates] AS [s]
2021-11-03 17:06:11.573 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__createStarRate_StarId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime]
FROM [Stars] AS [s]
WHERE [s].[Id] = @__createStarRate_StarId_0
2021-11-03 17:06:11.623 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Stars] SET [Description] = @p0, [Description_ar] = @p1, [Image] = @p2, [Name] = @p3, [Name_ar] = @p4, [Rate] = @p5, [ResponseTime] = @p6
WHERE [Id] = @p7;
SELECT @@ROWCOUNT;
2021-11-03 17:06:11.637 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'Minly.Data.StarRate'.
2021-11-03 17:06:11.774 +02:00 [INF] Executed action Minly.Controllers.StarRateController.CreateStarRate (Minly) in 3901.9639ms
2021-11-03 17:06:11.775 +02:00 [INF] Executed endpoint 'Minly.Controllers.StarRateController.CreateStarRate (Minly)'
2021-11-03 17:06:11.777 +02:00 [INF] Generating expiration headers.
2021-11-03 17:06:11.777 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 15:08:11 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 17:06:11.777 +02:00 [INF] Generating Validation headers.
2021-11-03 17:06:11.787 +02:00 [INF] Validation headers generated. ETag: Strong, "2F9648711A3CA258E390714FF9586972". Last-Modified: Wed, 03 Nov 2021 15:06:11 GMT
2021-11-03 17:06:11.787 +02:00 [INF] Generating Vary header.
2021-11-03 17:06:11.787 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 17:06:11.799 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/StarRate application/json 91 - 201 330 application/json;+charset=utf-8 4029.0605ms
2021-11-03 17:06:31.791 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/StarRate application/json 91
2021-11-03 17:06:31.792 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 17:06:31.792 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 17:06:31.792 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 17:06:31.792 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 17:06:31.792 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 17:06:31.792 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 17:06:31.795 +02:00 [INF] Successfully validated the token.
2021-11-03 17:06:31.796 +02:00 [INF] Authorization was successful.
2021-11-03 17:06:31.797 +02:00 [INF] Executing endpoint 'Minly.Controllers.StarRateController.CreateStarRate (Minly)'
2021-11-03 17:06:31.798 +02:00 [INF] Route matched with {action = "CreateStarRate", controller = "StarRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateStarRate(Minly.Core.DTOs.CreateStarRate) on controller Minly.Controllers.StarRateController (Minly).
2021-11-03 17:06:31.842 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 17:06:31.853 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__createStarRate_StarId_0='?' (DbType = Int32), @__createStarRate_ApiUserId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ApiUserId], [s].[Rate], [s].[StarId]
FROM [StarRates] AS [s]
WHERE ([s].[StarId] = @__createStarRate_StarId_0) AND ([s].[ApiUserId] = @__createStarRate_ApiUserId_1)
2021-11-03 17:06:31.866 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 450), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [StarRates] SET [ApiUserId] = @p0, [Rate] = @p1, [StarId] = @p2
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;
2021-11-03 17:06:31.869 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__createStarRate_StarId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[ApiUserId], [s].[Rate], [s].[StarId]
FROM [StarRates] AS [s]
WHERE [s].[StarId] = @__createStarRate_StarId_0
2021-11-03 17:06:31.871 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([s].[Rate]), 0.0E0)
FROM [StarRates] AS [s]
2021-11-03 17:06:31.874 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__createStarRate_StarId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime]
FROM [Stars] AS [s]
WHERE [s].[Id] = @__createStarRate_StarId_0
2021-11-03 17:06:31.882 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Stars] SET [Description] = @p0, [Description_ar] = @p1, [Image] = @p2, [Name] = @p3, [Name_ar] = @p4, [Rate] = @p5, [ResponseTime] = @p6
WHERE [Id] = @p7;
SELECT @@ROWCOUNT;
2021-11-03 17:06:31.883 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'Minly.Data.StarRate'.
2021-11-03 17:06:31.884 +02:00 [INF] Executed action Minly.Controllers.StarRateController.CreateStarRate (Minly) in 86.3838ms
2021-11-03 17:06:31.884 +02:00 [INF] Executed endpoint 'Minly.Controllers.StarRateController.CreateStarRate (Minly)'
2021-11-03 17:06:31.884 +02:00 [INF] Generating expiration headers.
2021-11-03 17:06:31.884 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 15:08:31 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 17:06:31.884 +02:00 [INF] Generating Validation headers.
2021-11-03 17:06:31.885 +02:00 [INF] Validation headers generated. ETag: Strong, "3E82312B71A0B43F66E68EC1AE1A855C". Last-Modified: Wed, 03 Nov 2021 15:06:31 GMT
2021-11-03 17:06:31.885 +02:00 [INF] Generating Vary header.
2021-11-03 17:06:31.885 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 17:06:31.886 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/StarRate application/json 91 - 201 108 application/json;+charset=utf-8 95.3189ms
2021-11-03 17:06:46.156 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/StarRate application/json 89
2021-11-03 17:06:46.156 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 17:06:46.156 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 17:06:46.156 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 17:06:46.156 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 17:06:46.156 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 17:06:46.156 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 17:06:46.157 +02:00 [INF] Successfully validated the token.
2021-11-03 17:06:46.157 +02:00 [INF] Authorization was successful.
2021-11-03 17:06:46.157 +02:00 [INF] Executing endpoint 'Minly.Controllers.StarRateController.CreateStarRate (Minly)'
2021-11-03 17:06:46.157 +02:00 [INF] Route matched with {action = "CreateStarRate", controller = "StarRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateStarRate(Minly.Core.DTOs.CreateStarRate) on controller Minly.Controllers.StarRateController (Minly).
2021-11-03 17:06:46.170 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 17:06:46.174 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__createStarRate_StarId_0='?' (DbType = Int32), @__createStarRate_ApiUserId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ApiUserId], [s].[Rate], [s].[StarId]
FROM [StarRates] AS [s]
WHERE ([s].[StarId] = @__createStarRate_StarId_0) AND ([s].[ApiUserId] = @__createStarRate_ApiUserId_1)
2021-11-03 17:06:46.183 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 450), @p1='?' (DbType = Double), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [StarRates] SET [ApiUserId] = @p0, [Rate] = @p1, [StarId] = @p2
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;
2021-11-03 17:06:46.185 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__createStarRate_StarId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[ApiUserId], [s].[Rate], [s].[StarId]
FROM [StarRates] AS [s]
WHERE [s].[StarId] = @__createStarRate_StarId_0
2021-11-03 17:06:46.187 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([s].[Rate]), 0.0E0)
FROM [StarRates] AS [s]
2021-11-03 17:06:46.189 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__createStarRate_StarId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime]
FROM [Stars] AS [s]
WHERE [s].[Id] = @__createStarRate_StarId_0
2021-11-03 17:06:46.198 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Stars] SET [Description] = @p0, [Description_ar] = @p1, [Image] = @p2, [Name] = @p3, [Name_ar] = @p4, [Rate] = @p5, [ResponseTime] = @p6
WHERE [Id] = @p7;
SELECT @@ROWCOUNT;
2021-11-03 17:06:46.199 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'Minly.Data.StarRate'.
2021-11-03 17:06:46.200 +02:00 [INF] Executed action Minly.Controllers.StarRateController.CreateStarRate (Minly) in 42.2399ms
2021-11-03 17:06:46.200 +02:00 [INF] Executed endpoint 'Minly.Controllers.StarRateController.CreateStarRate (Minly)'
2021-11-03 17:06:46.200 +02:00 [INF] Generating expiration headers.
2021-11-03 17:06:46.200 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 15:08:46 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 17:06:46.200 +02:00 [INF] Generating Validation headers.
2021-11-03 17:06:46.200 +02:00 [INF] Validation headers generated. ETag: Strong, "58BDD8CC0412863062F82960E0E6EDF0". Last-Modified: Wed, 03 Nov 2021 15:06:46 GMT
2021-11-03 17:06:46.200 +02:00 [INF] Generating Vary header.
2021-11-03 17:06:46.200 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 17:06:46.201 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/StarRate application/json 89 - 201 108 application/json;+charset=utf-8 45.2408ms
2021-11-03 17:07:05.365 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/StarRate/5 - -
2021-11-03 17:07:05.367 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 17:07:05.369 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 17:07:05.369 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 17:07:05.369 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 17:07:05.369 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 17:07:05.369 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 17:07:05.370 +02:00 [INF] Executing endpoint 'Minly.Controllers.StarRateController.GetStarRate (Minly)'
2021-11-03 17:07:05.377 +02:00 [INF] Route matched with {action = "GetStarRate", controller = "StarRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStarRate(Int32) on controller Minly.Controllers.StarRateController (Minly).
2021-11-03 17:07:05.380 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 17:07:05.770 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ApiUserId], [s].[Rate], [s].[StarId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [s0].[Id], [s0].[Description], [s0].[Description_ar], [s0].[Image], [s0].[Name], [s0].[Name_ar], [s0].[Rate], [s0].[ResponseTime]
FROM [StarRates] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[ApiUserId] = [a].[Id]
INNER JOIN [Stars] AS [s0] ON [s].[StarId] = [s0].[Id]
WHERE [s].[Id] = @__id_0
2021-11-03 17:07:05.779 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2021-11-03 17:07:05.779 +02:00 [INF] Executed action Minly.Controllers.StarRateController.GetStarRate (Minly) in 402.0874ms
2021-11-03 17:07:05.779 +02:00 [INF] Executed endpoint 'Minly.Controllers.StarRateController.GetStarRate (Minly)'
2021-11-03 17:07:05.779 +02:00 [INF] Generating expiration headers.
2021-11-03 17:07:05.779 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 15:09:05 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 17:07:05.779 +02:00 [INF] Generating Validation headers.
2021-11-03 17:07:05.779 +02:00 [INF] Validation headers generated. ETag: Strong, "4F825AB9494B9BBE82CB5FE83D12EC29". Last-Modified: Wed, 03 Nov 2021 15:07:05 GMT
2021-11-03 17:07:05.780 +02:00 [INF] Generating Vary header.
2021-11-03 17:07:05.780 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 17:07:05.786 +02:00 [INF] The response could not be cached for this request.
2021-11-03 17:07:05.786 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/StarRate/5 - - - 204 0 - 421.3705ms
2021-11-03 17:07:11.551 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/StarRate/1 - -
2021-11-03 17:07:11.551 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 17:07:11.551 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 17:07:11.551 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 17:07:11.551 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 17:07:11.551 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 17:07:11.551 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 17:07:11.551 +02:00 [INF] Executing endpoint 'Minly.Controllers.StarRateController.GetStarRate (Minly)'
2021-11-03 17:07:11.551 +02:00 [INF] Route matched with {action = "GetStarRate", controller = "StarRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStarRate(Int32) on controller Minly.Controllers.StarRateController (Minly).
2021-11-03 17:07:11.552 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 17:07:11.555 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ApiUserId], [s].[Rate], [s].[StarId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [s0].[Id], [s0].[Description], [s0].[Description_ar], [s0].[Image], [s0].[Name], [s0].[Name_ar], [s0].[Rate], [s0].[ResponseTime]
FROM [StarRates] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[ApiUserId] = [a].[Id]
INNER JOIN [Stars] AS [s0] ON [s].[StarId] = [s0].[Id]
WHERE [s].[Id] = @__id_0
2021-11-03 17:07:11.565 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2021-11-03 17:07:11.565 +02:00 [INF] Executed action Minly.Controllers.StarRateController.GetStarRate (Minly) in 13.4506ms
2021-11-03 17:07:11.565 +02:00 [INF] Executed endpoint 'Minly.Controllers.StarRateController.GetStarRate (Minly)'
2021-11-03 17:07:11.565 +02:00 [INF] Generating expiration headers.
2021-11-03 17:07:11.565 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 15:09:11 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 17:07:11.565 +02:00 [INF] Generating Validation headers.
2021-11-03 17:07:11.565 +02:00 [INF] Validation headers generated. ETag: Strong, "461A9735C23E5C7498C8719ED623ADED". Last-Modified: Wed, 03 Nov 2021 15:07:11 GMT
2021-11-03 17:07:11.565 +02:00 [INF] Generating Vary header.
2021-11-03 17:07:11.565 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 17:07:11.565 +02:00 [INF] The response could not be cached for this request.
2021-11-03 17:07:11.566 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/StarRate/1 - - - 204 0 - 15.1717ms
2021-11-03 17:07:21.598 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/StarRate/6 - -
2021-11-03 17:07:21.598 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 17:07:21.598 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 17:07:21.598 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 17:07:21.598 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 17:07:21.598 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 17:07:21.598 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 17:07:21.599 +02:00 [INF] Executing endpoint 'Minly.Controllers.StarRateController.GetStarRate (Minly)'
2021-11-03 17:07:21.599 +02:00 [INF] Route matched with {action = "GetStarRate", controller = "StarRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStarRate(Int32) on controller Minly.Controllers.StarRateController (Minly).
2021-11-03 17:07:21.599 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 17:07:21.602 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ApiUserId], [s].[Rate], [s].[StarId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [s0].[Id], [s0].[Description], [s0].[Description_ar], [s0].[Image], [s0].[Name], [s0].[Name_ar], [s0].[Rate], [s0].[ResponseTime]
FROM [StarRates] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[ApiUserId] = [a].[Id]
INNER JOIN [Stars] AS [s0] ON [s].[StarId] = [s0].[Id]
WHERE [s].[Id] = @__id_0
2021-11-03 17:07:21.627 +02:00 [INF] Executing OkObjectResult, writing value of type 'Minly.Core.DTOs.StarRateDTO'.
2021-11-03 17:07:21.641 +02:00 [INF] Executed action Minly.Controllers.StarRateController.GetStarRate (Minly) in 42.213ms
2021-11-03 17:07:21.641 +02:00 [INF] Executed endpoint 'Minly.Controllers.StarRateController.GetStarRate (Minly)'
2021-11-03 17:07:21.641 +02:00 [INF] Generating expiration headers.
2021-11-03 17:07:21.641 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 15:09:21 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 17:07:21.641 +02:00 [INF] Generating Validation headers.
2021-11-03 17:07:21.641 +02:00 [INF] Validation headers generated. ETag: Strong, "DE01CF22CBCC9918BEEA115550FB73C1". Last-Modified: Wed, 03 Nov 2021 15:07:21 GMT
2021-11-03 17:07:21.641 +02:00 [INF] Generating Vary header.
2021-11-03 17:07:21.642 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 17:07:21.643 +02:00 [INF] The response could not be cached for this request.
2021-11-03 17:07:21.643 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/StarRate/6 - - - 200 398 application/json;+charset=utf-8 45.1750ms
2021-11-03 17:07:29.111 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/StarRate - -
2021-11-03 17:07:29.112 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 17:07:29.112 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-03 17:07:29.112 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 17:07:29.112 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 17:07:29.112 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 17:07:29.112 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 17:07:29.112 +02:00 [INF] Executing endpoint 'Minly.Controllers.StarRateController.GetStarRates (Minly)'
2021-11-03 17:07:29.117 +02:00 [INF] Route matched with {action = "GetStarRates", controller = "StarRate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStarRates(Minly.Core.Models.RequestParams) on controller Minly.Controllers.StarRateController (Minly).
2021-11-03 17:07:29.127 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 17:07:29.145 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [StarRates] AS [s]
2021-11-03 17:07:29.156 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results.
2021-11-03 17:07:29.157 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results.
2021-11-03 17:07:29.186 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ApiUserId], [t].[Rate], [t].[StarId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [s0].[Id], [s0].[Description], [s0].[Description_ar], [s0].[Image], [s0].[Name], [s0].[Name_ar], [s0].[Rate], [s0].[ResponseTime]
FROM (
    SELECT [s].[Id], [s].[ApiUserId], [s].[Rate], [s].[StarId]
    FROM [StarRates] AS [s]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [AspNetUsers] AS [a] ON [t].[ApiUserId] = [a].[Id]
INNER JOIN [Stars] AS [s0] ON [t].[StarId] = [s0].[Id]
2021-11-03 17:07:29.201 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Minly.Core.DTOs.StarRateDTO, Minly.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-03 17:07:29.202 +02:00 [INF] Executed action Minly.Controllers.StarRateController.GetStarRates (Minly) in 84.9489ms
2021-11-03 17:07:29.202 +02:00 [INF] Executed endpoint 'Minly.Controllers.StarRateController.GetStarRates (Minly)'
2021-11-03 17:07:29.202 +02:00 [INF] Generating expiration headers.
2021-11-03 17:07:29.202 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 15:09:29 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 17:07:29.203 +02:00 [INF] Generating Validation headers.
2021-11-03 17:07:29.203 +02:00 [INF] Validation headers generated. ETag: Strong, "5DEC06A419BBBFBF7FB1A3843F68373E". Last-Modified: Wed, 03 Nov 2021 15:07:29 GMT
2021-11-03 17:07:29.203 +02:00 [INF] Generating Vary header.
2021-11-03 17:07:29.203 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 17:07:29.203 +02:00 [INF] The response could not be cached for this request.
2021-11-03 17:07:29.207 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/StarRate - - - 200 400 application/json;+charset=utf-8 96.1714ms
2021-11-03 17:08:05.571 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 184
2021-11-03 17:08:05.572 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-03 17:08:05.572 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-03 17:08:05.572 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-03 17:08:05.572 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-03 17:08:05.572 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-03 17:08:05.572 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-03 17:08:05.573 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 17:08:05.579 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Minly.Core.DTOs.UserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-03 17:08:05.937 +02:00 [INF] Registration Attempt for user12@examplem.com 
2021-11-03 17:08:05.977 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-03 17:08:05.992 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-03 17:08:06.054 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-11-03 17:08:06.057 +02:00 [WRN] User validation failed: DuplicateUserName;DuplicateEmail.
2021-11-03 17:08:06.059 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.ModelBinding.ModelStateDictionary, Microsoft.AspNetCore.Mvc.Abstractions, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2021-11-03 17:08:06.088 +02:00 [INF] Executed action Minly.Controllers.AccountController.Register (Minly) in 509.2543ms
2021-11-03 17:08:06.088 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Register (Minly)'
2021-11-03 17:08:06.088 +02:00 [INF] Generating expiration headers.
2021-11-03 17:08:06.088 +02:00 [INF] Expiration headers generated. Expires: Wed, 03 Nov 2021 15:10:06 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-03 17:08:06.088 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-03 17:08:06.088 +02:00 [INF] Generating Vary header.
2021-11-03 17:08:06.088 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-03 17:08:06.090 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/register application/json 184 - 400 774 application/json;+charset=utf-8 518.8154ms
