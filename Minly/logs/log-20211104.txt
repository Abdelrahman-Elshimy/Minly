2021-11-04 10:54:04.525 +02:00 [INF] Application Is Starting
2021-11-04 10:54:11.681 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-04 10:54:13.310 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-04 10:54:13.311 +02:00 [INF] Hosting environment: Development
2021-11-04 10:54:13.311 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-04 10:54:13.461 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-04 10:54:14.006 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 548.0348ms
2021-11-04 10:54:14.458 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-04 10:54:14.658 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 200.7977ms
2021-11-04 11:40:54.849 +02:00 [INF] Application Is Starting
2021-11-04 11:40:58.231 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-04 11:40:59.002 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-04 11:40:59.002 +02:00 [INF] Hosting environment: Development
2021-11-04 11:40:59.005 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-04 11:40:59.062 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-04 11:40:59.217 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 158.1804ms
2021-11-04 11:40:59.674 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-04 11:40:59.870 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 195.5458ms
2021-11-04 11:41:41.527 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/api/RequestEvent?id=1 - -
2021-11-04 11:41:41.551 +02:00 [INF] No cached response available for this request.
2021-11-04 11:41:41.592 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 11:41:41.599 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-04 11:41:41.599 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 11:41:41.602 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 11:41:41.602 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 11:41:41.602 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 11:41:42.485 +02:00 [INF] Executing endpoint 'Minly.Controllers.RequestEventController.GetRequestOfEvent (Minly)'
2021-11-04 11:41:42.564 +02:00 [INF] Route matched with {action = "GetRequestOfEvent", controller = "RequestEvent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestOfEvent(Int32) on controller Minly.Controllers.RequestEventController (Minly).
2021-11-04 11:41:44.908 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-04 11:41:46.359 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[ApiUserId], [r].[DateCreated], [r].[EventId], [r].[Price], [r].[Status], [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status]
FROM [RequestEvents] AS [r]
INNER JOIN [Events] AS [e] ON [r].[EventId] = [e].[Id]
WHERE [r].[EventId] = @__id_0
2021-11-04 11:41:46.443 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Minly.Core.DTOs.RequestEventDTO, Minly.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-04 11:41:46.658 +02:00 [INF] Executed action Minly.Controllers.RequestEventController.GetRequestOfEvent (Minly) in 4087.1268ms
2021-11-04 11:41:46.659 +02:00 [INF] Executed endpoint 'Minly.Controllers.RequestEventController.GetRequestOfEvent (Minly)'
2021-11-04 11:41:46.662 +02:00 [INF] Generating expiration headers.
2021-11-04 11:41:46.664 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 09:43:46 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 11:41:46.665 +02:00 [INF] Generating Validation headers.
2021-11-04 11:41:46.676 +02:00 [INF] Validation headers generated. ETag: Strong, "A5D18EBF6CF71E9699A38B7B86040824". Last-Modified: Thu, 04 Nov 2021 09:41:46 GMT
2021-11-04 11:41:46.676 +02:00 [INF] Generating Vary header.
2021-11-04 11:41:46.676 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 11:41:46.701 +02:00 [INF] The response could not be cached for this request.
2021-11-04 11:41:46.709 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/api/RequestEvent?id=1 - - - 200 2 application/json;+charset=utf-8 5182.5133ms
2021-11-04 11:41:52.260 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/api/RequestEvent?id=4 - -
2021-11-04 11:41:52.260 +02:00 [INF] No cached response available for this request.
2021-11-04 11:41:52.261 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 11:41:52.262 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-04 11:41:52.262 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 11:41:52.262 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 11:41:52.262 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 11:41:52.262 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 11:41:52.267 +02:00 [INF] Executing endpoint 'Minly.Controllers.RequestEventController.GetRequestOfEvent (Minly)'
2021-11-04 11:41:52.268 +02:00 [INF] Route matched with {action = "GetRequestOfEvent", controller = "RequestEvent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestOfEvent(Int32) on controller Minly.Controllers.RequestEventController (Minly).
2021-11-04 11:41:52.330 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-04 11:41:52.619 +02:00 [INF] Executed DbCommand (284ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[ApiUserId], [r].[DateCreated], [r].[EventId], [r].[Price], [r].[Status], [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status]
FROM [RequestEvents] AS [r]
INNER JOIN [Events] AS [e] ON [r].[EventId] = [e].[Id]
WHERE [r].[EventId] = @__id_0
2021-11-04 11:41:52.621 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Minly.Core.DTOs.RequestEventDTO, Minly.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-04 11:41:52.621 +02:00 [INF] Executed action Minly.Controllers.RequestEventController.GetRequestOfEvent (Minly) in 353.5685ms
2021-11-04 11:41:52.621 +02:00 [INF] Executed endpoint 'Minly.Controllers.RequestEventController.GetRequestOfEvent (Minly)'
2021-11-04 11:41:52.622 +02:00 [INF] Generating expiration headers.
2021-11-04 11:41:52.622 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 09:43:52 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 11:41:52.622 +02:00 [INF] Generating Validation headers.
2021-11-04 11:41:52.623 +02:00 [INF] Validation headers generated. ETag: Strong, "BB1EF42FC9CBF4E0A4CFF0990EF14C4E". Last-Modified: Thu, 04 Nov 2021 09:41:52 GMT
2021-11-04 11:41:52.623 +02:00 [INF] Generating Vary header.
2021-11-04 11:41:52.623 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 11:41:52.624 +02:00 [INF] The response could not be cached for this request.
2021-11-04 11:41:52.624 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/api/RequestEvent?id=4 - - - 200 2 application/json;+charset=utf-8 364.6469ms
2021-11-04 11:43:05.097 +02:00 [INF] Application Is Starting
2021-11-04 11:43:07.941 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-04 11:43:08.504 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-04 11:43:08.504 +02:00 [INF] Hosting environment: Development
2021-11-04 11:43:08.504 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-04 11:43:08.556 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-04 11:43:08.718 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 163.0840ms
2021-11-04 11:43:09.013 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-04 11:43:09.148 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "GET api/RequestEvent/{id}" for actions - Minly.Controllers.RequestEventController.GetRequestOfEvent (Minly),Minly.Controllers.RequestEventController.GetRequestEvent (Minly). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-04 11:43:09.233 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 500 - text/plain 220.0759ms
2021-11-04 11:43:31.324 +02:00 [INF] Application Is Starting
2021-11-04 11:43:33.253 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-04 11:43:33.661 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-04 11:43:33.661 +02:00 [INF] Hosting environment: Development
2021-11-04 11:43:33.661 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-04 11:43:33.713 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-04 11:43:33.876 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 166.8889ms
2021-11-04 11:43:34.224 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-04 11:43:34.364 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "GET api/RequestEvent/{id}" for actions - Minly.Controllers.RequestEventController.GetRequestOfEvent (Minly),Minly.Controllers.RequestEventController.GetRequestEvent (Minly). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-04 11:43:34.417 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 500 - text/plain 193.4551ms
2021-11-04 11:44:25.305 +02:00 [INF] Application Is Starting
2021-11-04 11:44:29.607 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-04 11:44:30.309 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-04 11:44:30.310 +02:00 [INF] Hosting environment: Development
2021-11-04 11:44:30.310 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-04 11:44:30.366 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-04 11:44:30.597 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 231.8628ms
2021-11-04 11:44:30.908 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-04 11:44:31.064 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 157.0598ms
2021-11-04 11:45:31.894 +02:00 [INF] Application Is Starting
2021-11-04 11:45:34.415 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-04 11:45:35.061 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-04 11:45:35.061 +02:00 [INF] Hosting environment: Development
2021-11-04 11:45:35.062 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-04 11:45:35.105 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-04 11:45:35.258 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 153.8881ms
2021-11-04 11:45:35.591 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-04 11:45:35.706 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "GET api/RequestEvent/{id}" for actions - Minly.Controllers.RequestEventController.RequestsOfEvent (Minly),Minly.Controllers.RequestEventController.GetRequestEvent (Minly). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-04 11:45:35.848 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 500 - text/plain 257.1212ms
2021-11-04 11:46:17.939 +02:00 [INF] Application Is Starting
2021-11-04 11:46:20.629 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-04 11:46:21.200 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-04 11:46:21.200 +02:00 [INF] Hosting environment: Development
2021-11-04 11:46:21.200 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-04 11:46:21.249 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-04 11:46:21.392 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 142.4992ms
2021-11-04 11:46:21.740 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-04 11:46:21.896 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 155.6739ms
2021-11-04 11:46:36.882 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/api/RequestEvent?id=4 - -
2021-11-04 11:46:36.902 +02:00 [INF] No cached response available for this request.
2021-11-04 11:46:36.928 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 11:46:36.944 +02:00 [INF] No saved response found in store.
2021-11-04 11:46:36.944 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 11:46:36.946 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 11:46:36.946 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 11:46:36.946 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 11:46:37.584 +02:00 [INF] Executing endpoint 'Minly.Controllers.RequestEventController.RequestsOfEvent (Minly)'
2021-11-04 11:46:37.635 +02:00 [INF] Route matched with {action = "RequestsOfEvent", controller = "RequestEvent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestsOfEvent(Int32) on controller Minly.Controllers.RequestEventController (Minly).
2021-11-04 11:46:39.473 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-04 11:46:40.753 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[ApiUserId], [r].[DateCreated], [r].[EventId], [r].[Price], [r].[Status], [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status]
FROM [RequestEvents] AS [r]
INNER JOIN [Events] AS [e] ON [r].[EventId] = [e].[Id]
WHERE [r].[EventId] = @__id_0
2021-11-04 11:46:40.821 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Minly.Core.DTOs.RequestEventDTO, Minly.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-04 11:46:40.965 +02:00 [INF] Executed action Minly.Controllers.RequestEventController.RequestsOfEvent (Minly) in 3324.1639ms
2021-11-04 11:46:40.966 +02:00 [INF] Executed endpoint 'Minly.Controllers.RequestEventController.RequestsOfEvent (Minly)'
2021-11-04 11:46:40.969 +02:00 [INF] Generating expiration headers.
2021-11-04 11:46:40.972 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 09:48:40 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 11:46:40.974 +02:00 [INF] Generating Validation headers.
2021-11-04 11:46:40.976 +02:00 [INF] Validation headers generated. ETag: Strong, "BB1EF42FC9CBF4E0A4CFF0990EF14C4E". Last-Modified: Thu, 04 Nov 2021 09:46:40 GMT
2021-11-04 11:46:40.976 +02:00 [INF] Generating Vary header.
2021-11-04 11:46:40.977 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 11:46:40.990 +02:00 [INF] The response could not be cached for this request.
2021-11-04 11:46:40.997 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/api/RequestEvent?id=4 - - - 200 2 application/json;+charset=utf-8 4114.3362ms
2021-11-04 11:47:13.831 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44379/api/RequestEvent application/json-patch+json 163
2021-11-04 11:47:13.861 +02:00 [INF] CORS policy execution successful.
2021-11-04 11:47:13.862 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 11:47:13.862 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-04 11:47:13.862 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 11:47:13.862 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 11:47:13.862 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 11:47:13.862 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 11:47:13.952 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-11-04 11:47:13.961 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-04 11:47:13.961 +02:00 [INF] Generating expiration headers.
2021-11-04 11:47:13.961 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 09:49:13 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 11:47:13.961 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-04 11:47:13.961 +02:00 [INF] Generating Vary header.
2021-11-04 11:47:13.961 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 11:47:13.970 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44379/api/RequestEvent application/json-patch+json 163 - 401 - - 134.7898ms
2021-11-04 11:48:40.621 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/RequestEvent/1 - -
2021-11-04 11:48:40.628 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 11:48:40.628 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-04 11:48:40.628 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 11:48:40.628 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 11:48:40.628 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 11:48:40.628 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 11:48:40.668 +02:00 [INF] Executing endpoint 'Minly.Controllers.RequestEventController.GetRequestEvent (Minly)'
2021-11-04 11:48:40.672 +02:00 [INF] Route matched with {action = "GetRequestEvent", controller = "RequestEvent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestEvent(Int32) on controller Minly.Controllers.RequestEventController (Minly).
2021-11-04 11:48:40.718 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-04 11:48:40.764 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ApiUserId], [r].[DateCreated], [r].[EventId], [r].[Price], [r].[Status], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status]
FROM [RequestEvents] AS [r]
LEFT JOIN [AspNetUsers] AS [a] ON [r].[ApiUserId] = [a].[Id]
INNER JOIN [Events] AS [e] ON [r].[EventId] = [e].[Id]
WHERE [r].[Id] = @__id_0
2021-11-04 11:48:40.769 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2021-11-04 11:48:40.769 +02:00 [INF] Executed action Minly.Controllers.RequestEventController.GetRequestEvent (Minly) in 97.5152ms
2021-11-04 11:48:40.769 +02:00 [INF] Executed endpoint 'Minly.Controllers.RequestEventController.GetRequestEvent (Minly)'
2021-11-04 11:48:40.769 +02:00 [INF] Generating expiration headers.
2021-11-04 11:48:40.769 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 09:50:40 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 11:48:40.770 +02:00 [INF] Generating Validation headers.
2021-11-04 11:48:40.770 +02:00 [INF] Validation headers generated. ETag: Strong, "E397F728DAA724D5C5E149DB2D568033". Last-Modified: Thu, 04 Nov 2021 09:48:40 GMT
2021-11-04 11:48:40.770 +02:00 [INF] Generating Vary header.
2021-11-04 11:48:40.770 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 11:48:40.770 +02:00 [INF] The response could not be cached for this request.
2021-11-04 11:48:40.770 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/RequestEvent/1 - - - 204 0 - 148.8708ms
2021-11-04 11:48:45.109 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/RequestEvent/4 - -
2021-11-04 11:48:45.110 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 11:48:45.110 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-04 11:48:45.110 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 11:48:45.110 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 11:48:45.110 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 11:48:45.110 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 11:48:45.112 +02:00 [INF] Request get:/api/requestevent/4 from IP ::1 has been blocked, quota 1/5s exceeded by 1. Blocked by rule *, TraceIdentifier 8000000d-0001-ff00-b63f-84710c7967bb.
2021-11-04 11:48:45.113 +02:00 [INF] Generating expiration headers.
2021-11-04 11:48:45.113 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 09:50:45 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 11:48:45.113 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-04 11:48:45.113 +02:00 [INF] Generating Vary header.
2021-11-04 11:48:45.113 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 11:48:45.114 +02:00 [INF] The response could not be cached for this request.
2021-11-04 11:48:45.114 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/RequestEvent/4 - - - 429 - text/plain 5.0143ms
2021-11-04 11:48:47.052 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/RequestEvent/4 - -
2021-11-04 11:48:47.052 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 11:48:47.053 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-04 11:48:47.053 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 11:48:47.053 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 11:48:47.053 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 11:48:47.053 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 11:48:47.053 +02:00 [INF] Executing endpoint 'Minly.Controllers.RequestEventController.GetRequestEvent (Minly)'
2021-11-04 11:48:47.053 +02:00 [INF] Route matched with {action = "GetRequestEvent", controller = "RequestEvent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestEvent(Int32) on controller Minly.Controllers.RequestEventController (Minly).
2021-11-04 11:48:47.064 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-04 11:48:47.070 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ApiUserId], [r].[DateCreated], [r].[EventId], [r].[Price], [r].[Status], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status]
FROM [RequestEvents] AS [r]
LEFT JOIN [AspNetUsers] AS [a] ON [r].[ApiUserId] = [a].[Id]
INNER JOIN [Events] AS [e] ON [r].[EventId] = [e].[Id]
WHERE [r].[Id] = @__id_0
2021-11-04 11:48:47.072 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2021-11-04 11:48:47.072 +02:00 [INF] Executed action Minly.Controllers.RequestEventController.GetRequestEvent (Minly) in 18.5511ms
2021-11-04 11:48:47.072 +02:00 [INF] Executed endpoint 'Minly.Controllers.RequestEventController.GetRequestEvent (Minly)'
2021-11-04 11:48:47.072 +02:00 [INF] Generating expiration headers.
2021-11-04 11:48:47.072 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 09:50:47 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 11:48:47.072 +02:00 [INF] Generating Validation headers.
2021-11-04 11:48:47.072 +02:00 [INF] Validation headers generated. ETag: Strong, "8434FF01C053F40FAB32E7B4875552FB". Last-Modified: Thu, 04 Nov 2021 09:48:47 GMT
2021-11-04 11:48:47.072 +02:00 [INF] Generating Vary header.
2021-11-04 11:48:47.072 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 11:48:47.072 +02:00 [INF] The response could not be cached for this request.
2021-11-04 11:48:47.074 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/RequestEvent/4 - - - 204 0 - 21.6614ms
2021-11-04 11:49:42.005 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/Account/login application/json 62
2021-11-04 11:49:42.005 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 11:49:42.005 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-04 11:49:42.005 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 11:49:42.005 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 11:49:42.005 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 11:49:42.005 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 11:49:42.007 +02:00 [INF] Executing endpoint 'Minly.Controllers.AccountController.Login (Minly)'
2021-11-04 11:49:42.015 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Minly.Core.DTOs.LoginUserDTO) on controller Minly.Controllers.AccountController (Minly).
2021-11-04 11:49:42.408 +02:00 [INF] Login Attempt for user@example.com 
2021-11-04 11:49:42.412 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-04 11:49:42.440 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-04 11:49:42.620 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-11-04 11:49:42.918 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-11-04 11:49:42.929 +02:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Minly.Data.ApiUser, Minly.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-04 11:49:42.968 +02:00 [INF] Executed action Minly.Controllers.AccountController.Login (Minly) in 953.1538ms
2021-11-04 11:49:42.969 +02:00 [INF] Executed endpoint 'Minly.Controllers.AccountController.Login (Minly)'
2021-11-04 11:49:42.969 +02:00 [INF] Generating expiration headers.
2021-11-04 11:49:42.969 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 09:51:42 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 11:49:42.969 +02:00 [INF] Generating Validation headers.
2021-11-04 11:49:42.969 +02:00 [INF] Validation headers generated. ETag: Strong, "8E0851B6B52051303C39265E6FF6E827". Last-Modified: Thu, 04 Nov 2021 09:49:42 GMT
2021-11-04 11:49:42.969 +02:00 [INF] Generating Vary header.
2021-11-04 11:49:42.969 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 11:49:42.971 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/Account/login application/json 62 - 202 849 application/json;+charset=utf-8 966.4606ms
2021-11-04 11:49:59.641 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/RequestEvent - 0
2021-11-04 11:49:59.641 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 11:49:59.641 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-04 11:49:59.641 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 11:49:59.641 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 11:49:59.641 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 11:49:59.641 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 11:49:59.741 +02:00 [INF] Successfully validated the token.
2021-11-04 11:49:59.742 +02:00 [INF] Authorization was successful.
2021-11-04 11:49:59.742 +02:00 [INF] Executing endpoint 'Minly.Controllers.RequestEventController.CreateRequestEvent (Minly)'
2021-11-04 11:49:59.745 +02:00 [INF] Route matched with {action = "CreateRequestEvent", controller = "RequestEvent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRequestEvent(Minly.Core.DTOs.CreateRequestEventDTO) on controller Minly.Controllers.RequestEventController (Minly).
2021-11-04 11:49:59.749 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-11-04 11:49:59.771 +02:00 [INF] Executed action Minly.Controllers.RequestEventController.CreateRequestEvent (Minly) in 26.0434ms
2021-11-04 11:49:59.771 +02:00 [INF] Executed endpoint 'Minly.Controllers.RequestEventController.CreateRequestEvent (Minly)'
2021-11-04 11:49:59.771 +02:00 [INF] Generating expiration headers.
2021-11-04 11:49:59.771 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 09:51:59 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 11:49:59.771 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-04 11:49:59.771 +02:00 [INF] Generating Vary header.
2021-11-04 11:49:59.771 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 11:49:59.772 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/RequestEvent - 0 - 415 175 application/problem+json;+charset=utf-8 131.5179ms
2021-11-04 11:50:20.048 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/RequestEvent application/json 158
2021-11-04 11:50:20.048 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 11:50:20.048 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-04 11:50:20.048 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 11:50:20.048 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 11:50:20.048 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 11:50:20.048 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 11:50:20.054 +02:00 [INF] Successfully validated the token.
2021-11-04 11:50:20.054 +02:00 [INF] Authorization was successful.
2021-11-04 11:50:20.055 +02:00 [INF] Executing endpoint 'Minly.Controllers.RequestEventController.CreateRequestEvent (Minly)'
2021-11-04 11:50:20.055 +02:00 [INF] Route matched with {action = "CreateRequestEvent", controller = "RequestEvent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRequestEvent(Minly.Core.DTOs.CreateRequestEventDTO) on controller Minly.Controllers.RequestEventController (Minly).
2021-11-04 11:50:20.079 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2021-11-04 11:50:20.091 +02:00 [INF] Executed action Minly.Controllers.RequestEventController.CreateRequestEvent (Minly) in 36.353ms
2021-11-04 11:50:20.091 +02:00 [INF] Executed endpoint 'Minly.Controllers.RequestEventController.CreateRequestEvent (Minly)'
2021-11-04 11:50:20.091 +02:00 [INF] Generating expiration headers.
2021-11-04 11:50:20.091 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 09:52:20 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 11:50:20.091 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-04 11:50:20.091 +02:00 [INF] Generating Vary header.
2021-11-04 11:50:20.091 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 11:50:20.094 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/RequestEvent application/json 158 - 400 403 application/problem+json;+charset=utf-8 46.1191ms
2021-11-04 11:50:53.033 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/RequestEvent application/json 158
2021-11-04 11:50:53.033 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 11:50:53.033 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-04 11:50:53.033 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 11:50:53.033 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 11:50:53.033 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 11:50:53.033 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 11:50:53.034 +02:00 [INF] Successfully validated the token.
2021-11-04 11:50:53.035 +02:00 [INF] Authorization was successful.
2021-11-04 11:50:53.036 +02:00 [INF] Executing endpoint 'Minly.Controllers.RequestEventController.CreateRequestEvent (Minly)'
2021-11-04 11:50:53.038 +02:00 [INF] Route matched with {action = "CreateRequestEvent", controller = "RequestEvent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRequestEvent(Minly.Core.DTOs.CreateRequestEventDTO) on controller Minly.Controllers.RequestEventController (Minly).
2021-11-04 11:50:53.045 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-04 11:50:53.054 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__createRequestEvent_EventId_0='?' (DbType = Int32), @__createRequestEvent_ApiUserId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ApiUserId], [r].[DateCreated], [r].[EventId], [r].[Price], [r].[Status]
FROM [RequestEvents] AS [r]
WHERE ([r].[EventId] = @__createRequestEvent_EventId_0) AND ([r].[ApiUserId] = @__createRequestEvent_ApiUserId_1)
2021-11-04 11:50:53.646 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RequestEvents] ([ApiUserId], [DateCreated], [EventId], [Price], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [RequestEvents]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-04 11:50:53.709 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'Minly.Data.RequestEvent'.
2021-11-04 11:50:53.759 +02:00 [INF] Executed action Minly.Controllers.RequestEventController.CreateRequestEvent (Minly) in 720.7548ms
2021-11-04 11:50:53.760 +02:00 [INF] Executed endpoint 'Minly.Controllers.RequestEventController.CreateRequestEvent (Minly)'
2021-11-04 11:50:53.761 +02:00 [INF] Generating expiration headers.
2021-11-04 11:50:53.761 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 09:52:53 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 11:50:53.761 +02:00 [INF] Generating Validation headers.
2021-11-04 11:50:53.761 +02:00 [INF] Validation headers generated. ETag: Strong, "48DEAB00A572CDE785E9718EAEB5B248". Last-Modified: Thu, 04 Nov 2021 09:50:53 GMT
2021-11-04 11:50:53.761 +02:00 [INF] Generating Vary header.
2021-11-04 11:50:53.761 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 11:50:53.762 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/RequestEvent application/json 158 - 201 168 application/json;+charset=utf-8 729.4960ms
2021-11-04 11:51:22.536 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/RequestEvent/4 - -
2021-11-04 11:51:22.536 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 11:51:22.541 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-04 11:51:22.541 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 11:51:22.541 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 11:51:22.541 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 11:51:22.541 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 11:51:22.542 +02:00 [INF] Executing endpoint 'Minly.Controllers.RequestEventController.GetRequestEvent (Minly)'
2021-11-04 11:51:22.542 +02:00 [INF] Route matched with {action = "GetRequestEvent", controller = "RequestEvent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestEvent(Int32) on controller Minly.Controllers.RequestEventController (Minly).
2021-11-04 11:51:22.543 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-04 11:51:22.552 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ApiUserId], [r].[DateCreated], [r].[EventId], [r].[Price], [r].[Status], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status]
FROM [RequestEvents] AS [r]
LEFT JOIN [AspNetUsers] AS [a] ON [r].[ApiUserId] = [a].[Id]
INNER JOIN [Events] AS [e] ON [r].[EventId] = [e].[Id]
WHERE [r].[Id] = @__id_0
2021-11-04 11:51:22.559 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2021-11-04 11:51:22.559 +02:00 [INF] Executed action Minly.Controllers.RequestEventController.GetRequestEvent (Minly) in 16.6267ms
2021-11-04 11:51:22.559 +02:00 [INF] Executed endpoint 'Minly.Controllers.RequestEventController.GetRequestEvent (Minly)'
2021-11-04 11:51:22.559 +02:00 [INF] Generating expiration headers.
2021-11-04 11:51:22.559 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 09:53:22 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 11:51:22.559 +02:00 [INF] Generating Validation headers.
2021-11-04 11:51:22.559 +02:00 [INF] Validation headers generated. ETag: Strong, "8434FF01C053F40FAB32E7B4875552FB". Last-Modified: Thu, 04 Nov 2021 09:51:22 GMT
2021-11-04 11:51:22.559 +02:00 [INF] Generating Vary header.
2021-11-04 11:51:22.559 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 11:51:22.559 +02:00 [INF] The response could not be cached for this request.
2021-11-04 11:51:22.560 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/RequestEvent/4 - - - 204 0 - 23.9669ms
2021-11-04 11:51:25.332 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/RequestEvent/4 - -
2021-11-04 11:51:25.333 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 11:51:25.333 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-04 11:51:25.333 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 11:51:25.333 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 11:51:25.333 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 11:51:25.333 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 11:51:25.333 +02:00 [INF] Request get:/api/requestevent/4 from IP ::1 has been blocked, quota 1/5s exceeded by 1. Blocked by rule *, TraceIdentifier 80000014-0001-ff00-b63f-84710c7967bb.
2021-11-04 11:51:25.333 +02:00 [INF] Generating expiration headers.
2021-11-04 11:51:25.333 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 09:53:25 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 11:51:25.333 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-04 11:51:25.333 +02:00 [INF] Generating Vary header.
2021-11-04 11:51:25.333 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 11:51:25.333 +02:00 [INF] The response could not be cached for this request.
2021-11-04 11:51:25.334 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/RequestEvent/4 - - - 429 - text/plain 1.4440ms
2021-11-04 11:51:29.419 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/RequestEvent/4 - -
2021-11-04 11:51:29.419 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 11:51:29.419 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-04 11:51:29.419 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 11:51:29.419 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 11:51:29.419 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 11:51:29.419 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 11:51:29.420 +02:00 [INF] Executing endpoint 'Minly.Controllers.RequestEventController.GetRequestEvent (Minly)'
2021-11-04 11:51:29.420 +02:00 [INF] Route matched with {action = "GetRequestEvent", controller = "RequestEvent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestEvent(Int32) on controller Minly.Controllers.RequestEventController (Minly).
2021-11-04 11:51:29.420 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-04 11:51:29.426 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ApiUserId], [r].[DateCreated], [r].[EventId], [r].[Price], [r].[Status], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status]
FROM [RequestEvents] AS [r]
LEFT JOIN [AspNetUsers] AS [a] ON [r].[ApiUserId] = [a].[Id]
INNER JOIN [Events] AS [e] ON [r].[EventId] = [e].[Id]
WHERE [r].[Id] = @__id_0
2021-11-04 11:51:29.427 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2021-11-04 11:51:29.428 +02:00 [INF] Executed action Minly.Controllers.RequestEventController.GetRequestEvent (Minly) in 7.5852ms
2021-11-04 11:51:29.428 +02:00 [INF] Executed endpoint 'Minly.Controllers.RequestEventController.GetRequestEvent (Minly)'
2021-11-04 11:51:29.428 +02:00 [INF] Generating expiration headers.
2021-11-04 11:51:29.428 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 09:53:29 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 11:51:29.428 +02:00 [INF] Generating Validation headers.
2021-11-04 11:51:29.428 +02:00 [INF] Validation headers generated. ETag: Strong, "8434FF01C053F40FAB32E7B4875552FB". Last-Modified: Thu, 04 Nov 2021 09:51:29 GMT
2021-11-04 11:51:29.428 +02:00 [INF] Generating Vary header.
2021-11-04 11:51:29.428 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 11:51:29.428 +02:00 [INF] The response could not be cached for this request.
2021-11-04 11:51:29.428 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/RequestEvent/4 - - - 204 0 - 9.1096ms
2021-11-04 11:51:31.216 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/RequestEvent/4 - -
2021-11-04 11:51:31.216 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 11:51:31.216 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-04 11:51:31.216 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 11:51:31.216 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 11:51:31.216 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 11:51:31.216 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 11:51:31.217 +02:00 [INF] Request get:/api/requestevent/4 from IP ::1 has been blocked, quota 1/5s exceeded by 1. Blocked by rule *, TraceIdentifier 80000016-0001-ff00-b63f-84710c7967bb.
2021-11-04 11:51:31.217 +02:00 [INF] Generating expiration headers.
2021-11-04 11:51:31.217 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 09:53:31 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 11:51:31.217 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-04 11:51:31.217 +02:00 [INF] Generating Vary header.
2021-11-04 11:51:31.217 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 11:51:31.217 +02:00 [INF] The response could not be cached for this request.
2021-11-04 11:51:31.217 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/RequestEvent/4 - - - 429 - text/plain 1.2929ms
2021-11-04 11:51:42.134 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/RequestEvent/1 - -
2021-11-04 11:51:42.134 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 11:51:42.134 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-04 11:51:42.134 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 11:51:42.135 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 11:51:42.135 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 11:51:42.135 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 11:51:42.135 +02:00 [INF] Executing endpoint 'Minly.Controllers.RequestEventController.GetRequestEvent (Minly)'
2021-11-04 11:51:42.135 +02:00 [INF] Route matched with {action = "GetRequestEvent", controller = "RequestEvent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestEvent(Int32) on controller Minly.Controllers.RequestEventController (Minly).
2021-11-04 11:51:42.136 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-04 11:51:42.141 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ApiUserId], [r].[DateCreated], [r].[EventId], [r].[Price], [r].[Status], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status]
FROM [RequestEvents] AS [r]
LEFT JOIN [AspNetUsers] AS [a] ON [r].[ApiUserId] = [a].[Id]
INNER JOIN [Events] AS [e] ON [r].[EventId] = [e].[Id]
WHERE [r].[Id] = @__id_0
2021-11-04 11:51:42.150 +02:00 [INF] Executing OkObjectResult, writing value of type 'Minly.Core.DTOs.RequestEventDTO'.
2021-11-04 11:51:42.162 +02:00 [INF] Executed action Minly.Controllers.RequestEventController.GetRequestEvent (Minly) in 26.8317ms
2021-11-04 11:51:42.162 +02:00 [INF] Executed endpoint 'Minly.Controllers.RequestEventController.GetRequestEvent (Minly)'
2021-11-04 11:51:42.162 +02:00 [INF] Generating expiration headers.
2021-11-04 11:51:42.162 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 09:53:42 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 11:51:42.162 +02:00 [INF] Generating Validation headers.
2021-11-04 11:51:42.162 +02:00 [INF] Validation headers generated. ETag: Strong, "B5127B5F0979AAD9543C1F34CA8B2171". Last-Modified: Thu, 04 Nov 2021 09:51:42 GMT
2021-11-04 11:51:42.162 +02:00 [INF] Generating Vary header.
2021-11-04 11:51:42.162 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 11:51:42.162 +02:00 [INF] The response could not be cached for this request.
2021-11-04 11:51:42.163 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/RequestEvent/1 - - - 200 1072 application/json;+charset=utf-8 28.6180ms
2021-11-04 11:52:34.508 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/RequestEvent/RequestsOfEvent/1 - -
2021-11-04 11:52:34.509 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 11:52:34.510 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-04 11:52:34.510 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 11:52:34.510 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 11:52:34.510 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 11:52:34.513 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 11:52:34.513 +02:00 [INF] Generating expiration headers.
2021-11-04 11:52:34.513 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 09:54:34 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 11:52:34.513 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-04 11:52:34.513 +02:00 [INF] Generating Vary header.
2021-11-04 11:52:34.513 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 11:52:34.514 +02:00 [INF] The response could not be cached for this request.
2021-11-04 11:52:34.516 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/RequestEvent/RequestsOfEvent/1 - - - 404 - - 7.7407ms
2021-11-04 11:52:41.073 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/RequestEvent/RequestsOfEvent/4 - -
2021-11-04 11:52:41.075 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 11:52:41.079 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-04 11:52:41.079 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 11:52:41.079 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 11:52:41.079 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 11:52:41.079 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 11:52:41.079 +02:00 [INF] Generating expiration headers.
2021-11-04 11:52:41.079 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 09:54:41 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 11:52:41.079 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-04 11:52:41.079 +02:00 [INF] Generating Vary header.
2021-11-04 11:52:41.079 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 11:52:41.079 +02:00 [INF] The response could not be cached for this request.
2021-11-04 11:52:41.129 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/RequestEvent/RequestsOfEvent/4 - - - 404 - - 56.1372ms
2021-11-04 11:52:59.391 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/RequestEvent/RequestsOfEvent/4 - -
2021-11-04 11:52:59.395 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 11:52:59.396 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-04 11:52:59.396 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 11:52:59.396 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 11:52:59.396 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 11:52:59.396 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 11:52:59.396 +02:00 [INF] Generating expiration headers.
2021-11-04 11:52:59.396 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 09:54:59 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 11:52:59.396 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-04 11:52:59.396 +02:00 [INF] Generating Vary header.
2021-11-04 11:52:59.396 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 11:52:59.396 +02:00 [INF] The response could not be cached for this request.
2021-11-04 11:52:59.398 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/RequestEvent/RequestsOfEvent/4 - - - 404 - - 7.0964ms
2021-11-04 11:53:21.050 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/api/RequestEvent?id=1 - -
2021-11-04 11:53:21.051 +02:00 [INF] No cached response available for this request.
2021-11-04 11:53:21.051 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 11:53:21.052 +02:00 [INF] No saved response found in store.
2021-11-04 11:53:21.052 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 11:53:21.052 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 11:53:21.052 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 11:53:21.052 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 11:53:21.053 +02:00 [INF] Executing endpoint 'Minly.Controllers.RequestEventController.RequestsOfEvent (Minly)'
2021-11-04 11:53:21.053 +02:00 [INF] Route matched with {action = "RequestsOfEvent", controller = "RequestEvent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestsOfEvent(Int32) on controller Minly.Controllers.RequestEventController (Minly).
2021-11-04 11:53:25.034 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-04 11:53:35.766 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[ApiUserId], [r].[DateCreated], [r].[EventId], [r].[Price], [r].[Status], [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status]
FROM [RequestEvents] AS [r]
INNER JOIN [Events] AS [e] ON [r].[EventId] = [e].[Id]
WHERE [r].[EventId] = @__id_0
2021-11-04 11:53:35.766 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Minly.Core.DTOs.RequestEventDTO, Minly.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-04 11:53:35.766 +02:00 [INF] Executed action Minly.Controllers.RequestEventController.RequestsOfEvent (Minly) in 14713.3833ms
2021-11-04 11:53:35.766 +02:00 [INF] Executed endpoint 'Minly.Controllers.RequestEventController.RequestsOfEvent (Minly)'
2021-11-04 11:53:35.766 +02:00 [INF] Generating expiration headers.
2021-11-04 11:53:35.766 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 09:55:35 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 11:53:35.767 +02:00 [INF] Generating Validation headers.
2021-11-04 11:53:35.767 +02:00 [INF] Validation headers generated. ETag: Strong, "A5D18EBF6CF71E9699A38B7B86040824". Last-Modified: Thu, 04 Nov 2021 09:53:35 GMT
2021-11-04 11:53:35.767 +02:00 [INF] Generating Vary header.
2021-11-04 11:53:35.767 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 11:53:35.767 +02:00 [INF] The response could not be cached for this request.
2021-11-04 11:53:35.768 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/api/RequestEvent?id=1 - - - 200 2 application/json;+charset=utf-8 14717.8863ms
2021-11-04 11:53:45.589 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/api/RequestEvent?id=4 - -
2021-11-04 11:53:45.589 +02:00 [INF] No cached response available for this request.
2021-11-04 11:53:45.590 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 11:53:45.591 +02:00 [INF] Checking If-None-Match.
2021-11-04 11:53:45.591 +02:00 [INF] Checking If-None-Match: "BB1EF42FC9CBF4E0A4CFF0990EF14C4E".
2021-11-04 11:53:45.592 +02:00 [INF] ETag valid: "BB1EF42FC9CBF4E0A4CFF0990EF14C4E".
2021-11-04 11:53:45.594 +02:00 [INF] Generating 304 - Not Modified.
2021-11-04 11:53:45.596 +02:00 [INF] Generation done. ETag: Strong, "BB1EF42FC9CBF4E0A4CFF0990EF14C4E", Last-Modified: Thu, 04 Nov 2021 09:46:40 GMT.
2021-11-04 11:53:45.596 +02:00 [INF] The response could not be cached for this request.
2021-11-04 11:53:45.597 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/api/RequestEvent?id=4 - - - 304 - - 7.9564ms
2021-11-04 11:55:11.520 +02:00 [INF] Application Is Starting
2021-11-04 11:55:14.467 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-04 11:55:15.071 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-04 11:55:15.072 +02:00 [INF] Hosting environment: Development
2021-11-04 11:55:15.072 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-04 11:55:15.129 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-04 11:55:15.308 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 181.7080ms
2021-11-04 11:55:15.550 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-04 11:55:15.744 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 193.2986ms
2021-11-04 11:55:29.923 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/api/RequestEvent/RequestsOfEvent?id=4 - -
2021-11-04 11:55:29.938 +02:00 [INF] No cached response available for this request.
2021-11-04 11:55:29.957 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 11:55:29.959 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-04 11:55:29.960 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 11:55:29.962 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 11:55:29.962 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 11:55:29.962 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 11:55:30.527 +02:00 [INF] Executing endpoint 'Minly.Controllers.RequestEventController.RequestsOfEvent (Minly)'
2021-11-04 11:55:30.581 +02:00 [INF] Route matched with {action = "RequestsOfEvent", controller = "RequestEvent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestsOfEvent(Int32) on controller Minly.Controllers.RequestEventController (Minly).
2021-11-04 11:55:34.568 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-04 11:55:35.752 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[ApiUserId], [r].[DateCreated], [r].[EventId], [r].[Price], [r].[Status], [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status]
FROM [RequestEvents] AS [r]
INNER JOIN [Events] AS [e] ON [r].[EventId] = [e].[Id]
WHERE [r].[EventId] = @__id_0
2021-11-04 11:55:35.834 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Minly.Core.DTOs.RequestEventDTO, Minly.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-04 11:55:36.053 +02:00 [INF] Executed action Minly.Controllers.RequestEventController.RequestsOfEvent (Minly) in 5467.7745ms
2021-11-04 11:55:36.054 +02:00 [INF] Executed endpoint 'Minly.Controllers.RequestEventController.RequestsOfEvent (Minly)'
2021-11-04 11:55:36.059 +02:00 [INF] Generating expiration headers.
2021-11-04 11:55:36.062 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 09:57:36 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 11:55:36.064 +02:00 [INF] Generating Validation headers.
2021-11-04 11:55:36.072 +02:00 [INF] Validation headers generated. ETag: Strong, "D249826A3F8CA4A3047E8BBC828BAFCB". Last-Modified: Thu, 04 Nov 2021 09:55:36 GMT
2021-11-04 11:55:36.072 +02:00 [INF] Generating Vary header.
2021-11-04 11:55:36.072 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 11:55:36.083 +02:00 [INF] The response could not be cached for this request.
2021-11-04 11:55:36.090 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/api/RequestEvent/RequestsOfEvent?id=4 - - - 200 464 application/json;+charset=utf-8 6167.3934ms
2021-11-04 11:56:23.445 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/RequestEvent/RequestsOfEvent?id=4%0A - -
2021-11-04 11:56:23.448 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 11:56:23.448 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-04 11:56:23.448 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 11:56:23.448 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 11:56:23.448 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 11:56:23.448 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 11:56:23.456 +02:00 [INF] Executing endpoint 'Minly.Controllers.RequestEventController.RequestsOfEvent (Minly)'
2021-11-04 11:56:23.457 +02:00 [INF] Route matched with {action = "RequestsOfEvent", controller = "RequestEvent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestsOfEvent(Int32) on controller Minly.Controllers.RequestEventController (Minly).
2021-11-04 11:56:25.112 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-04 11:56:25.125 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[ApiUserId], [r].[DateCreated], [r].[EventId], [r].[Price], [r].[Status], [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status]
FROM [RequestEvents] AS [r]
INNER JOIN [Events] AS [e] ON [r].[EventId] = [e].[Id]
WHERE [r].[EventId] = @__id_0
2021-11-04 11:56:25.127 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Minly.Core.DTOs.RequestEventDTO, Minly.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-04 11:56:25.127 +02:00 [INF] Executed action Minly.Controllers.RequestEventController.RequestsOfEvent (Minly) in 1669.8377ms
2021-11-04 11:56:25.127 +02:00 [INF] Executed endpoint 'Minly.Controllers.RequestEventController.RequestsOfEvent (Minly)'
2021-11-04 11:56:25.127 +02:00 [INF] Generating expiration headers.
2021-11-04 11:56:25.128 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 09:58:25 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 11:56:25.128 +02:00 [INF] Generating Validation headers.
2021-11-04 11:56:25.128 +02:00 [INF] Validation headers generated. ETag: Strong, "DCD4A758146F26D4B0EA2A185C2E870B". Last-Modified: Thu, 04 Nov 2021 09:56:25 GMT
2021-11-04 11:56:25.128 +02:00 [INF] Generating Vary header.
2021-11-04 11:56:25.128 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 11:56:25.128 +02:00 [INF] The response could not be cached for this request.
2021-11-04 11:56:25.129 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/RequestEvent/RequestsOfEvent?id=4%0A - - - 200 464 application/json;+charset=utf-8 1683.9692ms
2021-11-04 11:56:43.666 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/RequestEvent/RequestsOfEvent?id=4%0A - -
2021-11-04 11:56:43.668 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 11:56:43.668 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-04 11:56:43.668 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 11:56:43.668 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 11:56:43.668 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 11:56:43.668 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 11:56:43.672 +02:00 [INF] Executing endpoint 'Minly.Controllers.RequestEventController.RequestsOfEvent (Minly)'
2021-11-04 11:56:43.673 +02:00 [INF] Route matched with {action = "RequestsOfEvent", controller = "RequestEvent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestsOfEvent(Int32) on controller Minly.Controllers.RequestEventController (Minly).
2021-11-04 11:57:10.429 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-04 11:57:10.441 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[ApiUserId], [r].[DateCreated], [r].[EventId], [r].[Price], [r].[Status], [e].[Id], [e].[Date], [e].[Description], [e].[Description_ar], [e].[EventTypeId], [e].[Image], [e].[Name], [e].[Name_ar], [e].[Rate], [e].[Status]
FROM [RequestEvents] AS [r]
INNER JOIN [Events] AS [e] ON [r].[EventId] = [e].[Id]
WHERE [r].[EventId] = @__id_0
2021-11-04 11:57:10.442 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Minly.Core.DTOs.RequestEventDTO, Minly.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-04 11:57:10.442 +02:00 [INF] Executed action Minly.Controllers.RequestEventController.RequestsOfEvent (Minly) in 26769.4096ms
2021-11-04 11:57:10.442 +02:00 [INF] Executed endpoint 'Minly.Controllers.RequestEventController.RequestsOfEvent (Minly)'
2021-11-04 11:57:10.442 +02:00 [INF] Generating expiration headers.
2021-11-04 11:57:10.442 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 09:59:10 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 11:57:10.442 +02:00 [INF] Generating Validation headers.
2021-11-04 11:57:10.442 +02:00 [INF] Validation headers generated. ETag: Strong, "DCD4A758146F26D4B0EA2A185C2E870B". Last-Modified: Thu, 04 Nov 2021 09:57:10 GMT
2021-11-04 11:57:10.442 +02:00 [INF] Generating Vary header.
2021-11-04 11:57:10.442 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 11:57:10.443 +02:00 [INF] The response could not be cached for this request.
2021-11-04 11:57:10.443 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/RequestEvent/RequestsOfEvent?id=4%0A - - - 200 464 application/json;+charset=utf-8 26776.9187ms
2021-11-04 12:05:53.462 +02:00 [INF] Application Is Starting
2021-11-04 12:05:57.085 +02:00 [INF] User profile is available. Using 'C:\Users\Abdelrahman\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-04 12:05:57.844 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-04 12:05:57.844 +02:00 [INF] Hosting environment: Development
2021-11-04 12:05:57.844 +02:00 [INF] Content root path: H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly
2021-11-04 12:05:57.902 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/index.html - -
2021-11-04 12:05:58.069 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/index.html - - - 200 - text/html;charset=utf-8 166.2434ms
2021-11-04 12:05:58.480 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - -
2021-11-04 12:05:58.701 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44379/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 221.3180ms
2021-11-04 12:07:02.808 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/RequestStar/RequestsOfStar?id=4%0A - -
2021-11-04 12:07:02.886 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 12:07:02.894 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-04 12:07:02.895 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 12:07:02.897 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 12:07:02.897 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 12:07:02.897 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 12:07:03.812 +02:00 [INF] Executing endpoint 'Minly.Controllers.RequestStarController.RequestsOfStar (Minly)'
2021-11-04 12:07:03.858 +02:00 [INF] Route matched with {action = "RequestsOfStar", controller = "RequestStar"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestsOfStar(Int32) on controller Minly.Controllers.RequestStarController (Minly).
2021-11-04 12:07:05.937 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-04 12:07:07.323 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[ApiUserId], [r].[DateCreated], [r].[Price], [r].[StarId], [r].[Status], [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime]
FROM [RequestStars] AS [r]
INNER JOIN [Stars] AS [s] ON [r].[StarId] = [s].[Id]
WHERE [r].[StarId] = @__id_0
2021-11-04 12:07:07.422 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Minly.Core.DTOs.RequestStarDTO, Minly.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-04 12:07:07.666 +02:00 [INF] Executed action Minly.Controllers.RequestStarController.RequestsOfStar (Minly) in 3803.0994ms
2021-11-04 12:07:07.668 +02:00 [INF] Executed endpoint 'Minly.Controllers.RequestStarController.RequestsOfStar (Minly)'
2021-11-04 12:07:07.673 +02:00 [INF] Generating expiration headers.
2021-11-04 12:07:07.675 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 10:09:07 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 12:07:07.677 +02:00 [INF] Generating Validation headers.
2021-11-04 12:07:07.686 +02:00 [INF] Validation headers generated. ETag: Strong, "56CCD1D968265FDA6DB4E4E12B63A87E". Last-Modified: Thu, 04 Nov 2021 10:07:07 GMT
2021-11-04 12:07:07.687 +02:00 [INF] Generating Vary header.
2021-11-04 12:07:07.687 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 12:07:07.730 +02:00 [INF] The response could not be cached for this request.
2021-11-04 12:07:07.739 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/RequestStar/RequestsOfStar?id=4%0A - - - 200 2 application/json;+charset=utf-8 4930.6264ms
2021-11-04 12:07:23.979 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/RequestStar/RequestsOfStar/4 - -
2021-11-04 12:07:23.979 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 12:07:23.980 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-04 12:07:23.980 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 12:07:23.980 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 12:07:23.980 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 12:07:23.980 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 12:07:23.984 +02:00 [INF] Generating expiration headers.
2021-11-04 12:07:23.984 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 10:09:23 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 12:07:23.984 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-04 12:07:23.984 +02:00 [INF] Generating Vary header.
2021-11-04 12:07:23.984 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 12:07:23.984 +02:00 [INF] The response could not be cached for this request.
2021-11-04 12:07:23.987 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/RequestStar/RequestsOfStar/4 - - - 404 - - 7.6242ms
2021-11-04 12:07:31.513 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/RequestStar application/json 158
2021-11-04 12:07:31.514 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 12:07:31.514 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-04 12:07:31.514 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 12:07:31.514 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 12:07:31.514 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 12:07:31.514 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 12:07:31.831 +02:00 [INF] Successfully validated the token.
2021-11-04 12:07:31.838 +02:00 [INF] Authorization was successful.
2021-11-04 12:07:31.839 +02:00 [INF] Executing endpoint 'Minly.Controllers.RequestStarController.CreateRequestStar (Minly)'
2021-11-04 12:07:31.842 +02:00 [INF] Route matched with {action = "CreateRequestStar", controller = "RequestStar"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRequestStar(Minly.Core.DTOs.CreateRequestStarDTO) on controller Minly.Controllers.RequestStarController (Minly).
2021-11-04 12:07:31.963 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-04 12:07:31.997 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__createRequestStar_StarId_0='?' (DbType = Int32), @__createRequestStar_ApiUserId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ApiUserId], [r].[DateCreated], [r].[Price], [r].[StarId], [r].[Status]
FROM [RequestStars] AS [r]
WHERE ([r].[StarId] = @__createRequestStar_StarId_0) AND ([r].[ApiUserId] = @__createRequestStar_ApiUserId_1)
2021-11-04 12:07:32.345 +02:00 [ERR] Failed executing DbCommand (38ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Double), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RequestStars] ([ApiUserId], [DateCreated], [Price], [StarId], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [RequestStars]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-04 12:07:32.472 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'Minly.Data.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_RequestStars_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1f8fc349-f50b-4f40-9250-97bd86fc4e6e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_RequestStars_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1f8fc349-f50b-4f40-9250-97bd86fc4e6e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2021-11-04 12:07:32.843 +02:00 [INF] Executed action Minly.Controllers.RequestStarController.CreateRequestStar (Minly) in 1000.7404ms
2021-11-04 12:07:32.844 +02:00 [INF] Executed endpoint 'Minly.Controllers.RequestStarController.CreateRequestStar (Minly)'
2021-11-04 12:07:32.847 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_RequestStars_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1f8fc349-f50b-4f40-9250-97bd86fc4e6e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Minly.Core.Repository.UnitOfWork.Save() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\UnitOfWork.cs:line 55
   at Minly.Controllers.RequestStarController.CreateRequestStar(CreateRequestStarDTO createRequestStar) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\RequestStarController.cs:line 78
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2021-11-04 12:07:32.958 +02:00 [ERR] Something Went Wrong in the Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_RequestStars_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1f8fc349-f50b-4f40-9250-97bd86fc4e6e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Minly.Core.Repository.UnitOfWork.Save() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\UnitOfWork.cs:line 55
   at Minly.Controllers.RequestStarController.CreateRequestStar(CreateRequestStarDTO createRequestStar) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\RequestStarController.cs:line 78
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2021-11-04 12:07:33.318 +02:00 [ERR] An exception was thrown attempting to execute the error handler.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, CancellationToken cancellationToken)
   at Minly.Core.ServiceExtensions.<>c.<<ConfigureExceptionHandler>b__2_1>d.MoveNext() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\ServiceExtensions.cs:line 71
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
2021-11-04 12:07:33.322 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_RequestStars_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1f8fc349-f50b-4f40-9250-97bd86fc4e6e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Minly.Core.Repository.UnitOfWork.Save() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\UnitOfWork.cs:line 55
   at Minly.Controllers.RequestStarController.CreateRequestStar(CreateRequestStarDTO createRequestStar) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\RequestStarController.cs:line 78
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-04 12:07:33.350 +02:00 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-04 12:07:33.351 +02:00 [ERR] Connection ID "18302628900129210375", Request ID "8000000a-0003-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_RequestStars_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1f8fc349-f50b-4f40-9250-97bd86fc4e6e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Minly.Core.Repository.UnitOfWork.Save() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\UnitOfWork.cs:line 55
   at Minly.Controllers.RequestStarController.CreateRequestStar(CreateRequestStarDTO createRequestStar) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\RequestStarController.cs:line 78
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2021-11-04 12:07:33.364 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/RequestStar application/json 158 - 500 - - 1851.1611ms
2021-11-04 12:07:54.356 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/RequestStar application/json 157
2021-11-04 12:07:54.357 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 12:07:54.357 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-04 12:07:54.357 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 12:07:54.358 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 12:07:54.358 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 12:07:54.362 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 12:07:54.364 +02:00 [INF] Successfully validated the token.
2021-11-04 12:07:54.368 +02:00 [INF] Authorization was successful.
2021-11-04 12:07:54.368 +02:00 [INF] Executing endpoint 'Minly.Controllers.RequestStarController.CreateRequestStar (Minly)'
2021-11-04 12:07:54.369 +02:00 [INF] Route matched with {action = "CreateRequestStar", controller = "RequestStar"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRequestStar(Minly.Core.DTOs.CreateRequestStarDTO) on controller Minly.Controllers.RequestStarController (Minly).
2021-11-04 12:07:54.380 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-04 12:07:54.391 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__createRequestStar_StarId_0='?' (DbType = Int32), @__createRequestStar_ApiUserId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ApiUserId], [r].[DateCreated], [r].[Price], [r].[StarId], [r].[Status]
FROM [RequestStars] AS [r]
WHERE ([r].[StarId] = @__createRequestStar_StarId_0) AND ([r].[ApiUserId] = @__createRequestStar_ApiUserId_1)
2021-11-04 12:07:54.401 +02:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Double), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RequestStars] ([ApiUserId], [DateCreated], [Price], [StarId], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [RequestStars]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-04 12:07:54.404 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'Minly.Data.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_RequestStars_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1f8fc349-f50b-4f40-9250-97bd86fc4e6e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_RequestStars_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1f8fc349-f50b-4f40-9250-97bd86fc4e6e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2021-11-04 12:07:54.569 +02:00 [INF] Executed action Minly.Controllers.RequestStarController.CreateRequestStar (Minly) in 200.593ms
2021-11-04 12:07:54.570 +02:00 [INF] Executed endpoint 'Minly.Controllers.RequestStarController.CreateRequestStar (Minly)'
2021-11-04 12:07:54.571 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_RequestStars_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1f8fc349-f50b-4f40-9250-97bd86fc4e6e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Minly.Core.Repository.UnitOfWork.Save() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\UnitOfWork.cs:line 55
   at Minly.Controllers.RequestStarController.CreateRequestStar(CreateRequestStarDTO createRequestStar) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\RequestStarController.cs:line 78
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2021-11-04 12:07:54.574 +02:00 [ERR] Something Went Wrong in the Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_RequestStars_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1f8fc349-f50b-4f40-9250-97bd86fc4e6e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Minly.Core.Repository.UnitOfWork.Save() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\UnitOfWork.cs:line 55
   at Minly.Controllers.RequestStarController.CreateRequestStar(CreateRequestStarDTO createRequestStar) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\RequestStarController.cs:line 78
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2021-11-04 12:07:54.798 +02:00 [ERR] An exception was thrown attempting to execute the error handler.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, CancellationToken cancellationToken)
   at Minly.Core.ServiceExtensions.<>c.<<ConfigureExceptionHandler>b__2_1>d.MoveNext() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\ServiceExtensions.cs:line 71
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
2021-11-04 12:07:54.800 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_RequestStars_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1f8fc349-f50b-4f40-9250-97bd86fc4e6e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Minly.Core.Repository.UnitOfWork.Save() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\UnitOfWork.cs:line 55
   at Minly.Controllers.RequestStarController.CreateRequestStar(CreateRequestStarDTO createRequestStar) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\RequestStarController.cs:line 78
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-04 12:07:54.807 +02:00 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-04 12:07:54.808 +02:00 [ERR] Connection ID "18302628900129210375", Request ID "8000000b-0003-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_RequestStars_Stars_StarId". The conflict occurred in database "Minly", table "dbo.Stars", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1f8fc349-f50b-4f40-9250-97bd86fc4e6e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Minly.Core.Repository.UnitOfWork.Save() in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly.Core\Repository\UnitOfWork.cs:line 55
   at Minly.Controllers.RequestStarController.CreateRequestStar(CreateRequestStarDTO createRequestStar) in H:\Testing\Abdelrahman\HotelListing-API-dotnet5-master\Minly\Controllers\RequestStarController.cs:line 78
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2021-11-04 12:07:54.811 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/RequestStar application/json 157 - 500 - - 454.8841ms
2021-11-04 12:08:32.367 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/RequestStar application/json 157
2021-11-04 12:08:32.368 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 12:08:32.371 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-04 12:08:32.371 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 12:08:32.371 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 12:08:32.371 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 12:08:32.371 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 12:08:32.373 +02:00 [INF] Successfully validated the token.
2021-11-04 12:08:32.373 +02:00 [INF] Authorization was successful.
2021-11-04 12:08:32.373 +02:00 [INF] Executing endpoint 'Minly.Controllers.RequestStarController.CreateRequestStar (Minly)'
2021-11-04 12:08:32.374 +02:00 [INF] Route matched with {action = "CreateRequestStar", controller = "RequestStar"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRequestStar(Minly.Core.DTOs.CreateRequestStarDTO) on controller Minly.Controllers.RequestStarController (Minly).
2021-11-04 12:08:32.375 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-04 12:08:32.382 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__createRequestStar_StarId_0='?' (DbType = Int32), @__createRequestStar_ApiUserId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ApiUserId], [r].[DateCreated], [r].[Price], [r].[StarId], [r].[Status]
FROM [RequestStars] AS [r]
WHERE ([r].[StarId] = @__createRequestStar_StarId_0) AND ([r].[ApiUserId] = @__createRequestStar_ApiUserId_1)
2021-11-04 12:08:32.385 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Double), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RequestStars] ([ApiUserId], [DateCreated], [Price], [StarId], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [RequestStars]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-04 12:08:32.436 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'Minly.Data.RequestStar'.
2021-11-04 12:08:32.485 +02:00 [INF] Executed action Minly.Controllers.RequestStarController.CreateRequestStar (Minly) in 111.6703ms
2021-11-04 12:08:32.485 +02:00 [INF] Executed endpoint 'Minly.Controllers.RequestStarController.CreateRequestStar (Minly)'
2021-11-04 12:08:32.486 +02:00 [INF] Generating expiration headers.
2021-11-04 12:08:32.486 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 10:10:32 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 12:08:32.486 +02:00 [INF] Generating Validation headers.
2021-11-04 12:08:32.486 +02:00 [INF] Validation headers generated. ETag: Strong, "38ABA14510AEAB674F477CE98E50A694". Last-Modified: Thu, 04 Nov 2021 10:08:32 GMT
2021-11-04 12:08:32.486 +02:00 [INF] Generating Vary header.
2021-11-04 12:08:32.486 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 12:08:32.486 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/RequestStar application/json 157 - 201 166 application/json;+charset=utf-8 119.1847ms
2021-11-04 12:08:51.549 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/RequestStar/RequestsOfStar/1 - -
2021-11-04 12:08:51.549 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 12:08:51.549 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-04 12:08:51.549 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 12:08:51.549 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 12:08:51.549 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 12:08:51.549 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 12:08:51.549 +02:00 [INF] Generating expiration headers.
2021-11-04 12:08:51.549 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 10:10:51 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 12:08:51.549 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-04 12:08:51.549 +02:00 [INF] Generating Vary header.
2021-11-04 12:08:51.550 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 12:08:51.550 +02:00 [INF] The response could not be cached for this request.
2021-11-04 12:08:51.551 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/RequestStar/RequestsOfStar/1 - - - 404 - - 2.1346ms
2021-11-04 12:08:53.619 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/RequestStar/RequestsOfStar/1 - -
2021-11-04 12:08:53.620 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 12:08:53.620 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-04 12:08:53.620 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 12:08:53.620 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 12:08:53.620 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 12:08:53.620 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 12:08:53.621 +02:00 [INF] Request get:/api/requeststar/requestsofstar/1 from IP ::1 has been blocked, quota 1/5s exceeded by 1. Blocked by rule *, TraceIdentifier 8000000e-0003-fe00-b63f-84710c7967bb.
2021-11-04 12:08:53.622 +02:00 [INF] Generating expiration headers.
2021-11-04 12:08:53.622 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 10:10:53 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 12:08:53.622 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-04 12:08:53.623 +02:00 [INF] Generating Vary header.
2021-11-04 12:08:53.623 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 12:08:53.625 +02:00 [INF] The response could not be cached for this request.
2021-11-04 12:08:53.626 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/RequestStar/RequestsOfStar/1 - - - 429 - text/plain 6.4749ms
2021-11-04 12:09:14.041 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/RequestStar/RequestsOfStar/1 - -
2021-11-04 12:09:14.044 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 12:09:14.045 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-04 12:09:14.045 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 12:09:14.045 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 12:09:14.045 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 12:09:14.045 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 12:09:14.051 +02:00 [INF] Generating expiration headers.
2021-11-04 12:09:14.051 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 10:11:14 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 12:09:14.051 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-04 12:09:14.051 +02:00 [INF] Generating Vary header.
2021-11-04 12:09:14.051 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 12:09:14.051 +02:00 [INF] The response could not be cached for this request.
2021-11-04 12:09:14.052 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/RequestStar/RequestsOfStar/1 - - - 404 - - 10.3656ms
2021-11-04 12:09:37.706 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44379/api/RequestStar/RequestsOfStar?id=1 - -
2021-11-04 12:09:37.706 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 12:09:37.707 +02:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2021-11-04 12:09:37.707 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 12:09:37.707 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 12:09:37.710 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 12:09:37.710 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 12:09:37.711 +02:00 [INF] Executing endpoint 'Minly.Controllers.RequestStarController.RequestsOfStar (Minly)'
2021-11-04 12:09:37.711 +02:00 [INF] Route matched with {action = "RequestsOfStar", controller = "RequestStar"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestsOfStar(Int32) on controller Minly.Controllers.RequestStarController (Minly).
2021-11-04 12:09:37.712 +02:00 [INF] Entity Framework Core 5.0.2 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-04 12:09:37.727 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[ApiUserId], [r].[DateCreated], [r].[Price], [r].[StarId], [r].[Status], [s].[Id], [s].[Description], [s].[Description_ar], [s].[Image], [s].[Name], [s].[Name_ar], [s].[Rate], [s].[ResponseTime]
FROM [RequestStars] AS [r]
INNER JOIN [Stars] AS [s] ON [r].[StarId] = [s].[Id]
WHERE [r].[StarId] = @__id_0
2021-11-04 12:09:38.054 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Minly.Core.DTOs.RequestStarDTO, Minly.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-04 12:09:38.062 +02:00 [INF] Executed action Minly.Controllers.RequestStarController.RequestsOfStar (Minly) in 351.4861ms
2021-11-04 12:09:38.062 +02:00 [INF] Executed endpoint 'Minly.Controllers.RequestStarController.RequestsOfStar (Minly)'
2021-11-04 12:09:38.062 +02:00 [INF] Generating expiration headers.
2021-11-04 12:09:38.063 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 10:11:38 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 12:09:38.063 +02:00 [INF] Generating Validation headers.
2021-11-04 12:09:38.063 +02:00 [INF] Validation headers generated. ETag: Strong, "3A72E322DA17703C4D6248FF6B47661F". Last-Modified: Thu, 04 Nov 2021 10:09:38 GMT
2021-11-04 12:09:38.063 +02:00 [INF] Generating Vary header.
2021-11-04 12:09:38.063 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 12:09:38.063 +02:00 [INF] The response could not be cached for this request.
2021-11-04 12:09:38.063 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44379/api/RequestStar/RequestsOfStar?id=1 - - - 200 391 application/json;+charset=utf-8 357.6308ms
2021-11-04 12:13:04.357 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44379/api/RequestStar application/json 157
2021-11-04 12:13:04.357 +02:00 [INF] Checking for conditional GET/HEAD.
2021-11-04 12:13:04.357 +02:00 [INF] Not valid - method isn't GET or HEAD.
2021-11-04 12:13:04.357 +02:00 [INF] Don't generate 304 - Not Modified.  Continue.
2021-11-04 12:13:04.357 +02:00 [INF] Checking for conditional PUT/PATCH.
2021-11-04 12:13:04.358 +02:00 [INF] Not valid - method isn't PUT or PATCH.
2021-11-04 12:13:04.358 +02:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2021-11-04 12:13:04.367 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-04 12:13:04.372 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2021-11-04 12:13:04.373 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-11-04 12:13:04.386 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-04 12:13:04.386 +02:00 [INF] Generating expiration headers.
2021-11-04 12:13:04.386 +02:00 [INF] Expiration headers generated. Expires: Thu, 04 Nov 2021 10:15:04 GMT. Cache-Control: private,max-age=120,must-revalidate.
2021-11-04 12:13:04.386 +02:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2021-11-04 12:13:04.386 +02:00 [INF] Generating Vary header.
2021-11-04 12:13:04.386 +02:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2021-11-04 12:13:04.388 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44379/api/RequestStar application/json 157 - 401 - - 30.0569ms
